(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function L2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kp={exports:{}},Iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function U2(){if(mE)return Iu;mE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Iu.Fragment=t,Iu.jsx=n,Iu.jsxs=n,Iu}var pE;function j2(){return pE||(pE=1,kp.exports=U2()),kp.exports}var x=j2(),Lp={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function B2(){if(gE)return Ct;gE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(V){return V===null||typeof V!="object"?null:(V=_&&V[_]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,z={};function M(V,st,ct){this.props=V,this.context=st,this.refs=z,this.updater=ct||S}M.prototype.isReactComponent={},M.prototype.setState=function(V,st){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,st,"setState")},M.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function G(){}G.prototype=M.prototype;function Y(V,st,ct){this.props=V,this.context=st,this.refs=z,this.updater=ct||S}var X=Y.prototype=new G;X.constructor=Y,P(X,M.prototype),X.isPureReactComponent=!0;var at=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},ht=Object.prototype.hasOwnProperty;function N(V,st,ct,lt,gt,Mt){return ct=Mt.ref,{$$typeof:e,type:V,key:st,ref:ct!==void 0?ct:null,props:Mt}}function R(V,st){return N(V.type,st,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function L(V){var st={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ct){return st[ct]})}var O=/\/+/g;function B(V,st){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):st.toString(36)}function D(){}function ne(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(st){V.status==="pending"&&(V.status="fulfilled",V.value=st)},function(st){V.status==="pending"&&(V.status="rejected",V.reason=st)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Wt(V,st,ct,lt,gt){var Mt=typeof V;(Mt==="undefined"||Mt==="boolean")&&(V=null);var bt=!1;if(V===null)bt=!0;else switch(Mt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(V.$$typeof){case e:case t:bt=!0;break;case y:return bt=V._init,Wt(bt(V._payload),st,ct,lt,gt)}}if(bt)return gt=gt(V),bt=lt===""?"."+B(V,0):lt,at(gt)?(ct="",bt!=null&&(ct=bt.replace(O,"$&/")+"/"),Wt(gt,st,ct,"",function(Jn){return Jn})):gt!=null&&(C(gt)&&(gt=R(gt,ct+(gt.key==null||V&&V.key===gt.key?"":(""+gt.key).replace(O,"$&/")+"/")+bt)),st.push(gt)),1;bt=0;var He=lt===""?".":lt+":";if(at(V))for(var Kt=0;Kt<V.length;Kt++)lt=V[Kt],Mt=He+B(lt,Kt),bt+=Wt(lt,st,ct,Mt,gt);else if(Kt=E(V),typeof Kt=="function")for(V=Kt.call(V),Kt=0;!(lt=V.next()).done;)lt=lt.value,Mt=He+B(lt,Kt++),bt+=Wt(lt,st,ct,Mt,gt);else if(Mt==="object"){if(typeof V.then=="function")return Wt(ne(V),st,ct,lt,gt);throw st=String(V),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return bt}function W(V,st,ct){if(V==null)return V;var lt=[],gt=0;return Wt(V,lt,"","",function(Mt){return st.call(ct,Mt,gt++)}),lt}function rt(V){if(V._status===-1){var st=V._result;st=st(),st.then(function(ct){(V._status===0||V._status===-1)&&(V._status=1,V._result=ct)},function(ct){(V._status===0||V._status===-1)&&(V._status=2,V._result=ct)}),V._status===-1&&(V._status=0,V._result=st)}if(V._status===1)return V._result.default;throw V._result}var dt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function It(){}return Ct.Children={map:W,forEach:function(V,st,ct){W(V,function(){st.apply(this,arguments)},ct)},count:function(V){var st=0;return W(V,function(){st++}),st},toArray:function(V){return W(V,function(st){return st})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ct.Component=M,Ct.Fragment=n,Ct.Profiler=a,Ct.PureComponent=Y,Ct.StrictMode=s,Ct.Suspense=m,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(V){return nt.H.useMemoCache(V)}},Ct.cache=function(V){return function(){return V.apply(null,arguments)}},Ct.cloneElement=function(V,st,ct){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var lt=P({},V.props),gt=V.key,Mt=void 0;if(st!=null)for(bt in st.ref!==void 0&&(Mt=void 0),st.key!==void 0&&(gt=""+st.key),st)!ht.call(st,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&st.ref===void 0||(lt[bt]=st[bt]);var bt=arguments.length-2;if(bt===1)lt.children=ct;else if(1<bt){for(var He=Array(bt),Kt=0;Kt<bt;Kt++)He[Kt]=arguments[Kt+2];lt.children=He}return N(V.type,gt,void 0,void 0,Mt,lt)},Ct.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ct.createElement=function(V,st,ct){var lt,gt={},Mt=null;if(st!=null)for(lt in st.key!==void 0&&(Mt=""+st.key),st)ht.call(st,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(gt[lt]=st[lt]);var bt=arguments.length-2;if(bt===1)gt.children=ct;else if(1<bt){for(var He=Array(bt),Kt=0;Kt<bt;Kt++)He[Kt]=arguments[Kt+2];gt.children=He}if(V&&V.defaultProps)for(lt in bt=V.defaultProps,bt)gt[lt]===void 0&&(gt[lt]=bt[lt]);return N(V,Mt,void 0,void 0,null,gt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(V){return{$$typeof:d,render:V}},Ct.isValidElement=C,Ct.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:rt}},Ct.memo=function(V,st){return{$$typeof:p,type:V,compare:st===void 0?null:st}},Ct.startTransition=function(V){var st=nt.T,ct={};nt.T=ct;try{var lt=V(),gt=nt.S;gt!==null&&gt(ct,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(It,dt)}catch(Mt){dt(Mt)}finally{nt.T=st}},Ct.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},Ct.use=function(V){return nt.H.use(V)},Ct.useActionState=function(V,st,ct){return nt.H.useActionState(V,st,ct)},Ct.useCallback=function(V,st){return nt.H.useCallback(V,st)},Ct.useContext=function(V){return nt.H.useContext(V)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(V,st){return nt.H.useDeferredValue(V,st)},Ct.useEffect=function(V,st,ct){var lt=nt.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(V,st)},Ct.useId=function(){return nt.H.useId()},Ct.useImperativeHandle=function(V,st,ct){return nt.H.useImperativeHandle(V,st,ct)},Ct.useInsertionEffect=function(V,st){return nt.H.useInsertionEffect(V,st)},Ct.useLayoutEffect=function(V,st){return nt.H.useLayoutEffect(V,st)},Ct.useMemo=function(V,st){return nt.H.useMemo(V,st)},Ct.useOptimistic=function(V,st){return nt.H.useOptimistic(V,st)},Ct.useReducer=function(V,st,ct){return nt.H.useReducer(V,st,ct)},Ct.useRef=function(V){return nt.H.useRef(V)},Ct.useState=function(V){return nt.H.useState(V)},Ct.useSyncExternalStore=function(V,st,ct){return nt.H.useSyncExternalStore(V,st,ct)},Ct.useTransition=function(){return nt.H.useTransition()},Ct.version="19.1.1",Ct}var yE;function yy(){return yE||(yE=1,Lp.exports=B2()),Lp.exports}var k=yy();const Va=L2(k);var Up={exports:{}},Du={},jp={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function z2(){return vE||(vE=1,(function(e){function t(W,rt){var dt=W.length;W.push(rt);t:for(;0<dt;){var It=dt-1>>>1,V=W[It];if(0<a(V,rt))W[It]=rt,W[dt]=V,dt=It;else break t}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var rt=W[0],dt=W.pop();if(dt!==rt){W[0]=dt;t:for(var It=0,V=W.length,st=V>>>1;It<st;){var ct=2*(It+1)-1,lt=W[ct],gt=ct+1,Mt=W[gt];if(0>a(lt,dt))gt<V&&0>a(Mt,lt)?(W[It]=Mt,W[gt]=dt,It=gt):(W[It]=lt,W[ct]=dt,It=ct);else if(gt<V&&0>a(Mt,dt))W[It]=Mt,W[gt]=dt,It=gt;else break t}}return rt}function a(W,rt){var dt=W.sortIndex-rt.sortIndex;return dt!==0?dt:W.id-rt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,_=null,E=3,S=!1,P=!1,z=!1,M=!1,G=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function at(W){for(var rt=n(p);rt!==null;){if(rt.callback===null)s(p);else if(rt.startTime<=W)s(p),rt.sortIndex=rt.expirationTime,t(m,rt);else break;rt=n(p)}}function nt(W){if(z=!1,at(W),!P)if(n(m)!==null)P=!0,ht||(ht=!0,B());else{var rt=n(p);rt!==null&&Wt(nt,rt.startTime-W)}}var ht=!1,N=-1,R=5,C=-1;function L(){return M?!0:!(e.unstable_now()-C<R)}function O(){if(M=!1,ht){var W=e.unstable_now();C=W;var rt=!0;try{t:{P=!1,z&&(z=!1,Y(N),N=-1),S=!0;var dt=E;try{e:{for(at(W),_=n(m);_!==null&&!(_.expirationTime>W&&L());){var It=_.callback;if(typeof It=="function"){_.callback=null,E=_.priorityLevel;var V=It(_.expirationTime<=W);if(W=e.unstable_now(),typeof V=="function"){_.callback=V,at(W),rt=!0;break e}_===n(m)&&s(m),at(W)}else s(m);_=n(m)}if(_!==null)rt=!0;else{var st=n(p);st!==null&&Wt(nt,st.startTime-W),rt=!1}}break t}finally{_=null,E=dt,S=!1}rt=void 0}}finally{rt?B():ht=!1}}}var B;if(typeof X=="function")B=function(){X(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ne=D.port2;D.port1.onmessage=O,B=function(){ne.postMessage(null)}}else B=function(){G(O,0)};function Wt(W,rt){N=G(function(){W(e.unstable_now())},rt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(W){switch(E){case 1:case 2:case 3:var rt=3;break;default:rt=E}var dt=E;E=rt;try{return W()}finally{E=dt}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(W,rt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var dt=E;E=W;try{return rt()}finally{E=dt}},e.unstable_scheduleCallback=function(W,rt,dt){var It=e.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?It+dt:It):dt=It,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=dt+V,W={id:y++,callback:rt,priorityLevel:W,startTime:dt,expirationTime:V,sortIndex:-1},dt>It?(W.sortIndex=dt,t(p,W),n(m)===null&&W===n(p)&&(z?(Y(N),N=-1):z=!0,Wt(nt,dt-It))):(W.sortIndex=V,t(m,W),P||S||(P=!0,ht||(ht=!0,B()))),W},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(W){var rt=E;return function(){var dt=E;E=rt;try{return W.apply(this,arguments)}finally{E=dt}}}})(Bp)),Bp}var _E;function F2(){return _E||(_E=1,jp.exports=z2()),jp.exports}var zp={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function q2(){if(TE)return sn;TE=1;var e=yy();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},sn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},sn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},sn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},sn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:S}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},sn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},sn.requestFormReset=function(m){s.d.r(m)},sn.unstable_batchedUpdates=function(m,p){return m(p)},sn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.1.1",sn}var EE;function H2(){if(EE)return zp.exports;EE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zp.exports=q2(),zp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function G2(){if(bE)return Du;bE=1;var e=F2(),t=yy(),n=H2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),i;if(g===u)return d(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var b=!1,w=f.child;w;){if(w===o){b=!0,o=f,u=g;break}if(w===u){b=!0,u=f,o=g;break}w=w.sibling}if(!b){for(w=g.child;w;){if(w===o){b=!0,o=g,u=f;break}if(w===u){b=!0,u=g,o=f;break}w=w.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),X=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function ne(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case M:return"Profiler";case z:return"StrictMode";case nt:return"Suspense";case ht:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case X:return(i.displayName||"Context")+".Provider";case Y:return(i._context.displayName||"Context")+".Consumer";case at:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:ne(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return ne(i(r))}catch{}}return null}var Wt=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},It=[],V=-1;function st(i){return{current:i}}function ct(i){0>V||(i.current=It[V],It[V]=null,V--)}function lt(i,r){V++,It[V]=i.current,i.current=r}var gt=st(null),Mt=st(null),bt=st(null),He=st(null);function Kt(i,r){switch(lt(bt,r),lt(Mt,i),lt(gt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?FT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=FT(r),i=qT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ct(gt),lt(gt,i)}function Jn(){ct(gt),ct(Mt),ct(bt)}function wl(i){i.memoizedState!==null&&lt(He,i);var r=gt.current,o=qT(r,i.type);r!==o&&(lt(Mt,i),lt(gt,o))}function Qa(i){Mt.current===i&&(ct(gt),ct(Mt)),He.current===i&&(ct(He),Au._currentValue=dt)}var Xa=Object.prototype.hasOwnProperty,qr=e.unstable_scheduleCallback,Wa=e.unstable_cancelCallback,Ld=e.unstable_shouldYield,Al=e.unstable_requestPaint,gn=e.unstable_now,jc=e.unstable_getCurrentPriorityLevel,Pe=e.unstable_ImmediatePriority,Ue=e.unstable_UserBlockingPriority,$i=e.unstable_NormalPriority,Ud=e.unstable_LowPriority,Sl=e.unstable_IdlePriority,jd=e.log,Hr=e.unstable_setDisableYieldValue,Ns=null,tn=null;function On(i){if(typeof jd=="function"&&Hr(i),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(Ns,i)}catch{}}var cn=Math.clz32?Math.clz32:zc,Bd=Math.log,Bc=Math.LN2;function zc(i){return i>>>=0,i===0?32:31-(Bd(i)/Bc|0)|0}var gi=256,Ps=4194304;function ti(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function kn(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?f=ti(u):(b&=w,b!==0?f=ti(b):o||(o=w&~i,o!==0&&(f=ti(o))))):(w=u&~g,w!==0?f=ti(w):b!==0?f=ti(b):o||(o=u&~i,o!==0&&(f=ti(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function Vs(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Za(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(){var i=gi;return gi<<=1,(gi&4194048)===0&&(gi=256),i}function Ms(){var i=Ps;return Ps<<=1,(Ps&62914560)===0&&(Ps=4194304),i}function Ja(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ye(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Fc(i,r,o,u,f,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,I=i.expirationTimes,H=i.hiddenUpdates;for(o=b&~o;0<o;){var Z=31-cn(o),et=1<<Z;w[Z]=0,I[Z]=-1;var K=H[Z];if(K!==null)for(H[Z]=null,Z=0;Z<K.length;Z++){var $=K[Z];$!==null&&($.lane&=-536870913)}o&=~et}u!==0&&Os(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function Os(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-cn(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function ks(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-cn(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function Rl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Cl(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Yi(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:lE(i.type))}function zd(i,r){var o=rt.p;try{return rt.p=i,r()}finally{rt.p=o}}var yi=Math.random().toString(36).slice(2),ve="__reactFiber$"+yi,Ge="__reactProps$"+yi,Qi="__reactContainer$"+yi,Gr="__reactEvents$"+yi,Kr="__reactListeners$"+yi,Fd="__reactHandles$"+yi,ei="__reactResources$"+yi,Ls="__reactMarker$"+yi;function to(i){delete i[ve],delete i[Ge],delete i[Gr],delete i[Kr],delete i[Fd]}function vi(i){var r=i[ve];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Qi]||o[ve]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=$T(i);i!==null;){if(o=i[ve])return o;i=$T(i)}return r}i=o,o=i.parentNode}return null}function _i(i){if(i=i[ve]||i[Qi]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Us(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function js(i){var r=i[ei];return r||(r=i[ei]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function _e(i){i[Ls]=!0}var qc=new Set,$r={};function Ti(i,r){Ei(i,r),Ei(i+"Capture",r)}function Ei(i,r){for($r[i]=r,i=0;i<r.length;i++)qc.add(r[i])}var Yr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bi={},eo={};function qd(i){return Xa.call(eo,i)?!0:Xa.call(bi,i)?!1:Yr.test(i)?eo[i]=!0:(bi[i]=!0,!1)}function Qr(i,r,o){if(qd(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Xr(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Ln(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var Wr,no;function Xi(i){if(Wr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Wr=r&&r[1]||"",no=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+i+no}var io=!1;function so(i,r){if(!i||io)return"";io=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch($){var K=$}Reflect.construct(i,[],et)}else{try{et.call()}catch($){K=$}i.call(et.prototype)}}else{try{throw Error()}catch($){K=$}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],w=g[1];if(b&&w){var I=b.split(`
`),H=w.split(`
`);for(f=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(u===I.length||f===H.length)for(u=I.length-1,f=H.length-1;1<=u&&0<=f&&I[u]!==H[f];)f--;for(;1<=u&&0<=f;u--,f--)if(I[u]!==H[f]){if(u!==1||f!==1)do if(u--,f--,0>f||I[u]!==H[f]){var Z=`
`+I[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=f);break}}}finally{io=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Xi(o):""}function Hd(i){switch(i.tag){case 26:case 27:case 5:return Xi(i.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return so(i.type,!1);case 11:return so(i.type.render,!1);case 1:return so(i.type,!0);case 31:return Xi("Activity");default:return""}}function ni(i){try{var r="";do r+=Hd(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function le(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Bs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Zr(i){var r=Bs(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function zs(i){i._valueTracker||(i._valueTracker=Zr(i))}function $t(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Bs(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Wi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Jr=/[\n"\\]/g;function je(i){return i.replace(Jr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Il(i,r,o,u,f,g,b,w){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+le(r)):i.value!==""+le(r)&&(i.value=""+le(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Nl(i,b,le(r)):o!=null?Nl(i,b,le(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+le(w):i.removeAttribute("name")}function Dl(i,r,o,u,f,g,b,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+le(o):"",r=r!=null?""+le(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Nl(i,r,o){r==="number"&&Wi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Fs(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+le(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Hc(i,r,o){if(r!=null&&(r=""+le(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+le(o):""}function Gc(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Wt(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=le(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Un(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Zi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Zi.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Vl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Pl(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&Pl(i,g,r[g])}function ro(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$c=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ii(i){return $c.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ml=null;function Ol(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var qs=null,hn=null;function Yc(i){var r=_i(i);if(r&&(i=r.stateNode)){var o=i[Ge]||null;t:switch(i=r.stateNode,r.type){case"input":if(Il(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+je(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[Ge]||null;if(!f)throw Error(s(90));Il(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&$t(u)}break t;case"textarea":Hc(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Fs(i,!!o.multiple,r,!1)}}}var ta=!1;function ea(i,r,o){if(ta)return i(r,o);ta=!0;try{var u=i(r);return u}finally{if(ta=!1,(qs!==null||hn!==null)&&(Lh(),qs&&(r=qs,i=hn,hn=qs=null,Yc(r),i)))for(r=0;r<i.length;r++)Yc(i[r])}}function Hs(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Ge]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ji=!1;if(fn)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){Ji=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{Ji=!1}var jn=null,Jt=null,ao=null;function Qc(){if(ao)return ao;var i,r=Jt,o=r.length,u,f="value"in jn?jn.value:jn.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var b=o-i;for(u=1;u<=b&&r[o-u]===f[g-u];u++);return ao=f.slice(i,1<u?1-u:void 0)}function na(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ia(){return!0}function kl(){return!1}function Ve(i){function r(o,u,f,g,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ia:kl,this.isPropagationStopped=kl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),r}var en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=Ve(en),ra=y({},en,{view:0,detail:0}),aa=Ve(ra),oo,oa,wi,la=y({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wi&&(wi&&i.type==="mousemove"?(oo=i.screenX-wi.screenX,oa=i.screenY-wi.screenY):oa=oo=0,wi=i),oo)},movementY:function(i){return"movementY"in i?i.movementY:oa}}),ua=Ve(la),Gd=y({},la,{dataTransfer:0}),Xc=Ve(Gd),ca=y({},ra,{relatedTarget:0}),lo=Ve(ca),Wc=y({},en,{animationName:0,elapsedTime:0,pseudoElement:0}),Ll=Ve(Wc),Ul=y({},en,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Zc=Ve(Ul),uo=y({},en,{data:0}),jl=Ve(uo),Jc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ts={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=th[i])?!!r[i]:!1}function co(){return eh}var nh=y({},ra,{key:function(i){if(i.key){var r=Jc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=na(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ts[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(i){return i.type==="keypress"?na(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?na(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ho=Ve(nh),dn=y({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bl=Ve(dn),ih=y({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),Ks=Ve(ih),h=y({},en,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=Ve(h),T=y({},la,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),A=Ve(T),q=y({},en,{newState:0,oldState:0}),Q=Ve(q),ot=[9,13,27,32],xt=fn&&"CompositionEvent"in window,ie=null;fn&&"documentMode"in document&&(ie=document.documentMode);var qt=fn&&"TextEvent"in window&&!ie,Te=fn&&(!xt||ie&&8<ie&&11>=ie),An=" ",Ai=!1;function si(i,r){switch(i){case"keyup":return ot.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ri(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ai=!1;function zl(i,r){switch(i){case"compositionend":return ri(r);case"keypress":return r.which!==32?null:(Ai=!0,An);case"textInput":return i=r.data,i===An&&Ai?null:i;default:return null}}function cC(i,r){if(ai)return i==="compositionend"||!xt&&si(i,r)?(i=Qc(),ao=Jt=jn=null,ai=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Te&&r.locale!=="ko"?null:r.data;default:return null}}var hC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!hC[i.type]:r==="textarea"}function i0(i,r,o,u){qs?hn?hn.push(u):hn=[u]:qs=u,r=qh(r,"onChange"),0<r.length&&(o=new sa("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Fl=null,ql=null;function fC(i){LT(i,0)}function sh(i){var r=Us(i);if($t(r))return i}function s0(i,r){if(i==="change")return r}var r0=!1;if(fn){var Kd;if(fn){var $d="oninput"in document;if(!$d){var a0=document.createElement("div");a0.setAttribute("oninput","return;"),$d=typeof a0.oninput=="function"}Kd=$d}else Kd=!1;r0=Kd&&(!document.documentMode||9<document.documentMode)}function o0(){Fl&&(Fl.detachEvent("onpropertychange",l0),ql=Fl=null)}function l0(i){if(i.propertyName==="value"&&sh(ql)){var r=[];i0(r,ql,i,Ol(i)),ea(fC,r)}}function dC(i,r,o){i==="focusin"?(o0(),Fl=r,ql=o,Fl.attachEvent("onpropertychange",l0)):i==="focusout"&&o0()}function mC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return sh(ql)}function pC(i,r){if(i==="click")return sh(r)}function gC(i,r){if(i==="input"||i==="change")return sh(r)}function yC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Sn=typeof Object.is=="function"?Object.is:yC;function Hl(i,r){if(Sn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Xa.call(r,f)||!Sn(i[f],r[f]))return!1}return!0}function u0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function c0(i,r){var o=u0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=u0(o)}}function h0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?h0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function f0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Wi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Wi(i.document)}return r}function Yd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var vC=fn&&"documentMode"in document&&11>=document.documentMode,fo=null,Qd=null,Gl=null,Xd=!1;function d0(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xd||fo==null||fo!==Wi(u)||(u=fo,"selectionStart"in u&&Yd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Gl&&Hl(Gl,u)||(Gl=u,u=qh(Qd,"onSelect"),0<u.length&&(r=new sa("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=fo)))}function ha(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var mo={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},Wd={},m0={};fn&&(m0=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function fa(i){if(Wd[i])return Wd[i];if(!mo[i])return i;var r=mo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in m0)return Wd[i]=r[o];return i}var p0=fa("animationend"),g0=fa("animationiteration"),y0=fa("animationstart"),_C=fa("transitionrun"),TC=fa("transitionstart"),EC=fa("transitioncancel"),v0=fa("transitionend"),_0=new Map,Zd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zd.push("scrollEnd");function oi(i,r){_0.set(i,r),Ti(r,[i])}var T0=new WeakMap;function Bn(i,r){if(typeof i=="object"&&i!==null){var o=T0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:ni(r)},T0.set(i,r),r)}return{value:i,source:r,stack:ni(r)}}var zn=[],po=0,Jd=0;function rh(){for(var i=po,r=Jd=po=0;r<i;){var o=zn[r];zn[r++]=null;var u=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var g=zn[r];if(zn[r++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}g!==0&&E0(o,f,g)}}function ah(i,r,o,u){zn[po++]=i,zn[po++]=r,zn[po++]=o,zn[po++]=u,Jd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function tm(i,r,o,u){return ah(i,r,o,u),oh(i)}function go(i,r){return ah(i,null,null,r),oh(i)}function E0(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-cn(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function oh(i){if(50<gu)throw gu=0,ap=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var yo={};function bC(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(i,r,o,u){return new bC(i,r,o,u)}function em(i){return i=i.prototype,!(!i||!i.isReactComponent)}function es(i,r){var o=i.alternate;return o===null?(o=xn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function b0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function lh(i,r,o,u,f,g){var b=0;if(u=i,typeof i=="function")em(i)&&(b=1);else if(typeof i=="string")b=A2(i,o,gt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case C:return i=xn(31,o,r,f),i.elementType=C,i.lanes=g,i;case P:return da(o.children,f,g,r);case z:b=8,f|=24;break;case M:return i=xn(12,o,r,f|2),i.elementType=M,i.lanes=g,i;case nt:return i=xn(13,o,r,f),i.elementType=nt,i.lanes=g,i;case ht:return i=xn(19,o,r,f),i.elementType=ht,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:case X:b=10;break t;case Y:b=9;break t;case at:b=11;break t;case N:b=14;break t;case R:b=16,u=null;break t}b=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=xn(b,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function da(i,r,o,u){return i=xn(7,i,u,r),i.lanes=o,i}function nm(i,r,o){return i=xn(6,i,null,r),i.lanes=o,i}function im(i,r,o){return r=xn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var vo=[],_o=0,uh=null,ch=0,Fn=[],qn=0,ma=null,ns=1,is="";function pa(i,r){vo[_o++]=ch,vo[_o++]=uh,uh=i,ch=r}function w0(i,r,o){Fn[qn++]=ns,Fn[qn++]=is,Fn[qn++]=ma,ma=i;var u=ns;i=is;var f=32-cn(u)-1;u&=~(1<<f),o+=1;var g=32-cn(r)+f;if(30<g){var b=f-f%5;g=(u&(1<<b)-1).toString(32),u>>=b,f-=b,ns=1<<32-cn(r)+f|o<<f|u,is=g+i}else ns=1<<g|o<<f|u,is=i}function sm(i){i.return!==null&&(pa(i,1),w0(i,1,0))}function rm(i){for(;i===uh;)uh=vo[--_o],vo[_o]=null,ch=vo[--_o],vo[_o]=null;for(;i===ma;)ma=Fn[--qn],Fn[qn]=null,is=Fn[--qn],Fn[qn]=null,ns=Fn[--qn],Fn[qn]=null}var mn=null,me=null,zt=!1,ga=null,Si=!1,am=Error(s(519));function ya(i){var r=Error(s(418,""));throw Yl(Bn(r,i)),am}function A0(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[ve]=i,r[Ge]=u,o){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(o=0;o<vu.length;o++)Vt(vu[o],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":Vt("invalid",r),Dl(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),zs(r);break;case"select":Vt("invalid",r);break;case"textarea":Vt("invalid",r),Gc(r,u.value,u.defaultValue,u.children),zs(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||zT(r.textContent,o)?(u.popover!=null&&(Vt("beforetoggle",r),Vt("toggle",r)),u.onScroll!=null&&Vt("scroll",r),u.onScrollEnd!=null&&Vt("scrollend",r),u.onClick!=null&&(r.onclick=Hh),r=!0):r=!1,r||ya(i)}function S0(i){for(mn=i.return;mn;)switch(mn.tag){case 5:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:mn=mn.return}}function Kl(i){if(i!==mn)return!1;if(!zt)return S0(i),zt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||bp(i.type,i.memoizedProps)),o=!o),o&&me&&ya(i),S0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){me=ui(i.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}me=null}}else r===27?(r=me,lr(i.type)?(i=xp,xp=null,me=i):me=r):me=mn?ui(i.stateNode.nextSibling):null;return!0}function $l(){me=mn=null,zt=!1}function x0(){var i=ga;return i!==null&&(_n===null?_n=i:_n.push.apply(_n,i),ga=null),i}function Yl(i){ga===null?ga=[i]:ga.push(i)}var om=st(null),va=null,ss=null;function $s(i,r,o){lt(om,r._currentValue),r._currentValue=o}function rs(i){i._currentValue=om.current,ct(om)}function lm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function um(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=f;for(var I=0;I<r.length;I++)if(w.context===r[I]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),lm(g.return,o,i),u||(b=null);break t}g=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),lm(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ql(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=f.type;Sn(f.pendingProps.value,b.value)||(i!==null?i.push(w):i=[w])}}else if(f===He.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Au):i=[Au])}f=f.return}i!==null&&um(r,i,o,u),r.flags|=262144}function hh(i){for(i=i.firstContext;i!==null;){if(!Sn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function _a(i){va=i,ss=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function nn(i){return R0(va,i)}function fh(i,r){return va===null&&_a(i),R0(i,r)}function R0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ss===null){if(i===null)throw Error(s(308));ss=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ss=ss.next=r;return o}var wC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},AC=e.unstable_scheduleCallback,SC=e.unstable_NormalPriority,Me={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cm(){return{controller:new wC,data:new Map,refCount:0}}function Xl(i){i.refCount--,i.refCount===0&&AC(SC,function(){i.controller.abort()})}var Wl=null,hm=0,To=0,Eo=null;function xC(i,r){if(Wl===null){var o=Wl=[];hm=0,To=dp(),Eo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return hm++,r.then(C0,C0),r}function C0(){if(--hm===0&&Wl!==null){Eo!==null&&(Eo.status="fulfilled");var i=Wl;Wl=null,To=0,Eo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function RC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var I0=W.S;W.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&xC(i,r),I0!==null&&I0(i,r)};var Ta=st(null);function fm(){var i=Ta.current;return i!==null?i:te.pooledCache}function dh(i,r){r===null?lt(Ta,Ta.current):lt(Ta,r.pool)}function D0(){var i=fm();return i===null?null:{parent:Me._currentValue,pool:i}}var Zl=Error(s(460)),N0=Error(s(474)),mh=Error(s(542)),dm={then:function(){}};function P0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ph(){}function V0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ph,ph),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,O0(i),i;default:if(typeof r.status=="string")r.then(ph,ph);else{if(i=te,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,O0(i),i}throw Jl=r,Zl}}var Jl=null;function M0(){if(Jl===null)throw Error(s(459));var i=Jl;return Jl=null,i}function O0(i){if(i===Zl||i===mh)throw Error(s(483))}var Ys=!1;function mm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Qs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ht&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=oh(i),E0(i,null,o),r}return ah(i,u,r,o),oh(i)}function tu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,ks(i,o)}}function gm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var ym=!1;function eu(){if(ym){var i=Eo;if(i!==null)throw i}}function nu(i,r,o,u){ym=!1;var f=i.updateQueue;Ys=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var I=w,H=I.next;I.next=null,b===null?g=H:b.next=H,b=I;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==b&&(w===null?Z.firstBaseUpdate=H:w.next=H,Z.lastBaseUpdate=I))}if(g!==null){var et=f.baseState;b=0,Z=H=I=null,w=g;do{var K=w.lane&-536870913,$=K!==w.lane;if($?(Ut&K)===K:(u&K)===K){K!==0&&K===To&&(ym=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var wt=i,vt=w;K=r;var Xt=o;switch(vt.tag){case 1:if(wt=vt.payload,typeof wt=="function"){et=wt.call(Xt,et,K);break t}et=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=vt.payload,K=typeof wt=="function"?wt.call(Xt,et,K):wt,K==null)break t;et=y({},et,K);break t;case 2:Ys=!0}}K=w.callback,K!==null&&(i.flags|=64,$&&(i.flags|=8192),$=f.callbacks,$===null?f.callbacks=[K]:$.push(K))}else $={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(H=Z=$,I=et):Z=Z.next=$,b|=K;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;$=w,w=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);Z===null&&(I=et),f.baseState=I,f.firstBaseUpdate=H,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),sr|=b,i.lanes=b,i.memoizedState=et}}function k0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function L0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)k0(o[i],r)}var bo=st(null),gh=st(0);function U0(i,r){i=fs,lt(gh,i),lt(bo,r),fs=i|r.baseLanes}function vm(){lt(gh,fs),lt(bo,bo.current)}function _m(){fs=gh.current,ct(bo),ct(gh)}var Ws=0,Dt=null,Yt=null,xe=null,yh=!1,wo=!1,Ea=!1,vh=0,iu=0,Ao=null,CC=0;function Ee(){throw Error(s(321))}function Tm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Sn(i[o],r[o]))return!1;return!0}function Em(i,r,o,u,f,g){return Ws=g,Dt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?E_:b_,Ea=!1,g=o(u,f),Ea=!1,wo&&(g=B0(r,o,u,f)),j0(i),g}function j0(i){W.H=Ah;var r=Yt!==null&&Yt.next!==null;if(Ws=0,xe=Yt=Dt=null,yh=!1,iu=0,Ao=null,r)throw Error(s(300));i===null||Be||(i=i.dependencies,i!==null&&hh(i)&&(Be=!0))}function B0(i,r,o,u){Dt=i;var f=0;do{if(wo&&(Ao=null),iu=0,wo=!1,25<=f)throw Error(s(301));if(f+=1,xe=Yt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=OC,g=r(o,u)}while(wo);return g}function IC(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?su(r):r,i=i.useState()[0],(Yt!==null?Yt.memoizedState:null)!==i&&(Dt.flags|=1024),r}function bm(){var i=vh!==0;return vh=0,i}function wm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Am(i){if(yh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}yh=!1}Ws=0,xe=Yt=Dt=null,wo=!1,iu=vh=0,Ao=null}function yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Dt.memoizedState=xe=i:xe=xe.next=i,xe}function Re(){if(Yt===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=Yt.next;var r=xe===null?Dt.memoizedState:xe.next;if(r!==null)xe=r,Yt=i;else{if(i===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));Yt=i,i={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},xe===null?Dt.memoizedState=xe=i:xe=xe.next=i}return xe}function Sm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function su(i){var r=iu;return iu+=1,Ao===null&&(Ao=[]),i=V0(Ao,i,r),r=Dt,(xe===null?r.memoizedState:xe.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?E_:b_),i}function _h(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return su(i);if(i.$$typeof===X)return nn(i)}throw Error(s(438,String(i)))}function xm(i){var r=null,o=Dt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Dt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Sm(),Dt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=L;return r.index++,o}function as(i,r){return typeof r=="function"?r(i):r}function Th(i){var r=Re();return Rm(r,Yt,i)}function Rm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var w=b=null,I=null,H=r,Z=!1;do{var et=H.lane&-536870913;if(et!==H.lane?(Ut&et)===et:(Ws&et)===et){var K=H.revertLane;if(K===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),et===To&&(Z=!0);else if((Ws&K)===K){H=H.next,K===To&&(Z=!0);continue}else et={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(w=I=et,b=g):I=I.next=et,Dt.lanes|=K,sr|=K;et=H.action,Ea&&o(g,et),g=H.hasEagerState?H.eagerState:o(g,et)}else K={lane:et,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(w=I=K,b=g):I=I.next=K,Dt.lanes|=et,sr|=et;H=H.next}while(H!==null&&H!==r);if(I===null?b=g:I.next=w,!Sn(g,i.memoizedState)&&(Be=!0,Z&&(o=Eo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=I,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Cm(i){var r=Re(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do g=i(g,b.action),b=b.next;while(b!==f);Sn(g,r.memoizedState)||(Be=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function z0(i,r,o){var u=Dt,f=Re(),g=zt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Sn((Yt||f).memoizedState,o);b&&(f.memoizedState=o,Be=!0),f=f.queue;var w=H0.bind(null,u,f,i);if(ru(2048,8,w,[i]),f.getSnapshot!==r||b||xe!==null&&xe.memoizedState.tag&1){if(u.flags|=2048,So(9,Eh(),q0.bind(null,u,f,o,r),null),te===null)throw Error(s(349));g||(Ws&124)!==0||F0(u,r,o)}return o}function F0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Dt.updateQueue,r===null?(r=Sm(),Dt.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function q0(i,r,o,u){r.value=o,r.getSnapshot=u,G0(r)&&K0(i)}function H0(i,r,o){return o(function(){G0(r)&&K0(i)})}function G0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Sn(i,o)}catch{return!0}}function K0(i){var r=go(i,2);r!==null&&Nn(r,i,2)}function Im(i){var r=yn();if(typeof i=="function"){var o=i;if(i=o(),Ea){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:i},r}function $0(i,r,o,u){return i.baseState=o,Rm(i,Yt,typeof u=="function"?u:as)}function DC(i,r,o,u,f){if(wh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,Y0(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Y0(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=W.T,b={};W.T=b;try{var w=o(f,u),I=W.S;I!==null&&I(b,w),Q0(i,r,w)}catch(H){Dm(i,r,H)}finally{W.T=g}}else try{g=o(f,u),Q0(i,r,g)}catch(H){Dm(i,r,H)}}function Q0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){X0(i,r,u)},function(u){return Dm(i,r,u)}):X0(i,r,o)}function X0(i,r,o){r.status="fulfilled",r.value=o,W0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Y0(i,o)))}function Dm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,W0(r),r=r.next;while(r!==u)}i.action=null}function W0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Z0(i,r){return r}function J0(i,r){if(zt){var o=te.formState;if(o!==null){t:{var u=Dt;if(zt){if(me){e:{for(var f=me,g=Si;f.nodeType!==8;){if(!g){f=null;break e}if(f=ui(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){me=ui(f.nextSibling),u=f.data==="F!";break t}}ya(u)}u=!1}u&&(r=o[0])}}return o=yn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z0,lastRenderedState:r},o.queue=u,o=v_.bind(null,Dt,u),u.dispatch=o,u=Im(!1),g=Om.bind(null,Dt,!1,u.queue),u=yn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=DC.bind(null,Dt,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function t_(i){var r=Re();return e_(r,Yt,i)}function e_(i,r,o){if(r=Rm(i,r,Z0)[0],i=Th(as)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=su(r)}catch(b){throw b===Zl?mh:b}else u=r;r=Re();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(Dt.flags|=2048,So(9,Eh(),NC.bind(null,f,o),null)),[u,g,i]}function NC(i,r){i.action=r}function n_(i){var r=Re(),o=Yt;if(o!==null)return e_(r,o,i);Re(),r=r.memoizedState,o=Re();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function So(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Dt.updateQueue,r===null&&(r=Sm(),Dt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function Eh(){return{destroy:void 0,resource:void 0}}function i_(){return Re().memoizedState}function bh(i,r,o,u){var f=yn();u=u===void 0?null:u,Dt.flags|=i,f.memoizedState=So(1|r,Eh(),o,u)}function ru(i,r,o,u){var f=Re();u=u===void 0?null:u;var g=f.memoizedState.inst;Yt!==null&&u!==null&&Tm(u,Yt.memoizedState.deps)?f.memoizedState=So(r,g,o,u):(Dt.flags|=i,f.memoizedState=So(1|r,g,o,u))}function s_(i,r){bh(8390656,8,i,r)}function r_(i,r){ru(2048,8,i,r)}function a_(i,r){return ru(4,2,i,r)}function o_(i,r){return ru(4,4,i,r)}function l_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function u_(i,r,o){o=o!=null?o.concat([i]):null,ru(4,4,l_.bind(null,r,i),o)}function Nm(){}function c_(i,r){var o=Re();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Tm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function h_(i,r){var o=Re();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Tm(r,u[1]))return u[0];if(u=i(),Ea){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[u,r],u}function Pm(i,r,o){return o===void 0||(Ws&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=mT(),Dt.lanes|=i,sr|=i,o)}function f_(i,r,o,u){return Sn(o,r)?o:bo.current!==null?(i=Pm(i,o,u),Sn(i,r)||(Be=!0),i):(Ws&42)===0?(Be=!0,i.memoizedState=o):(i=mT(),Dt.lanes|=i,sr|=i,r)}function d_(i,r,o,u,f){var g=rt.p;rt.p=g!==0&&8>g?g:8;var b=W.T,w={};W.T=w,Om(i,!1,r,o);try{var I=f(),H=W.S;if(H!==null&&H(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=RC(I,u);au(i,r,Z,Dn(i))}else au(i,r,u,Dn(i))}catch(et){au(i,r,{then:function(){},status:"rejected",reason:et},Dn())}finally{rt.p=g,W.T=b}}function PC(){}function Vm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=m_(i).queue;d_(i,f,r,dt,o===null?PC:function(){return p_(i),o(u)})}function m_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:dt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function p_(i){var r=m_(i).next.queue;au(i,r,{},Dn())}function Mm(){return nn(Au)}function g_(){return Re().memoizedState}function y_(){return Re().memoizedState}function VC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Dn();i=Qs(o);var u=Xs(r,i,o);u!==null&&(Nn(u,r,o),tu(u,r,o)),r={cache:cm()},i.payload=r;return}r=r.return}}function MC(i,r,o){var u=Dn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},wh(i)?__(r,o):(o=tm(i,r,o,u),o!==null&&(Nn(o,i,u),T_(o,r,u)))}function v_(i,r,o){var u=Dn();au(i,r,o,u)}function au(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(wh(i))__(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,w=g(b,o);if(f.hasEagerState=!0,f.eagerState=w,Sn(w,b))return ah(i,r,f,0),te===null&&rh(),!1}catch{}finally{}if(o=tm(i,r,f,u),o!==null)return Nn(o,i,u),T_(o,r,u),!0}return!1}function Om(i,r,o,u){if(u={lane:2,revertLane:dp(),action:u,hasEagerState:!1,eagerState:null,next:null},wh(i)){if(r)throw Error(s(479))}else r=tm(i,o,u,2),r!==null&&Nn(r,i,2)}function wh(i){var r=i.alternate;return i===Dt||r!==null&&r===Dt}function __(i,r){wo=yh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function T_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,ks(i,o)}}var Ah={readContext:nn,use:_h,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee},E_={readContext:nn,use:_h,useCallback:function(i,r){return yn().memoizedState=[i,r===void 0?null:r],i},useContext:nn,useEffect:s_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,bh(4194308,4,l_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return bh(4194308,4,i,r)},useInsertionEffect:function(i,r){bh(4,2,i,r)},useMemo:function(i,r){var o=yn();r=r===void 0?null:r;var u=i();if(Ea){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=yn();if(o!==void 0){var f=o(r);if(Ea){On(!0);try{o(r)}finally{On(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=MC.bind(null,Dt,i),[u.memoizedState,i]},useRef:function(i){var r=yn();return i={current:i},r.memoizedState=i},useState:function(i){i=Im(i);var r=i.queue,o=v_.bind(null,Dt,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Nm,useDeferredValue:function(i,r){var o=yn();return Pm(o,i,r)},useTransition:function(){var i=Im(!1);return i=d_.bind(null,Dt,i.queue,!0,!1),yn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Dt,f=yn();if(zt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),te===null)throw Error(s(349));(Ut&124)!==0||F0(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,s_(H0.bind(null,u,g,i),[i]),u.flags|=2048,So(9,Eh(),q0.bind(null,u,g,o,r),null),o},useId:function(){var i=yn(),r=te.identifierPrefix;if(zt){var o=is,u=ns;o=(u&~(1<<32-cn(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=vh++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=CC++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Mm,useFormState:J0,useActionState:J0,useOptimistic:function(i){var r=yn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Om.bind(null,Dt,!0,o),o.dispatch=r,[i,r]},useMemoCache:xm,useCacheRefresh:function(){return yn().memoizedState=VC.bind(null,Dt)}},b_={readContext:nn,use:_h,useCallback:c_,useContext:nn,useEffect:r_,useImperativeHandle:u_,useInsertionEffect:a_,useLayoutEffect:o_,useMemo:h_,useReducer:Th,useRef:i_,useState:function(){return Th(as)},useDebugValue:Nm,useDeferredValue:function(i,r){var o=Re();return f_(o,Yt.memoizedState,i,r)},useTransition:function(){var i=Th(as)[0],r=Re().memoizedState;return[typeof i=="boolean"?i:su(i),r]},useSyncExternalStore:z0,useId:g_,useHostTransitionStatus:Mm,useFormState:t_,useActionState:t_,useOptimistic:function(i,r){var o=Re();return $0(o,Yt,i,r)},useMemoCache:xm,useCacheRefresh:y_},OC={readContext:nn,use:_h,useCallback:c_,useContext:nn,useEffect:r_,useImperativeHandle:u_,useInsertionEffect:a_,useLayoutEffect:o_,useMemo:h_,useReducer:Cm,useRef:i_,useState:function(){return Cm(as)},useDebugValue:Nm,useDeferredValue:function(i,r){var o=Re();return Yt===null?Pm(o,i,r):f_(o,Yt.memoizedState,i,r)},useTransition:function(){var i=Cm(as)[0],r=Re().memoizedState;return[typeof i=="boolean"?i:su(i),r]},useSyncExternalStore:z0,useId:g_,useHostTransitionStatus:Mm,useFormState:n_,useActionState:n_,useOptimistic:function(i,r){var o=Re();return Yt!==null?$0(o,Yt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:xm,useCacheRefresh:y_},xo=null,ou=0;function Sh(i){var r=ou;return ou+=1,xo===null&&(xo=[]),V0(xo,i,r)}function lu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function xh(i,r){throw r.$$typeof===_?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function w_(i){var r=i._init;return r(i._payload)}function A_(i){function r(j,U){if(i){var F=j.deletions;F===null?(j.deletions=[U],j.flags|=16):F.push(U)}}function o(j,U){if(!i)return null;for(;U!==null;)r(j,U),U=U.sibling;return null}function u(j){for(var U=new Map;j!==null;)j.key!==null?U.set(j.key,j):U.set(j.index,j),j=j.sibling;return U}function f(j,U){return j=es(j,U),j.index=0,j.sibling=null,j}function g(j,U,F){return j.index=F,i?(F=j.alternate,F!==null?(F=F.index,F<U?(j.flags|=67108866,U):F):(j.flags|=67108866,U)):(j.flags|=1048576,U)}function b(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function w(j,U,F,J){return U===null||U.tag!==6?(U=nm(F,j.mode,J),U.return=j,U):(U=f(U,F),U.return=j,U)}function I(j,U,F,J){var mt=F.type;return mt===P?Z(j,U,F.props.children,J,F.key):U!==null&&(U.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&w_(mt)===U.type)?(U=f(U,F.props),lu(U,F),U.return=j,U):(U=lh(F.type,F.key,F.props,null,j.mode,J),lu(U,F),U.return=j,U)}function H(j,U,F,J){return U===null||U.tag!==4||U.stateNode.containerInfo!==F.containerInfo||U.stateNode.implementation!==F.implementation?(U=im(F,j.mode,J),U.return=j,U):(U=f(U,F.children||[]),U.return=j,U)}function Z(j,U,F,J,mt){return U===null||U.tag!==7?(U=da(F,j.mode,J,mt),U.return=j,U):(U=f(U,F),U.return=j,U)}function et(j,U,F){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=nm(""+U,j.mode,F),U.return=j,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return F=lh(U.type,U.key,U.props,null,j.mode,F),lu(F,U),F.return=j,F;case S:return U=im(U,j.mode,F),U.return=j,U;case R:var J=U._init;return U=J(U._payload),et(j,U,F)}if(Wt(U)||B(U))return U=da(U,j.mode,F,null),U.return=j,U;if(typeof U.then=="function")return et(j,Sh(U),F);if(U.$$typeof===X)return et(j,fh(j,U),F);xh(j,U)}return null}function K(j,U,F,J){var mt=U!==null?U.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return mt!==null?null:w(j,U,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return F.key===mt?I(j,U,F,J):null;case S:return F.key===mt?H(j,U,F,J):null;case R:return mt=F._init,F=mt(F._payload),K(j,U,F,J)}if(Wt(F)||B(F))return mt!==null?null:Z(j,U,F,J,null);if(typeof F.then=="function")return K(j,U,Sh(F),J);if(F.$$typeof===X)return K(j,U,fh(j,F),J);xh(j,F)}return null}function $(j,U,F,J,mt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(F)||null,w(U,j,""+J,mt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return j=j.get(J.key===null?F:J.key)||null,I(U,j,J,mt);case S:return j=j.get(J.key===null?F:J.key)||null,H(U,j,J,mt);case R:var Nt=J._init;return J=Nt(J._payload),$(j,U,F,J,mt)}if(Wt(J)||B(J))return j=j.get(F)||null,Z(U,j,J,mt,null);if(typeof J.then=="function")return $(j,U,F,Sh(J),mt);if(J.$$typeof===X)return $(j,U,F,fh(U,J),mt);xh(U,J)}return null}function wt(j,U,F,J){for(var mt=null,Nt=null,pt=U,_t=U=0,Fe=null;pt!==null&&_t<F.length;_t++){pt.index>_t?(Fe=pt,pt=null):Fe=pt.sibling;var Bt=K(j,pt,F[_t],J);if(Bt===null){pt===null&&(pt=Fe);break}i&&pt&&Bt.alternate===null&&r(j,pt),U=g(Bt,U,_t),Nt===null?mt=Bt:Nt.sibling=Bt,Nt=Bt,pt=Fe}if(_t===F.length)return o(j,pt),zt&&pa(j,_t),mt;if(pt===null){for(;_t<F.length;_t++)pt=et(j,F[_t],J),pt!==null&&(U=g(pt,U,_t),Nt===null?mt=pt:Nt.sibling=pt,Nt=pt);return zt&&pa(j,_t),mt}for(pt=u(pt);_t<F.length;_t++)Fe=$(pt,j,_t,F[_t],J),Fe!==null&&(i&&Fe.alternate!==null&&pt.delete(Fe.key===null?_t:Fe.key),U=g(Fe,U,_t),Nt===null?mt=Fe:Nt.sibling=Fe,Nt=Fe);return i&&pt.forEach(function(dr){return r(j,dr)}),zt&&pa(j,_t),mt}function vt(j,U,F,J){if(F==null)throw Error(s(151));for(var mt=null,Nt=null,pt=U,_t=U=0,Fe=null,Bt=F.next();pt!==null&&!Bt.done;_t++,Bt=F.next()){pt.index>_t?(Fe=pt,pt=null):Fe=pt.sibling;var dr=K(j,pt,Bt.value,J);if(dr===null){pt===null&&(pt=Fe);break}i&&pt&&dr.alternate===null&&r(j,pt),U=g(dr,U,_t),Nt===null?mt=dr:Nt.sibling=dr,Nt=dr,pt=Fe}if(Bt.done)return o(j,pt),zt&&pa(j,_t),mt;if(pt===null){for(;!Bt.done;_t++,Bt=F.next())Bt=et(j,Bt.value,J),Bt!==null&&(U=g(Bt,U,_t),Nt===null?mt=Bt:Nt.sibling=Bt,Nt=Bt);return zt&&pa(j,_t),mt}for(pt=u(pt);!Bt.done;_t++,Bt=F.next())Bt=$(pt,j,_t,Bt.value,J),Bt!==null&&(i&&Bt.alternate!==null&&pt.delete(Bt.key===null?_t:Bt.key),U=g(Bt,U,_t),Nt===null?mt=Bt:Nt.sibling=Bt,Nt=Bt);return i&&pt.forEach(function(k2){return r(j,k2)}),zt&&pa(j,_t),mt}function Xt(j,U,F,J){if(typeof F=="object"&&F!==null&&F.type===P&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case E:t:{for(var mt=F.key;U!==null;){if(U.key===mt){if(mt=F.type,mt===P){if(U.tag===7){o(j,U.sibling),J=f(U,F.props.children),J.return=j,j=J;break t}}else if(U.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&w_(mt)===U.type){o(j,U.sibling),J=f(U,F.props),lu(J,F),J.return=j,j=J;break t}o(j,U);break}else r(j,U);U=U.sibling}F.type===P?(J=da(F.props.children,j.mode,J,F.key),J.return=j,j=J):(J=lh(F.type,F.key,F.props,null,j.mode,J),lu(J,F),J.return=j,j=J)}return b(j);case S:t:{for(mt=F.key;U!==null;){if(U.key===mt)if(U.tag===4&&U.stateNode.containerInfo===F.containerInfo&&U.stateNode.implementation===F.implementation){o(j,U.sibling),J=f(U,F.children||[]),J.return=j,j=J;break t}else{o(j,U);break}else r(j,U);U=U.sibling}J=im(F,j.mode,J),J.return=j,j=J}return b(j);case R:return mt=F._init,F=mt(F._payload),Xt(j,U,F,J)}if(Wt(F))return wt(j,U,F,J);if(B(F)){if(mt=B(F),typeof mt!="function")throw Error(s(150));return F=mt.call(F),vt(j,U,F,J)}if(typeof F.then=="function")return Xt(j,U,Sh(F),J);if(F.$$typeof===X)return Xt(j,U,fh(j,F),J);xh(j,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,U!==null&&U.tag===6?(o(j,U.sibling),J=f(U,F),J.return=j,j=J):(o(j,U),J=nm(F,j.mode,J),J.return=j,j=J),b(j)):o(j,U)}return function(j,U,F,J){try{ou=0;var mt=Xt(j,U,F,J);return xo=null,mt}catch(pt){if(pt===Zl||pt===mh)throw pt;var Nt=xn(29,pt,null,j.mode);return Nt.lanes=J,Nt.return=j,Nt}finally{}}}var Ro=A_(!0),S_=A_(!1),Hn=st(null),xi=null;function Zs(i){var r=i.alternate;lt(Oe,Oe.current&1),lt(Hn,i),xi===null&&(r===null||bo.current!==null||r.memoizedState!==null)&&(xi=i)}function x_(i){if(i.tag===22){if(lt(Oe,Oe.current),lt(Hn,i),xi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(xi=i)}}else Js()}function Js(){lt(Oe,Oe.current),lt(Hn,Hn.current)}function os(i){ct(Hn),xi===i&&(xi=null),ct(Oe)}var Oe=st(0);function Rh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Sp(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function km(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Lm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Dn(),f=Qs(u);f.payload=r,o!=null&&(f.callback=o),r=Xs(i,f,u),r!==null&&(Nn(r,i,u),tu(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Dn(),f=Qs(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Xs(i,f,u),r!==null&&(Nn(r,i,u),tu(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Dn(),u=Qs(o);u.tag=2,r!=null&&(u.callback=r),r=Xs(i,u,o),r!==null&&(Nn(r,i,o),tu(r,i,o))}};function R_(i,r,o,u,f,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):r.prototype&&r.prototype.isPureReactComponent?!Hl(o,u)||!Hl(f,g):!0}function C_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Lm.enqueueReplaceState(r,r.state,null)}function ba(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var Ch=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function I_(i){Ch(i)}function D_(i){console.error(i)}function N_(i){Ch(i)}function Ih(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function P_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Um(i,r,o){return o=Qs(o),o.tag=3,o.payload={element:null},o.callback=function(){Ih(i,r)},o}function V_(i){return i=Qs(i),i.tag=3,i}function M_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){P_(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){P_(r,o,u),typeof f!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function kC(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Ql(r,o,f,!0),o=Hn.current,o!==null){switch(o.tag){case 13:return xi===null?lp():o.alternate===null&&pe===0&&(pe=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===dm?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),cp(i,u,f)),!1;case 22:return o.flags|=65536,u===dm?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),cp(i,u,f)),!1}throw Error(s(435,o.tag))}return cp(i,u,f),lp(),!1}if(zt)return r=Hn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==am&&(i=Error(s(422),{cause:u}),Yl(Bn(i,o)))):(u!==am&&(r=Error(s(423),{cause:u}),Yl(Bn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Bn(u,o),f=Um(i.stateNode,u,f),gm(i,f),pe!==4&&(pe=2)),!1;var g=Error(s(520),{cause:u});if(g=Bn(g,o),pu===null?pu=[g]:pu.push(g),pe!==4&&(pe=2),r===null)return!0;u=Bn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Um(o.stateNode,u,i),gm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rr===null||!rr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=V_(f),M_(f,i,o,u),gm(o,f),!1}o=o.return}while(o!==null);return!1}var O_=Error(s(461)),Be=!1;function Ke(i,r,o,u){r.child=i===null?S_(r,null,o,u):Ro(r,i.child,o,u)}function k_(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return _a(r),u=Em(i,r,o,b,g,f),w=bm(),i!==null&&!Be?(wm(i,r,f),ls(i,r,f)):(zt&&w&&sm(r),r.flags|=1,Ke(i,r,u,f),r.child)}function L_(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!em(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,U_(i,r,g,u,f)):(i=lh(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Km(i,f)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Hl,o(b,u)&&i.ref===r.ref)return ls(i,r,f)}return r.flags|=1,i=es(g,u),i.ref=r.ref,i.return=r,r.child=i}function U_(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(Hl(g,u)&&i.ref===r.ref)if(Be=!1,r.pendingProps=u=g,Km(i,f))(i.flags&131072)!==0&&(Be=!0);else return r.lanes=i.lanes,ls(i,r,f)}return jm(i,r,o,u,f)}function j_(i,r,o){var u=r.pendingProps,f=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(f=r.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return B_(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&dh(r,g!==null?g.cachePool:null),g!==null?U0(r,g):vm(),x_(r);else return r.lanes=r.childLanes=536870912,B_(i,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(dh(r,g.cachePool),U0(r,g),Js(),r.memoizedState=null):(i!==null&&dh(r,null),vm(),Js());return Ke(i,r,f,o),r.child}function B_(i,r,o,u){var f=fm();return f=f===null?null:{parent:Me._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&dh(r,null),vm(),x_(r),i!==null&&Ql(i,r,u,!0),null}function Dh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function jm(i,r,o,u,f){return _a(r),o=Em(i,r,o,u,void 0,f),u=bm(),i!==null&&!Be?(wm(i,r,f),ls(i,r,f)):(zt&&u&&sm(r),r.flags|=1,Ke(i,r,o,f),r.child)}function z_(i,r,o,u,f,g){return _a(r),r.updateQueue=null,o=B0(r,u,o,f),j0(i),u=bm(),i!==null&&!Be?(wm(i,r,g),ls(i,r,g)):(zt&&u&&sm(r),r.flags|=1,Ke(i,r,o,g),r.child)}function F_(i,r,o,u,f){if(_a(r),r.stateNode===null){var g=yo,b=o.contextType;typeof b=="object"&&b!==null&&(g=nn(b)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Lm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},mm(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?nn(b):yo,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(km(r,o,b,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Lm.enqueueReplaceState(g,g.state,null),nu(r,u,g,f),eu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,I=ba(o,w);g.props=I;var H=g.context,Z=o.contextType;b=yo,typeof Z=="object"&&Z!==null&&(b=nn(Z));var et=o.getDerivedStateFromProps;Z=typeof et=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||H!==b)&&C_(r,g,u,b),Ys=!1;var K=r.memoizedState;g.state=K,nu(r,u,g,f),eu(),H=r.memoizedState,w||K!==H||Ys?(typeof et=="function"&&(km(r,o,et,u),H=r.memoizedState),(I=Ys||R_(r,o,I,u,K,H,b))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=H),g.props=u,g.state=H,g.context=b,u=I):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,pm(i,r),b=r.memoizedProps,Z=ba(o,b),g.props=Z,et=r.pendingProps,K=g.context,H=o.contextType,I=yo,typeof H=="object"&&H!==null&&(I=nn(H)),w=o.getDerivedStateFromProps,(H=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==et||K!==I)&&C_(r,g,u,I),Ys=!1,K=r.memoizedState,g.state=K,nu(r,u,g,f),eu();var $=r.memoizedState;b!==et||K!==$||Ys||i!==null&&i.dependencies!==null&&hh(i.dependencies)?(typeof w=="function"&&(km(r,o,w,u),$=r.memoizedState),(Z=Ys||R_(r,o,Z,u,K,$,I)||i!==null&&i.dependencies!==null&&hh(i.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,$,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,$,I)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=$),g.props=u,g.state=$,g.context=I,u=Z):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Dh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=Ro(r,i.child,null,f),r.child=Ro(r,null,o,f)):Ke(i,r,o,f),r.memoizedState=g.state,i=r.child):i=ls(i,r,f),i}function q_(i,r,o,u){return $l(),r.flags|=256,Ke(i,r,o,u),r.child}var Bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zm(i){return{baseLanes:i,cachePool:D0()}}function Fm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Gn),i}function H_(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Oe.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(zt){if(f?Zs(r):Js(),zt){var w=me,I;if(I=w){t:{for(I=w,w=Si;I.nodeType!==8;){if(!w){w=null;break t}if(I=ui(I.nextSibling),I===null){w=null;break t}}w=I}w!==null?(r.memoizedState={dehydrated:w,treeContext:ma!==null?{id:ns,overflow:is}:null,retryLane:536870912,hydrationErrors:null},I=xn(18,null,null,0),I.stateNode=w,I.return=r,r.child=I,mn=r,me=null,I=!0):I=!1}I||ya(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Sp(w)?r.lanes=32:r.lanes=536870912,null;os(r)}return w=u.children,u=u.fallback,f?(Js(),f=r.mode,w=Nh({mode:"hidden",children:w},f),u=da(u,f,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,f=r.child,f.memoizedState=zm(o),f.childLanes=Fm(i,b,o),r.memoizedState=Bm,u):(Zs(r),qm(r,w))}if(I=i.memoizedState,I!==null&&(w=I.dehydrated,w!==null)){if(g)r.flags&256?(Zs(r),r.flags&=-257,r=Hm(i,r,o)):r.memoizedState!==null?(Js(),r.child=i.child,r.flags|=128,r=null):(Js(),f=u.fallback,w=r.mode,u=Nh({mode:"visible",children:u.children},w),f=da(f,w,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,Ro(r,i.child,null,o),u=r.child,u.memoizedState=zm(o),u.childLanes=Fm(i,b,o),r.memoizedState=Bm,r=f);else if(Zs(r),Sp(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var H=b.dgst;b=H,u=Error(s(419)),u.stack="",u.digest=b,Yl({value:u,source:null,stack:null}),r=Hm(i,r,o)}else if(Be||Ql(i,r,o,!1),b=(o&i.childLanes)!==0,Be||b){if(b=te,b!==null&&(u=o&-o,u=(u&42)!==0?1:Rl(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==I.retryLane))throw I.retryLane=u,go(i,u),Nn(b,i,u),O_;w.data==="$?"||lp(),r=Hm(i,r,o)}else w.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=I.treeContext,me=ui(w.nextSibling),mn=r,zt=!0,ga=null,Si=!1,i!==null&&(Fn[qn++]=ns,Fn[qn++]=is,Fn[qn++]=ma,ns=i.id,is=i.overflow,ma=r),r=qm(r,u.children),r.flags|=4096);return r}return f?(Js(),f=u.fallback,w=r.mode,I=i.child,H=I.sibling,u=es(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,H!==null?f=es(H,f):(f=da(f,w,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,w=i.child.memoizedState,w===null?w=zm(o):(I=w.cachePool,I!==null?(H=Me._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=D0(),w={baseLanes:w.baseLanes|o,cachePool:I}),f.memoizedState=w,f.childLanes=Fm(i,b,o),r.memoizedState=Bm,u):(Zs(r),o=i.child,i=o.sibling,o=es(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function qm(i,r){return r=Nh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Nh(i,r){return i=xn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Hm(i,r,o){return Ro(r,i.child,null,o),i=qm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function G_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),lm(i.return,r,o)}function Gm(i,r,o,u,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function K_(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(Ke(i,r,u.children,o),u=Oe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&G_(i,o,r);else if(i.tag===19)G_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(lt(Oe,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&Rh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Gm(r,!1,f,o,g);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Rh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Gm(r,!0,o,null,g);break;case"together":Gm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ls(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),sr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Ql(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=es(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=es(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Km(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&hh(i)))}function LC(i,r,o){switch(r.tag){case 3:Kt(r,r.stateNode.containerInfo),$s(r,Me,i.memoizedState.cache),$l();break;case 27:case 5:wl(r);break;case 4:Kt(r,r.stateNode.containerInfo);break;case 10:$s(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Zs(r),r.flags|=128,null):(o&r.child.childLanes)!==0?H_(i,r,o):(Zs(r),i=ls(i,r,o),i!==null?i.sibling:null);Zs(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Ql(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return K_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(Oe,Oe.current),u)break;return null;case 22:case 23:return r.lanes=0,j_(i,r,o);case 24:$s(r,Me,i.memoizedState.cache)}return ls(i,r,o)}function $_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Be=!0;else{if(!Km(i,o)&&(r.flags&128)===0)return Be=!1,LC(i,r,o);Be=(i.flags&131072)!==0}else Be=!1,zt&&(r.flags&1048576)!==0&&w0(r,ch,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")em(u)?(i=ba(u,i),r.tag=1,r=F_(null,r,u,i,o)):(r.tag=0,r=jm(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===at){r.tag=11,r=k_(null,r,u,i,o);break t}else if(f===N){r.tag=14,r=L_(null,r,u,i,o);break t}}throw r=ne(u)||u,Error(s(306,r,""))}}return r;case 0:return jm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=ba(u,r.pendingProps),F_(i,r,u,f,o);case 3:t:{if(Kt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,pm(i,r),nu(r,u,null,o);var b=r.memoizedState;if(u=b.cache,$s(r,Me,u),u!==g.cache&&um(r,[Me],o,!0),eu(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=q_(i,r,u,o);break t}else if(u!==f){f=Bn(Error(s(424)),r),Yl(f),r=q_(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(me=ui(i.firstChild),mn=r,zt=!0,ga=null,Si=!0,o=S_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if($l(),u===f){r=ls(i,r,o);break t}Ke(i,r,u,o)}r=r.child}return r;case 26:return Dh(i,r),i===null?(o=WT(r.type,null,r.pendingProps,null))?r.memoizedState=o:zt||(o=r.type,i=r.pendingProps,u=Gh(bt.current).createElement(o),u[ve]=r,u[Ge]=i,Ye(u,o,i),_e(u),r.stateNode=u):r.memoizedState=WT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return wl(r),i===null&&zt&&(u=r.stateNode=YT(r.type,r.pendingProps,bt.current),mn=r,Si=!0,f=me,lr(r.type)?(xp=f,me=ui(u.firstChild)):me=f),Ke(i,r,r.pendingProps.children,o),Dh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&zt&&((f=u=me)&&(u=h2(u,r.type,r.pendingProps,Si),u!==null?(r.stateNode=u,mn=r,me=ui(u.firstChild),Si=!1,f=!0):f=!1),f||ya(r)),wl(r),f=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,bp(f,g)?u=null:b!==null&&bp(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=Em(i,r,IC,null,null,o),Au._currentValue=f),Dh(i,r),Ke(i,r,u,o),r.child;case 6:return i===null&&zt&&((i=o=me)&&(o=f2(o,r.pendingProps,Si),o!==null?(r.stateNode=o,mn=r,me=null,i=!0):i=!1),i||ya(r)),null;case 13:return H_(i,r,o);case 4:return Kt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ro(r,null,u,o):Ke(i,r,u,o),r.child;case 11:return k_(i,r,r.type,r.pendingProps,o);case 7:return Ke(i,r,r.pendingProps,o),r.child;case 8:return Ke(i,r,r.pendingProps.children,o),r.child;case 12:return Ke(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,$s(r,r.type,u.value),Ke(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,_a(r),f=nn(f),u=u(f),r.flags|=1,Ke(i,r,u,o),r.child;case 14:return L_(i,r,r.type,r.pendingProps,o);case 15:return U_(i,r,r.type,r.pendingProps,o);case 19:return K_(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=Nh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=es(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return j_(i,r,o);case 24:return _a(r),u=nn(Me),i===null?(f=fm(),f===null&&(f=te,g=cm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},mm(r),$s(r,Me,f)):((i.lanes&o)!==0&&(pm(i,r),nu(r,null,null,o),eu()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),$s(r,Me,u)):(u=g.cache,$s(r,Me,u),u!==f.cache&&um(r,[Me],o,!0))),Ke(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function us(i){i.flags|=4}function Y_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!nE(r)){if(r=Hn.current,r!==null&&((Ut&4194048)===Ut?xi!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||r!==xi))throw Jl=dm,N0;i.flags|=8192}}function Ph(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Ms():536870912,i.lanes|=r,No|=r)}function uu(i,r){if(!zt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ue(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function UC(i,r,o){var u=r.pendingProps;switch(rm(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(r),null;case 1:return ue(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),rs(Me),Jn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Kl(r)?us(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,x0())),ue(r),null;case 26:return o=r.memoizedState,i===null?(us(r),o!==null?(ue(r),Y_(r,o)):(ue(r),r.flags&=-16777217)):o?o!==i.memoizedState?(us(r),ue(r),Y_(r,o)):(ue(r),r.flags&=-16777217):(i.memoizedProps!==u&&us(r),ue(r),r.flags&=-16777217),null;case 27:Qa(r),o=bt.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&us(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ue(r),null}i=gt.current,Kl(r)?A0(r):(i=YT(f,u,o),r.stateNode=i,us(r))}return ue(r),null;case 5:if(Qa(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&us(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ue(r),null}if(i=gt.current,Kl(r))A0(r);else{switch(f=Gh(bt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[ve]=r,i[Ge]=u;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(Ye(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&us(r)}}return ue(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&us(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=bt.current,Kl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=mn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[ve]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||zT(i.nodeValue,o)),i||ya(r)}else i=Gh(i).createTextNode(u),i[ve]=r,r.stateNode=i}return ue(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Kl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ve]=r}else $l(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),f=!1}else f=x0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(os(r),r):(os(r),null)}if(os(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),Ph(r,r.updateQueue),ue(r),null;case 4:return Jn(),i===null&&yp(r.stateNode.containerInfo),ue(r),null;case 10:return rs(r.type),ue(r),null;case 19:if(ct(Oe),f=r.memoizedState,f===null)return ue(r),null;if(u=(r.flags&128)!==0,g=f.rendering,g===null)if(u)uu(f,!1);else{if(pe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Rh(i),g!==null){for(r.flags|=128,uu(f,!1),i=g.updateQueue,r.updateQueue=i,Ph(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)b0(o,i),o=o.sibling;return lt(Oe,Oe.current&1|2),r.child}i=i.sibling}f.tail!==null&&gn()>Oh&&(r.flags|=128,u=!0,uu(f,!1),r.lanes=4194304)}else{if(!u)if(i=Rh(g),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,Ph(r,i),uu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!zt)return ue(r),null}else 2*gn()-f.renderingStartTime>Oh&&o!==536870912&&(r.flags|=128,u=!0,uu(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(i=f.last,i!==null?i.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=gn(),r.sibling=null,i=Oe.current,lt(Oe,u?i&1|2:i&1),r):(ue(r),null);case 22:case 23:return os(r),_m(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ue(r),r.subtreeFlags&6&&(r.flags|=8192)):ue(r),o=r.updateQueue,o!==null&&Ph(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ct(Ta),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),rs(Me),ue(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function jC(i,r){switch(rm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return rs(Me),Jn(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Qa(r),null;case 13:if(os(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));$l()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ct(Oe),null;case 4:return Jn(),null;case 10:return rs(r.type),null;case 22:case 23:return os(r),_m(),i!==null&&ct(Ta),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return rs(Me),null;case 25:return null;default:return null}}function Q_(i,r){switch(rm(r),r.tag){case 3:rs(Me),Jn();break;case 26:case 27:case 5:Qa(r);break;case 4:Jn();break;case 13:os(r);break;case 19:ct(Oe);break;case 10:rs(r.type);break;case 22:case 23:os(r),_m(),i!==null&&ct(Ta);break;case 24:rs(Me)}}function cu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==f)}}catch(w){Zt(r,r.return,w)}}function tr(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=r;var I=o,H=w;try{H()}catch(Z){Zt(f,I,Z)}}}u=u.next}while(u!==g)}}catch(Z){Zt(r,r.return,Z)}}function X_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{L0(r,o)}catch(u){Zt(i,i.return,u)}}}function W_(i,r,o){o.props=ba(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Zt(i,r,u)}}function hu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Zt(i,r,f)}}function Ri(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Zt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Zt(i,r,f)}else o.current=null}function Z_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Zt(i,i.return,f)}}function $m(i,r,o){try{var u=i.stateNode;a2(u,i.type,o,r),u[Ge]=r}catch(f){Zt(i,i.return,f)}}function J_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&lr(i.type)||i.tag===4}function Ym(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||J_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&lr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Hh));else if(u!==4&&(u===27&&lr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Qm(i,r,o),i=i.sibling;i!==null;)Qm(i,r,o),i=i.sibling}function Vh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&lr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Vh(i,r,o),i=i.sibling;i!==null;)Vh(i,r,o),i=i.sibling}function tT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ye(r,u,o),r[ve]=i,r[Ge]=o}catch(g){Zt(i,i.return,g)}}var cs=!1,be=!1,Xm=!1,eT=typeof WeakSet=="function"?WeakSet:Set,ze=null;function BC(i,r){if(i=i.containerInfo,Tp=Wh,i=f0(i),Yd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,w=-1,I=-1,H=0,Z=0,et=i,K=null;e:for(;;){for(var $;et!==o||f!==0&&et.nodeType!==3||(w=b+f),et!==g||u!==0&&et.nodeType!==3||(I=b+u),et.nodeType===3&&(b+=et.nodeValue.length),($=et.firstChild)!==null;)K=et,et=$;for(;;){if(et===i)break e;if(K===o&&++H===f&&(w=b),K===g&&++Z===u&&(I=b),($=et.nextSibling)!==null)break;et=K,K=et.parentNode}et=$}o=w===-1||I===-1?null:{start:w,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ep={focusedElem:i,selectionRange:o},Wh=!1,ze=r;ze!==null;)if(r=ze,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,ze=i;else for(;ze!==null;){switch(r=ze,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var wt=ba(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(wt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Zt(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Ap(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ap(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,ze=i;break}ze=r.return}}function nT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:er(i,o),u&4&&cu(5,o);break;case 1:if(er(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){Zt(o,o.return,b)}else{var f=ba(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Zt(o,o.return,b)}}u&64&&X_(o),u&512&&hu(o,o.return);break;case 3:if(er(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{L0(i,r)}catch(b){Zt(o,o.return,b)}}break;case 27:r===null&&u&4&&tT(o);case 26:case 5:er(i,o),r===null&&u&4&&Z_(o),u&512&&hu(o,o.return);break;case 12:er(i,o);break;case 13:er(i,o),u&4&&rT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=QC.bind(null,o),d2(i,o))));break;case 22:if(u=o.memoizedState!==null||cs,!u){r=r!==null&&r.memoizedState!==null||be,f=cs;var g=be;cs=u,(be=r)&&!g?nr(i,o,(o.subtreeFlags&8772)!==0):er(i,o),cs=f,be=g}break;case 30:break;default:er(i,o)}}function iT(i){var r=i.alternate;r!==null&&(i.alternate=null,iT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&to(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var re=null,vn=!1;function hs(i,r,o){for(o=o.child;o!==null;)sT(i,r,o),o=o.sibling}function sT(i,r,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Ns,o)}catch{}switch(o.tag){case 26:be||Ri(o,r),hs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:be||Ri(o,r);var u=re,f=vn;lr(o.type)&&(re=o.stateNode,vn=!1),hs(i,r,o),Tu(o.stateNode),re=u,vn=f;break;case 5:be||Ri(o,r);case 6:if(u=re,f=vn,re=null,hs(i,r,o),re=u,vn=f,re!==null)if(vn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(o.stateNode)}catch(g){Zt(o,r,g)}else try{re.removeChild(o.stateNode)}catch(g){Zt(o,r,g)}break;case 18:re!==null&&(vn?(i=re,KT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Cu(i)):KT(re,o.stateNode));break;case 4:u=re,f=vn,re=o.stateNode.containerInfo,vn=!0,hs(i,r,o),re=u,vn=f;break;case 0:case 11:case 14:case 15:be||tr(2,o,r),be||tr(4,o,r),hs(i,r,o);break;case 1:be||(Ri(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&W_(o,r,u)),hs(i,r,o);break;case 21:hs(i,r,o);break;case 22:be=(u=be)||o.memoizedState!==null,hs(i,r,o),be=u;break;default:hs(i,r,o)}}function rT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Cu(i)}catch(o){Zt(r,r.return,o)}}function zC(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new eT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new eT),r;default:throw Error(s(435,i.tag))}}function Wm(i,r){var o=zC(i);r.forEach(function(u){var f=XC.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function Rn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,b=r,w=b;t:for(;w!==null;){switch(w.tag){case 27:if(lr(w.type)){re=w.stateNode,vn=!1;break t}break;case 5:re=w.stateNode,vn=!1;break t;case 3:case 4:re=w.stateNode.containerInfo,vn=!0;break t}w=w.return}if(re===null)throw Error(s(160));sT(g,b,f),re=null,vn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)aT(r,i),r=r.sibling}var li=null;function aT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Rn(r,i),Cn(i),u&4&&(tr(3,i,i.return),cu(3,i),tr(5,i,i.return));break;case 1:Rn(r,i),Cn(i),u&512&&(be||o===null||Ri(o,o.return)),u&64&&cs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=li;if(Rn(r,i),Cn(i),u&512&&(be||o===null||Ri(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ls]||g[ve]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Ye(g,u,o),g[ve]=i,_e(g),u=g;break t;case"link":var b=tE("link","href",f).get(u+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(g=b[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break e}}g=f.createElement(u),Ye(g,u,o),f.head.appendChild(g);break;case"meta":if(b=tE("meta","content",f).get(u+(o.content||""))){for(w=0;w<b.length;w++)if(g=b[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break e}}g=f.createElement(u),Ye(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[ve]=i,_e(g),u=g}i.stateNode=u}else eE(f,i.type,i.stateNode);else i.stateNode=JT(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?eE(f,i.type,i.stateNode):JT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&$m(i,i.memoizedProps,o.memoizedProps)}break;case 27:Rn(r,i),Cn(i),u&512&&(be||o===null||Ri(o,o.return)),o!==null&&u&4&&$m(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Rn(r,i),Cn(i),u&512&&(be||o===null||Ri(o,o.return)),i.flags&32){f=i.stateNode;try{Un(f,"")}catch($){Zt(i,i.return,$)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,$m(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Xm=!0);break;case 6:if(Rn(r,i),Cn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch($){Zt(i,i.return,$)}}break;case 3:if(Yh=null,f=li,li=Kh(r.containerInfo),Rn(r,i),li=f,Cn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Cu(r.containerInfo)}catch($){Zt(i,i.return,$)}Xm&&(Xm=!1,oT(i));break;case 4:u=li,li=Kh(i.stateNode.containerInfo),Rn(r,i),Cn(i),li=u;break;case 12:Rn(r,i),Cn(i);break;case 13:Rn(r,i),Cn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ip=gn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Wm(i,u)));break;case 22:f=i.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,H=cs,Z=be;if(cs=H||f,be=Z||I,Rn(r,i),be=Z,cs=H,Cn(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||I||cs||be||wa(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){I=o=r;try{if(g=I.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=I.stateNode;var et=I.memoizedProps.style,K=et!=null&&et.hasOwnProperty("display")?et.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch($){Zt(I,I.return,$)}}}else if(r.tag===6){if(o===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch($){Zt(I,I.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Wm(i,o))));break;case 19:Rn(r,i),Cn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Wm(i,u)));break;case 30:break;case 21:break;default:Rn(r,i),Cn(i)}}function Cn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(J_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=Ym(i);Vh(i,g,f);break;case 5:var b=o.stateNode;o.flags&32&&(Un(b,""),o.flags&=-33);var w=Ym(i);Vh(i,w,b);break;case 3:case 4:var I=o.stateNode.containerInfo,H=Ym(i);Qm(i,H,I);break;default:throw Error(s(161))}}catch(Z){Zt(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function oT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;oT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function er(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)nT(i,r.alternate,r),r=r.sibling}function wa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:tr(4,r,r.return),wa(r);break;case 1:Ri(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&W_(r,r.return,o),wa(r);break;case 27:Tu(r.stateNode);case 26:case 5:Ri(r,r.return),wa(r);break;case 22:r.memoizedState===null&&wa(r);break;case 30:wa(r);break;default:wa(r)}i=i.sibling}}function nr(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:nr(f,g,o),cu(4,g);break;case 1:if(nr(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Zt(u,u.return,H)}if(u=g,f=u.updateQueue,f!==null){var w=u.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)k0(I[f],w)}catch(H){Zt(u,u.return,H)}}o&&b&64&&X_(g),hu(g,g.return);break;case 27:tT(g);case 26:case 5:nr(f,g,o),o&&u===null&&b&4&&Z_(g),hu(g,g.return);break;case 12:nr(f,g,o);break;case 13:nr(f,g,o),o&&b&4&&rT(f,g);break;case 22:g.memoizedState===null&&nr(f,g,o),hu(g,g.return);break;case 30:break;default:nr(f,g,o)}r=r.sibling}}function Zm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Xl(o))}function Jm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Xl(i))}function Ci(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)lT(i,r,o,u),r=r.sibling}function lT(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ci(i,r,o,u),f&2048&&cu(9,r);break;case 1:Ci(i,r,o,u);break;case 3:Ci(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Xl(i)));break;case 12:if(f&2048){Ci(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,w=g.onPostCommit;typeof w=="function"&&w(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){Zt(r,r.return,I)}}else Ci(i,r,o,u);break;case 13:Ci(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?Ci(i,r,o,u):fu(i,r):g._visibility&2?Ci(i,r,o,u):(g._visibility|=2,Co(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&Zm(b,r);break;case 24:Ci(i,r,o,u),f&2048&&Jm(r.alternate,r);break;default:Ci(i,r,o,u)}}function Co(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,b=r,w=o,I=u,H=b.flags;switch(b.tag){case 0:case 11:case 15:Co(g,b,w,I,f),cu(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?Co(g,b,w,I,f):fu(g,b):(Z._visibility|=2,Co(g,b,w,I,f)),f&&H&2048&&Zm(b.alternate,b);break;case 24:Co(g,b,w,I,f),f&&H&2048&&Jm(b.alternate,b);break;default:Co(g,b,w,I,f)}r=r.sibling}}function fu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:fu(o,u),f&2048&&Zm(u.alternate,u);break;case 24:fu(o,u),f&2048&&Jm(u.alternate,u);break;default:fu(o,u)}r=r.sibling}}var du=8192;function Io(i){if(i.subtreeFlags&du)for(i=i.child;i!==null;)uT(i),i=i.sibling}function uT(i){switch(i.tag){case 26:Io(i),i.flags&du&&i.memoizedState!==null&&x2(li,i.memoizedState,i.memoizedProps);break;case 5:Io(i);break;case 3:case 4:var r=li;li=Kh(i.stateNode.containerInfo),Io(i),li=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=du,du=16777216,Io(i),du=r):Io(i));break;default:Io(i)}}function cT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function mu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];ze=u,fT(u,i)}cT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hT(i),i=i.sibling}function hT(i){switch(i.tag){case 0:case 11:case 15:mu(i),i.flags&2048&&tr(9,i,i.return);break;case 3:mu(i);break;case 12:mu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Mh(i)):mu(i);break;default:mu(i)}}function Mh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];ze=u,fT(u,i)}cT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:tr(8,r,r.return),Mh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Mh(r));break;default:Mh(r)}i=i.sibling}}function fT(i,r){for(;ze!==null;){var o=ze;switch(o.tag){case 0:case 11:case 15:tr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Xl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,ze=u;else t:for(o=i;ze!==null;){u=ze;var f=u.sibling,g=u.return;if(iT(u),u===o){ze=null;break t}if(f!==null){f.return=g,ze=f;break t}ze=g}}}var FC={getCacheForType:function(i){var r=nn(Me),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},qC=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Pt=null,Ut=0,Gt=0,In=null,ir=!1,Do=!1,tp=!1,fs=0,pe=0,sr=0,Aa=0,ep=0,Gn=0,No=0,pu=null,_n=null,np=!1,ip=0,Oh=1/0,kh=null,rr=null,$e=0,ar=null,Po=null,Vo=0,sp=0,rp=null,dT=null,gu=0,ap=null;function Dn(){if((Ht&2)!==0&&Ut!==0)return Ut&-Ut;if(W.T!==null){var i=To;return i!==0?i:dp()}return Yi()}function mT(){Gn===0&&(Gn=(Ut&536870912)===0||zt?xl():536870912);var i=Hn.current;return i!==null&&(i.flags|=32),Gn}function Nn(i,r,o){(i===te&&(Gt===2||Gt===9)||i.cancelPendingCommit!==null)&&(Mo(i,0),or(i,Ut,Gn,!1)),ye(i,o),((Ht&2)===0||i!==te)&&(i===te&&((Ht&2)===0&&(Aa|=o),pe===4&&or(i,Ut,Gn,!1)),Ii(i))}function pT(i,r,o){if((Ht&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||Vs(i,r),f=u?KC(i,r):up(i,r,!0),g=u;do{if(f===0){Do&&!u&&or(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!HC(o)){f=up(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var w=i;f=pu;var I=w.current.memoizedState.isDehydrated;if(I&&(Mo(w,b).flags|=256),b=up(w,b,!1),b!==2){if(tp&&!I){w.errorRecoveryDisabledLanes|=g,Aa|=g,f=4;break t}g=_n,_n=f,g!==null&&(_n===null?_n=g:_n.push.apply(_n,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){Mo(i,0),or(i,r,0,!0);break}t:{switch(u=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:or(u,r,Gn,!ir);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=ip+300-gn(),10<f)){if(or(u,r,Gn,!ir),kn(u,0,!0)!==0)break t;u.timeoutHandle=HT(gT.bind(null,u,o,_n,kh,np,r,Gn,Aa,No,ir,g,2,-0,0),f);break t}gT(u,o,_n,kh,np,r,Gn,Aa,No,ir,g,0,-0,0)}}break}while(!0);Ii(i)}function gT(i,r,o,u,f,g,b,w,I,H,Z,et,K,$){if(i.timeoutHandle=-1,et=r.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(wu={stylesheets:null,count:0,unsuspend:S2},uT(r),et=R2(),et!==null)){i.cancelPendingCommit=et(wT.bind(null,i,r,g,o,u,f,b,w,I,Z,1,K,$)),or(i,g,b,!H);return}wT(i,r,g,o,u,f,b,w,I)}function HC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Sn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function or(i,r,o,u){r&=~ep,r&=~Aa,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-cn(f),b=1<<g;u[g]=-1,f&=~b}o!==0&&Os(i,o,r)}function Lh(){return(Ht&6)===0?(yu(0),!1):!0}function op(){if(Pt!==null){if(Gt===0)var i=Pt.return;else i=Pt,ss=va=null,Am(i),xo=null,ou=0,i=Pt;for(;i!==null;)Q_(i.alternate,i),i=i.return;Pt=null}}function Mo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,l2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),op(),te=i,Pt=o=es(i.current,null),Ut=r,Gt=0,In=null,ir=!1,Do=Vs(i,r),tp=!1,No=Gn=ep=Aa=sr=pe=0,_n=pu=null,np=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-cn(u),g=1<<f;r|=i[f],u&=~g}return fs=r,rh(),o}function yT(i,r){Dt=null,W.H=Ah,r===Zl||r===mh?(r=M0(),Gt=3):r===N0?(r=M0(),Gt=4):Gt=r===O_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,Pt===null&&(pe=1,Ih(i,Bn(r,i.current)))}function vT(){var i=W.H;return W.H=Ah,i===null?Ah:i}function _T(){var i=W.A;return W.A=FC,i}function lp(){pe=4,ir||(Ut&4194048)!==Ut&&Hn.current!==null||(Do=!0),(sr&134217727)===0&&(Aa&134217727)===0||te===null||or(te,Ut,Gn,!1)}function up(i,r,o){var u=Ht;Ht|=2;var f=vT(),g=_T();(te!==i||Ut!==r)&&(kh=null,Mo(i,r)),r=!1;var b=pe;t:do try{if(Gt!==0&&Pt!==null){var w=Pt,I=In;switch(Gt){case 8:op(),b=6;break t;case 3:case 2:case 9:case 6:Hn.current===null&&(r=!0);var H=Gt;if(Gt=0,In=null,Oo(i,w,I,H),o&&Do){b=0;break t}break;default:H=Gt,Gt=0,In=null,Oo(i,w,I,H)}}GC(),b=pe;break}catch(Z){yT(i,Z)}while(!0);return r&&i.shellSuspendCounter++,ss=va=null,Ht=u,W.H=f,W.A=g,Pt===null&&(te=null,Ut=0,rh()),b}function GC(){for(;Pt!==null;)TT(Pt)}function KC(i,r){var o=Ht;Ht|=2;var u=vT(),f=_T();te!==i||Ut!==r?(kh=null,Oh=gn()+500,Mo(i,r)):Do=Vs(i,r);t:do try{if(Gt!==0&&Pt!==null){r=Pt;var g=In;e:switch(Gt){case 1:Gt=0,In=null,Oo(i,r,g,1);break;case 2:case 9:if(P0(g)){Gt=0,In=null,ET(r);break}r=function(){Gt!==2&&Gt!==9||te!==i||(Gt=7),Ii(i)},g.then(r,r);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:P0(g)?(Gt=0,In=null,ET(r)):(Gt=0,In=null,Oo(i,r,g,7));break;case 5:var b=null;switch(Pt.tag){case 26:b=Pt.memoizedState;case 5:case 27:var w=Pt;if(!b||nE(b)){Gt=0,In=null;var I=w.sibling;if(I!==null)Pt=I;else{var H=w.return;H!==null?(Pt=H,Uh(H)):Pt=null}break e}}Gt=0,In=null,Oo(i,r,g,5);break;case 6:Gt=0,In=null,Oo(i,r,g,6);break;case 8:op(),pe=6;break t;default:throw Error(s(462))}}$C();break}catch(Z){yT(i,Z)}while(!0);return ss=va=null,W.H=u,W.A=f,Ht=o,Pt!==null?0:(te=null,Ut=0,rh(),pe)}function $C(){for(;Pt!==null&&!Ld();)TT(Pt)}function TT(i){var r=$_(i.alternate,i,fs);i.memoizedProps=i.pendingProps,r===null?Uh(i):Pt=r}function ET(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=z_(o,r,r.pendingProps,r.type,void 0,Ut);break;case 11:r=z_(o,r,r.pendingProps,r.type.render,r.ref,Ut);break;case 5:Am(r);default:Q_(o,r),r=Pt=b0(r,fs),r=$_(o,r,fs)}i.memoizedProps=i.pendingProps,r===null?Uh(i):Pt=r}function Oo(i,r,o,u){ss=va=null,Am(r),xo=null,ou=0;var f=r.return;try{if(kC(i,f,r,o,Ut)){pe=1,Ih(i,Bn(o,i.current)),Pt=null;return}}catch(g){if(f!==null)throw Pt=f,g;pe=1,Ih(i,Bn(o,i.current)),Pt=null;return}r.flags&32768?(zt||u===1?i=!0:Do||(Ut&536870912)!==0?i=!1:(ir=i=!0,(u===2||u===9||u===3||u===6)&&(u=Hn.current,u!==null&&u.tag===13&&(u.flags|=16384))),bT(r,i)):Uh(r)}function Uh(i){var r=i;do{if((r.flags&32768)!==0){bT(r,ir);return}i=r.return;var o=UC(r.alternate,r,fs);if(o!==null){Pt=o;return}if(r=r.sibling,r!==null){Pt=r;return}Pt=r=i}while(r!==null);pe===0&&(pe=5)}function bT(i,r){do{var o=jC(i.alternate,i);if(o!==null){o.flags&=32767,Pt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Pt=i;return}Pt=i=o}while(i!==null);pe=6,Pt=null}function wT(i,r,o,u,f,g,b,w,I){i.cancelPendingCommit=null;do jh();while($e!==0);if((Ht&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Jd,Fc(i,o,g,b,w,I),i===te&&(Pt=te=null,Ut=0),Po=r,ar=i,Vo=o,sp=g,rp=f,dT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,WC($i,function(){return CT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=rt.p,rt.p=2,b=Ht,Ht|=4;try{BC(i,r,o)}finally{Ht=b,rt.p=f,W.T=u}}$e=1,AT(),ST(),xT()}}function AT(){if($e===1){$e=0;var i=ar,r=Po,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=rt.p;rt.p=2;var f=Ht;Ht|=4;try{aT(r,i);var g=Ep,b=f0(i.containerInfo),w=g.focusedElem,I=g.selectionRange;if(b!==w&&w&&w.ownerDocument&&h0(w.ownerDocument.documentElement,w)){if(I!==null&&Yd(w)){var H=I.start,Z=I.end;if(Z===void 0&&(Z=H),"selectionStart"in w)w.selectionStart=H,w.selectionEnd=Math.min(Z,w.value.length);else{var et=w.ownerDocument||document,K=et&&et.defaultView||window;if(K.getSelection){var $=K.getSelection(),wt=w.textContent.length,vt=Math.min(I.start,wt),Xt=I.end===void 0?vt:Math.min(I.end,wt);!$.extend&&vt>Xt&&(b=Xt,Xt=vt,vt=b);var j=c0(w,vt),U=c0(w,Xt);if(j&&U&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==U.node||$.focusOffset!==U.offset)){var F=et.createRange();F.setStart(j.node,j.offset),$.removeAllRanges(),vt>Xt?($.addRange(F),$.extend(U.node,U.offset)):(F.setEnd(U.node,U.offset),$.addRange(F))}}}}for(et=[],$=w;$=$.parentNode;)$.nodeType===1&&et.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<et.length;w++){var J=et[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Wh=!!Tp,Ep=Tp=null}finally{Ht=f,rt.p=u,W.T=o}}i.current=r,$e=2}}function ST(){if($e===2){$e=0;var i=ar,r=Po,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=rt.p;rt.p=2;var f=Ht;Ht|=4;try{nT(i,r.alternate,r)}finally{Ht=f,rt.p=u,W.T=o}}$e=3}}function xT(){if($e===4||$e===3){$e=0,Al();var i=ar,r=Po,o=Vo,u=dT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$e=5:($e=0,Po=ar=null,RT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(rr=null),Cl(o),r=r.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Ns,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,f=rt.p,rt.p=2,W.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var w=u[b];g(w.value,{componentStack:w.stack})}}finally{W.T=r,rt.p=f}}(Vo&3)!==0&&jh(),Ii(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===ap?gu++:(gu=0,ap=i):gu=0,yu(0)}}function RT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Xl(r)))}function jh(i){return AT(),ST(),xT(),CT()}function CT(){if($e!==5)return!1;var i=ar,r=sp;sp=0;var o=Cl(Vo),u=W.T,f=rt.p;try{rt.p=32>o?32:o,W.T=null,o=rp,rp=null;var g=ar,b=Vo;if($e=0,Po=ar=null,Vo=0,(Ht&6)!==0)throw Error(s(331));var w=Ht;if(Ht|=4,hT(g.current),lT(g,g.current,b,o),Ht=w,yu(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Ns,g)}catch{}return!0}finally{rt.p=f,W.T=u,RT(i,r)}}function IT(i,r,o){r=Bn(o,r),r=Um(i.stateNode,r,2),i=Xs(i,r,2),i!==null&&(ye(i,2),Ii(i))}function Zt(i,r,o){if(i.tag===3)IT(i,i,o);else for(;r!==null;){if(r.tag===3){IT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rr===null||!rr.has(u))){i=Bn(o,i),o=V_(2),u=Xs(r,o,2),u!==null&&(M_(o,u,r,i),ye(u,2),Ii(u));break}}r=r.return}}function cp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new qC;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(tp=!0,f.add(o),i=YC.bind(null,i,r,o),r.then(i,i))}function YC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,te===i&&(Ut&o)===o&&(pe===4||pe===3&&(Ut&62914560)===Ut&&300>gn()-ip?(Ht&2)===0&&Mo(i,0):ep|=o,No===Ut&&(No=0)),Ii(i)}function DT(i,r){r===0&&(r=Ms()),i=go(i,r),i!==null&&(ye(i,r),Ii(i))}function QC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),DT(i,o)}function XC(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),DT(i,o)}function WC(i,r){return qr(i,r)}var Bh=null,ko=null,hp=!1,zh=!1,fp=!1,Sa=0;function Ii(i){i!==ko&&i.next===null&&(ko===null?Bh=ko=i:ko=ko.next=i),zh=!0,hp||(hp=!0,JC())}function yu(i,r){if(!fp&&zh){fp=!0;do for(var o=!1,u=Bh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var b=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-cn(42|i)+1)-1,g&=f&~(b&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,MT(u,g))}else g=Ut,g=kn(u,u===te?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Vs(u,g)||(o=!0,MT(u,g));u=u.next}while(o);fp=!1}}function ZC(){NT()}function NT(){zh=hp=!1;var i=0;Sa!==0&&(o2()&&(i=Sa),Sa=0);for(var r=gn(),o=null,u=Bh;u!==null;){var f=u.next,g=PT(u,r);g===0?(u.next=null,o===null?Bh=f:o.next=f,f===null&&(ko=o)):(o=u,(i!==0||(g&3)!==0)&&(zh=!0)),u=f}yu(i)}function PT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-cn(g),w=1<<b,I=f[b];I===-1?((w&o)===0||(w&u)!==0)&&(f[b]=Za(w,r)):I<=r&&(i.expiredLanes|=w),g&=~w}if(r=te,o=Ut,o=kn(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Gt===2||Gt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Wa(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Vs(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Wa(u),Cl(o)){case 2:case 8:o=Ue;break;case 32:o=$i;break;case 268435456:o=Sl;break;default:o=$i}return u=VT.bind(null,i),o=qr(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Wa(u),i.callbackPriority=2,i.callbackNode=null,2}function VT(i,r){if($e!==0&&$e!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(jh()&&i.callbackNode!==o)return null;var u=Ut;return u=kn(i,i===te?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(pT(i,u,r),PT(i,gn()),i.callbackNode!=null&&i.callbackNode===o?VT.bind(null,i):null)}function MT(i,r){if(jh())return null;pT(i,r,!0)}function JC(){u2(function(){(Ht&6)!==0?qr(Pe,ZC):NT()})}function dp(){return Sa===0&&(Sa=xl()),Sa}function OT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ii(""+i)}function kT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function t2(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=OT((f[Ge]||null).action),b=u.submitter;b&&(r=(r=b[Ge]||null)?OT(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var w=new sa("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Sa!==0){var I=b?kT(f,b):new FormData(f);Vm(o,{pending:!0,data:I,method:f.method,action:g},null,I)}}else typeof g=="function"&&(w.preventDefault(),I=b?kT(f,b):new FormData(f),Vm(o,{pending:!0,data:I,method:f.method,action:g},g,I))},currentTarget:f}]})}}for(var mp=0;mp<Zd.length;mp++){var pp=Zd[mp],e2=pp.toLowerCase(),n2=pp[0].toUpperCase()+pp.slice(1);oi(e2,"on"+n2)}oi(p0,"onAnimationEnd"),oi(g0,"onAnimationIteration"),oi(y0,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(_C,"onTransitionRun"),oi(TC,"onTransitionStart"),oi(EC,"onTransitionCancel"),oi(v0,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vu));function LT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var b=u.length-1;0<=b;b--){var w=u[b],I=w.instance,H=w.currentTarget;if(w=w.listener,I!==g&&f.isPropagationStopped())break t;g=w,f.currentTarget=H;try{g(f)}catch(Z){Ch(Z)}f.currentTarget=null,g=I}else for(b=0;b<u.length;b++){if(w=u[b],I=w.instance,H=w.currentTarget,w=w.listener,I!==g&&f.isPropagationStopped())break t;g=w,f.currentTarget=H;try{g(f)}catch(Z){Ch(Z)}f.currentTarget=null,g=I}}}}function Vt(i,r){var o=r[Gr];o===void 0&&(o=r[Gr]=new Set);var u=i+"__bubble";o.has(u)||(UT(r,i,2,!1),o.add(u))}function gp(i,r,o){var u=0;r&&(u|=4),UT(o,i,u,r)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function yp(i){if(!i[Fh]){i[Fh]=!0,qc.forEach(function(o){o!=="selectionchange"&&(i2.has(o)||gp(o,!1,i),gp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Fh]||(r[Fh]=!0,gp("selectionchange",!1,r))}}function UT(i,r,o,u){switch(lE(r)){case 2:var f=D2;break;case 8:f=N2;break;default:f=Np}o=f.bind(null,r,o,i),f=void 0,!Ji||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function vp(i,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=u.return;b!==null;){var I=b.tag;if((I===3||I===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=vi(w),b===null)return;if(I=b.tag,I===5||I===6||I===26||I===27){u=g=b;continue t}w=w.parentNode}}u=u.return}ea(function(){var H=g,Z=Ol(o),et=[];t:{var K=_0.get(i);if(K!==void 0){var $=sa,wt=i;switch(i){case"keypress":if(na(o)===0)break t;case"keydown":case"keyup":$=ho;break;case"focusin":wt="focus",$=lo;break;case"focusout":wt="blur",$=lo;break;case"beforeblur":case"afterblur":$=lo;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Xc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Ks;break;case p0:case g0:case y0:$=Ll;break;case v0:$=v;break;case"scroll":case"scrollend":$=aa;break;case"wheel":$=A;break;case"copy":case"cut":case"paste":$=Zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Bl;break;case"toggle":case"beforetoggle":$=Q}var vt=(r&4)!==0,Xt=!vt&&(i==="scroll"||i==="scrollend"),j=vt?K!==null?K+"Capture":null:K;vt=[];for(var U=H,F;U!==null;){var J=U;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||j===null||(J=Hs(U,j),J!=null&&vt.push(_u(U,J,F))),Xt)break;U=U.return}0<vt.length&&(K=new $(K,wt,null,o,Z),et.push({event:K,listeners:vt}))}}if((r&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",K&&o!==Ml&&(wt=o.relatedTarget||o.fromElement)&&(vi(wt)||wt[Qi]))break t;if(($||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,$?(wt=o.relatedTarget||o.toElement,$=H,wt=wt?vi(wt):null,wt!==null&&(Xt=l(wt),vt=wt.tag,wt!==Xt||vt!==5&&vt!==27&&vt!==6)&&(wt=null)):($=null,wt=H),$!==wt)){if(vt=ua,J="onMouseLeave",j="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(vt=Bl,J="onPointerLeave",j="onPointerEnter",U="pointer"),Xt=$==null?K:Us($),F=wt==null?K:Us(wt),K=new vt(J,U+"leave",$,o,Z),K.target=Xt,K.relatedTarget=F,J=null,vi(Z)===H&&(vt=new vt(j,U+"enter",wt,o,Z),vt.target=F,vt.relatedTarget=Xt,J=vt),Xt=J,$&&wt)e:{for(vt=$,j=wt,U=0,F=vt;F;F=Lo(F))U++;for(F=0,J=j;J;J=Lo(J))F++;for(;0<U-F;)vt=Lo(vt),U--;for(;0<F-U;)j=Lo(j),F--;for(;U--;){if(vt===j||j!==null&&vt===j.alternate)break e;vt=Lo(vt),j=Lo(j)}vt=null}else vt=null;$!==null&&jT(et,K,$,vt,!1),wt!==null&&Xt!==null&&jT(et,Xt,wt,vt,!0)}}t:{if(K=H?Us(H):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var mt=s0;else if(n0(K))if(r0)mt=gC;else{mt=mC;var Nt=dC}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?H&&ro(H.elementType)&&(mt=s0):mt=pC;if(mt&&(mt=mt(i,H))){i0(et,mt,o,Z);break t}Nt&&Nt(i,K,H),i==="focusout"&&H&&K.type==="number"&&H.memoizedProps.value!=null&&Nl(K,"number",K.value)}switch(Nt=H?Us(H):window,i){case"focusin":(n0(Nt)||Nt.contentEditable==="true")&&(fo=Nt,Qd=H,Gl=null);break;case"focusout":Gl=Qd=fo=null;break;case"mousedown":Xd=!0;break;case"contextmenu":case"mouseup":case"dragend":Xd=!1,d0(et,o,Z);break;case"selectionchange":if(vC)break;case"keydown":case"keyup":d0(et,o,Z)}var pt;if(xt)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else ai?si(i,o)&&(_t="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_t="onCompositionStart");_t&&(Te&&o.locale!=="ko"&&(ai||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&ai&&(pt=Qc()):(jn=Z,Jt="value"in jn?jn.value:jn.textContent,ai=!0)),Nt=qh(H,_t),0<Nt.length&&(_t=new jl(_t,i,null,o,Z),et.push({event:_t,listeners:Nt}),pt?_t.data=pt:(pt=ri(o),pt!==null&&(_t.data=pt)))),(pt=qt?zl(i,o):cC(i,o))&&(_t=qh(H,"onBeforeInput"),0<_t.length&&(Nt=new jl("onBeforeInput","beforeinput",null,o,Z),et.push({event:Nt,listeners:_t}),Nt.data=pt)),t2(et,i,H,o,Z)}LT(et,r)})}function _u(i,r,o){return{instance:i,listener:r,currentTarget:o}}function qh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Hs(i,o),f!=null&&u.unshift(_u(i,f,g)),f=Hs(i,r),f!=null&&u.push(_u(i,f,g))),i.tag===3)return u;i=i.return}return[]}function Lo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function jT(i,r,o,u,f){for(var g=r._reactName,b=[];o!==null&&o!==u;){var w=o,I=w.alternate,H=w.stateNode;if(w=w.tag,I!==null&&I===u)break;w!==5&&w!==26&&w!==27||H===null||(I=H,f?(H=Hs(o,g),H!=null&&b.unshift(_u(o,H,I))):f||(H=Hs(o,g),H!=null&&b.push(_u(o,H,I)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var s2=/\r\n?/g,r2=/\u0000|\uFFFD/g;function BT(i){return(typeof i=="string"?i:""+i).replace(s2,`
`).replace(r2,"")}function zT(i,r){return r=BT(r),BT(i)===r}function Hh(){}function Qt(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Un(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Un(i,""+u);break;case"className":Xr(i,"class",u);break;case"tabIndex":Xr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Xr(i,o,u);break;case"style":Vl(i,u,g);break;case"data":if(r!=="object"){Xr(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ii(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&Qt(i,r,"name",f.name,f,null),Qt(i,r,"formEncType",f.formEncType,f,null),Qt(i,r,"formMethod",f.formMethod,f,null),Qt(i,r,"formTarget",f.formTarget,f,null)):(Qt(i,r,"encType",f.encType,f,null),Qt(i,r,"method",f.method,f,null),Qt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ii(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Hh);break;case"onScroll":u!=null&&Vt("scroll",i);break;case"onScrollEnd":u!=null&&Vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ii(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Vt("beforetoggle",i),Vt("toggle",i),Qr(i,"popover",u);break;case"xlinkActuate":Ln(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ln(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ln(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ln(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ln(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ln(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ln(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ln(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ln(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Qr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Kc.get(o)||o,Qr(i,o,u))}}function _p(i,r,o,u,f,g){switch(o){case"style":Vl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Un(i,u):(typeof u=="number"||typeof u=="bigint")&&Un(i,""+u);break;case"onScroll":u!=null&&Vt("scroll",i);break;case"onScrollEnd":u!=null&&Vt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Hh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$r.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[Ge]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Qr(i,o,u)}}}function Ye(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",i),Vt("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qt(i,r,g,b,o,null)}}f&&Qt(i,r,"srcSet",o.srcSet,o,null),u&&Qt(i,r,"src",o.src,o,null);return;case"input":Vt("invalid",i);var w=g=b=f=null,I=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":b=Z;break;case"checked":I=Z;break;case"defaultChecked":H=Z;break;case"value":g=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Qt(i,r,u,Z,o,null)}}Dl(i,g,w,I,H,b,f,!1),zs(i);return;case"select":Vt("invalid",i),u=b=g=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":g=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:Qt(i,r,f,w,o,null)}r=g,o=b,i.multiple=!!u,r!=null?Fs(i,!!u,r,!1):o!=null&&Fs(i,!!u,o,!0);return;case"textarea":Vt("invalid",i),g=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":f=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Qt(i,r,b,w,o,null)}Gc(i,u,f,g),zs(i);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Qt(i,r,I,u,o,null)}return;case"dialog":Vt("beforetoggle",i),Vt("toggle",i),Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":Vt("load",i);break;case"video":case"audio":for(u=0;u<vu.length;u++)Vt(vu[u],i);break;case"image":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"embed":case"source":case"link":Vt("error",i),Vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qt(i,r,H,u,o,null)}return;default:if(ro(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&_p(i,r,Z,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&Qt(i,r,w,u,o,null))}function a2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,w=null,I=null,H=null,Z=null;for($ in o){var et=o[$];if(o.hasOwnProperty($)&&et!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=et;default:u.hasOwnProperty($)||Qt(i,r,$,null,u,et)}}for(var K in u){var $=u[K];if(et=o[K],u.hasOwnProperty(K)&&($!=null||et!=null))switch(K){case"type":g=$;break;case"name":f=$;break;case"checked":H=$;break;case"defaultChecked":Z=$;break;case"value":b=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==et&&Qt(i,r,K,$,u,et)}}Il(i,b,w,I,H,Z,g,f);return;case"select":$=b=w=K=null;for(g in o)if(I=o[g],o.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":$=I;default:u.hasOwnProperty(g)||Qt(i,r,g,null,u,I)}for(f in u)if(g=u[f],I=o[f],u.hasOwnProperty(f)&&(g!=null||I!=null))switch(f){case"value":K=g;break;case"defaultValue":w=g;break;case"multiple":b=g;default:g!==I&&Qt(i,r,f,g,u,I)}r=w,o=b,u=$,K!=null?Fs(i,!!o,K,!1):!!u!=!!o&&(r!=null?Fs(i,!!o,r,!0):Fs(i,!!o,o?[]:"",!1));return;case"textarea":$=K=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Qt(i,r,w,null,u,f)}for(b in u)if(f=u[b],g=o[b],u.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":K=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Qt(i,r,b,f,u,g)}Hc(i,K,$);return;case"option":for(var wt in o)if(K=o[wt],o.hasOwnProperty(wt)&&K!=null&&!u.hasOwnProperty(wt))switch(wt){case"selected":i.selected=!1;break;default:Qt(i,r,wt,null,u,K)}for(I in u)if(K=u[I],$=o[I],u.hasOwnProperty(I)&&K!==$&&(K!=null||$!=null))switch(I){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Qt(i,r,I,K,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)K=o[vt],o.hasOwnProperty(vt)&&K!=null&&!u.hasOwnProperty(vt)&&Qt(i,r,vt,null,u,K);for(H in u)if(K=u[H],$=o[H],u.hasOwnProperty(H)&&K!==$&&(K!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:Qt(i,r,H,K,u,$)}return;default:if(ro(r)){for(var Xt in o)K=o[Xt],o.hasOwnProperty(Xt)&&K!==void 0&&!u.hasOwnProperty(Xt)&&_p(i,r,Xt,void 0,u,K);for(Z in u)K=u[Z],$=o[Z],!u.hasOwnProperty(Z)||K===$||K===void 0&&$===void 0||_p(i,r,Z,K,u,$);return}}for(var j in o)K=o[j],o.hasOwnProperty(j)&&K!=null&&!u.hasOwnProperty(j)&&Qt(i,r,j,null,u,K);for(et in u)K=u[et],$=o[et],!u.hasOwnProperty(et)||K===$||K==null&&$==null||Qt(i,r,et,K,u,$)}var Tp=null,Ep=null;function Gh(i){return i.nodeType===9?i:i.ownerDocument}function FT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function bp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var wp=null;function o2(){var i=window.event;return i&&i.type==="popstate"?i===wp?!1:(wp=i,!0):(wp=null,!1)}var HT=typeof setTimeout=="function"?setTimeout:void 0,l2=typeof clearTimeout=="function"?clearTimeout:void 0,GT=typeof Promise=="function"?Promise:void 0,u2=typeof queueMicrotask=="function"?queueMicrotask:typeof GT<"u"?function(i){return GT.resolve(null).then(i).catch(c2)}:HT;function c2(i){setTimeout(function(){throw i})}function lr(i){return i==="head"}function KT(i,r){var o=r,u=0,f=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=i.ownerDocument;if(o&1&&Tu(b.documentElement),o&2&&Tu(b.body),o&4)for(o=b.head,Tu(o),b=o.firstChild;b;){var w=b.nextSibling,I=b.nodeName;b[Ls]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=w}}if(f===0){i.removeChild(g),Cu(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Cu(r)}function Ap(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ap(o),to(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function h2(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ls])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ui(i.nextSibling),i===null)break}return null}function f2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ui(i.nextSibling),i===null))return null;return i}function Sp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function d2(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ui(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var xp=null;function $T(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function YT(i,r,o){switch(r=Gh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Tu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);to(i)}var Kn=new Map,QT=new Set;function Kh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ds=rt.d;rt.d={f:m2,r:p2,D:g2,C:y2,L:v2,m:_2,X:E2,S:T2,M:b2};function m2(){var i=ds.f(),r=Lh();return i||r}function p2(i){var r=_i(i);r!==null&&r.tag===5&&r.type==="form"?p_(r):ds.r(i)}var Uo=typeof document>"u"?null:document;function XT(i,r,o){var u=Uo;if(u&&typeof r=="string"&&r){var f=je(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),QT.has(f)||(QT.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Ye(r,"link",i),_e(r),u.head.appendChild(r)))}}function g2(i){ds.D(i),XT("dns-prefetch",i,null)}function y2(i,r){ds.C(i,r),XT("preconnect",i,r)}function v2(i,r,o){ds.L(i,r,o);var u=Uo;if(u&&i&&r){var f='link[rel="preload"][as="'+je(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+je(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+je(o.imageSizes)+'"]')):f+='[href="'+je(i)+'"]';var g=f;switch(r){case"style":g=jo(i);break;case"script":g=Bo(i)}Kn.has(g)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Kn.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(Eu(g))||r==="script"&&u.querySelector(bu(g))||(r=u.createElement("link"),Ye(r,"link",i),_e(r),u.head.appendChild(r)))}}function _2(i,r){ds.m(i,r);var o=Uo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+je(u)+'"][href="'+je(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Bo(i)}if(!Kn.has(g)&&(i=y({rel:"modulepreload",href:i},r),Kn.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(bu(g)))return}u=o.createElement("link"),Ye(u,"link",i),_e(u),o.head.appendChild(u)}}}function T2(i,r,o){ds.S(i,r,o);var u=Uo;if(u&&i){var f=js(u).hoistableStyles,g=jo(i);r=r||"default";var b=f.get(g);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(Eu(g)))w.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Kn.get(g))&&Rp(i,o);var I=b=u.createElement("link");_e(I),Ye(I,"link",i),I._p=new Promise(function(H,Z){I.onload=H,I.onerror=Z}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,$h(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(g,b)}}}function E2(i,r){ds.X(i,r);var o=Uo;if(o&&i){var u=js(o).hoistableScripts,f=Bo(i),g=u.get(f);g||(g=o.querySelector(bu(f)),g||(i=y({src:i,async:!0},r),(r=Kn.get(f))&&Cp(i,r),g=o.createElement("script"),_e(g),Ye(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function b2(i,r){ds.M(i,r);var o=Uo;if(o&&i){var u=js(o).hoistableScripts,f=Bo(i),g=u.get(f);g||(g=o.querySelector(bu(f)),g||(i=y({src:i,async:!0,type:"module"},r),(r=Kn.get(f))&&Cp(i,r),g=o.createElement("script"),_e(g),Ye(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function WT(i,r,o,u){var f=(f=bt.current)?Kh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=jo(o.href),o=js(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=jo(o.href);var g=js(f).hoistableStyles,b=g.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=f.querySelector(Eu(i)))&&!g._p&&(b.instance=g,b.state.loading=5),Kn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Kn.set(i,o),g||w2(f,i,o,b.state))),r&&u===null)throw Error(s(528,""));return b}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Bo(o),o=js(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function jo(i){return'href="'+je(i)+'"'}function Eu(i){return'link[rel="stylesheet"]['+i+"]"}function ZT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function w2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ye(r,"link",o),_e(r),i.head.appendChild(r))}function Bo(i){return'[src="'+je(i)+'"]'}function bu(i){return"script[async]"+i}function JT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+je(o.href)+'"]');if(u)return r.instance=u,_e(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),_e(u),Ye(u,"style",f),$h(u,o.precedence,i),r.instance=u;case"stylesheet":f=jo(o.href);var g=i.querySelector(Eu(f));if(g)return r.state.loading|=4,r.instance=g,_e(g),g;u=ZT(o),(f=Kn.get(f))&&Rp(u,f),g=(i.ownerDocument||i).createElement("link"),_e(g);var b=g;return b._p=new Promise(function(w,I){b.onload=w,b.onerror=I}),Ye(g,"link",u),r.state.loading|=4,$h(g,o.precedence,i),r.instance=g;case"script":return g=Bo(o.src),(f=i.querySelector(bu(g)))?(r.instance=f,_e(f),f):(u=o,(f=Kn.get(g))&&(u=y({},o),Cp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),_e(f),Ye(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,$h(u,o.precedence,i));return r.instance}function $h(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===r)g=w;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Rp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Cp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Yh=null;function tE(i,r,o){if(Yh===null){var u=new Map,f=Yh=new Map;f.set(o,u)}else f=Yh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Ls]||g[ve]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var w=u.get(b);w?w.push(g):u.set(b,[g])}}return u}function eE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function A2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function nE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var wu=null;function S2(){}function x2(i,r,o){if(wu===null)throw Error(s(475));var u=wu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=jo(o.href),g=i.querySelector(Eu(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Qh.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=g,_e(g);return}g=i.ownerDocument||i,o=ZT(o),(f=Kn.get(f))&&Rp(o,f),g=g.createElement("link"),_e(g);var b=g;b._p=new Promise(function(w,I){b.onload=w,b.onerror=I}),Ye(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Qh.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function R2(){if(wu===null)throw Error(s(475));var i=wu;return i.stylesheets&&i.count===0&&Ip(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Ip(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Qh(){if(this.count--,this.count===0){if(this.stylesheets)Ip(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Xh=null;function Ip(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Xh=new Map,r.forEach(C2,i),Xh=null,Qh.call(i))}function C2(i,r){if(!(r.state.loading&4)){var o=Xh.get(i);if(o)var u=o.get(null);else{o=new Map,Xh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=r.instance,b=f.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,f),o.set(b,f),this.count++,u=Qh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Au={$$typeof:X,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function I2(i,r,o,u,f,g,b,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ja(0),this.hiddenUpdates=Ja(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function iE(i,r,o,u,f,g,b,w,I,H,Z,et){return i=new I2(i,r,o,b,w,I,H,et),r=1,g===!0&&(r|=24),g=xn(3,null,null,r),i.current=g,g.stateNode=i,r=cm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},mm(g),i}function sE(i){return i?(i=yo,i):yo}function rE(i,r,o,u,f,g){f=sE(f),u.context===null?u.context=f:u.pendingContext=f,u=Qs(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Xs(i,u,r),o!==null&&(Nn(o,i,r),tu(o,i,r))}function aE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Dp(i,r){aE(i,r),(i=i.alternate)&&aE(i,r)}function oE(i){if(i.tag===13){var r=go(i,67108864);r!==null&&Nn(r,i,67108864),Dp(i,67108864)}}var Wh=!0;function D2(i,r,o,u){var f=W.T;W.T=null;var g=rt.p;try{rt.p=2,Np(i,r,o,u)}finally{rt.p=g,W.T=f}}function N2(i,r,o,u){var f=W.T;W.T=null;var g=rt.p;try{rt.p=8,Np(i,r,o,u)}finally{rt.p=g,W.T=f}}function Np(i,r,o,u){if(Wh){var f=Pp(u);if(f===null)vp(i,r,u,Zh,o),uE(i,u);else if(V2(f,i,r,o,u))u.stopPropagation();else if(uE(i,u),r&4&&-1<P2.indexOf(i)){for(;f!==null;){var g=_i(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=ti(g.pendingLanes);if(b!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var I=1<<31-cn(b);w.entanglements[1]|=I,b&=~I}Ii(g),(Ht&6)===0&&(Oh=gn()+500,yu(0))}}break;case 13:w=go(g,2),w!==null&&Nn(w,g,2),Lh(),Dp(g,2)}if(g=Pp(u),g===null&&vp(i,r,u,Zh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else vp(i,r,u,null,o)}}function Pp(i){return i=Ol(i),Vp(i)}var Zh=null;function Vp(i){if(Zh=null,i=vi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Zh=i,null}function lE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jc()){case Pe:return 2;case Ue:return 8;case $i:case Ud:return 32;case Sl:return 268435456;default:return 32}default:return 32}}var Mp=!1,ur=null,cr=null,hr=null,Su=new Map,xu=new Map,fr=[],P2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uE(i,r){switch(i){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Su.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(r.pointerId)}}function Ru(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=_i(r),r!==null&&oE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function V2(i,r,o,u,f){switch(r){case"focusin":return ur=Ru(ur,i,r,o,u,f),!0;case"dragenter":return cr=Ru(cr,i,r,o,u,f),!0;case"mouseover":return hr=Ru(hr,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return Su.set(g,Ru(Su.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,xu.set(g,Ru(xu.get(g)||null,i,r,o,u,f)),!0}return!1}function cE(i){var r=vi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,zd(i.priority,function(){if(o.tag===13){var u=Dn();u=Rl(u);var f=go(o,u);f!==null&&Nn(f,o,u),Dp(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Jh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Pp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ml=u,o.target.dispatchEvent(u),Ml=null}else return r=_i(o),r!==null&&oE(r),i.blockedOn=o,!1;r.shift()}return!0}function hE(i,r,o){Jh(i)&&o.delete(r)}function M2(){Mp=!1,ur!==null&&Jh(ur)&&(ur=null),cr!==null&&Jh(cr)&&(cr=null),hr!==null&&Jh(hr)&&(hr=null),Su.forEach(hE),xu.forEach(hE)}function tf(i,r){i.blockedOn===r&&(i.blockedOn=null,Mp||(Mp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,M2)))}var ef=null;function fE(i){ef!==i&&(ef=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ef===i&&(ef=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Vp(u||o)===null)continue;break}var g=_i(o);g!==null&&(i.splice(r,3),r-=3,Vm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Cu(i){function r(I){return tf(I,i)}ur!==null&&tf(ur,i),cr!==null&&tf(cr,i),hr!==null&&tf(hr,i),Su.forEach(r),xu.forEach(r);for(var o=0;o<fr.length;o++){var u=fr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<fr.length&&(o=fr[0],o.blockedOn===null);)cE(o),o.blockedOn===null&&fr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],b=f[Ge]||null;if(typeof g=="function")b||fE(o);else if(b){var w=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[Ge]||null)w=b.formAction;else if(Vp(f)!==null)continue}else w=b.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),fE(o)}}}function Op(i){this._internalRoot=i}nf.prototype.render=Op.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Dn();rE(o,u,i,r,null,null)},nf.prototype.unmount=Op.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;rE(i.current,2,null,i,null,null),Lh(),r[Qi]=null}};function nf(i){this._internalRoot=i}nf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Yi();i={blockedOn:null,target:i,priority:r};for(var o=0;o<fr.length&&r!==0&&r<fr[o].priority;o++);fr.splice(o,0,i),o===0&&cE(i)}};var dE=t.version;if(dE!=="19.1.1")throw Error(s(527,dE,"19.1.1"));rt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var O2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{Ns=sf.inject(O2),tn=sf}catch{}}return Du.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=I_,g=D_,b=N_,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=iE(i,1,!1,null,null,o,u,f,g,b,w,null),i[Qi]=r.current,yp(i),new Op(r)},Du.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=I_,b=D_,w=N_,I=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),r=iE(i,1,!0,r,o??null,u,f,g,b,w,I,H),r.context=sE(null),o=r.current,u=Dn(),u=Rl(u),f=Qs(u),f.callback=null,Xs(o,f,u),o=u,r.current.lanes=o,ye(r,o),Ii(r),i[Qi]=r.current,yp(i),new nf(r)},Du.version="19.1.1",Du}var wE;function K2(){if(wE)return Up.exports;wE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Up.exports=G2(),Up.exports}var $2=K2();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var AE="popstate";function Y2(e={}){function t(s,a){let{pathname:l,search:c,hash:d}=s.location;return vg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Zu(a)}return X2(t,n,null,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Q2(){return Math.random().toString(36).substring(2,10)}function SE(e,t){return{usr:e.state,key:e.key,idx:t}}function vg(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?hl(t):t,state:n,key:t&&t.key||s||Q2()}}function Zu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function hl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function X2(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let M=y(),G=M==null?null:M-p;p=M,m&&m({action:d,location:z.location,delta:G})}function E(M,G){d="PUSH";let Y=vg(z.location,M,G);p=y()+1;let X=SE(Y,p),at=z.createHref(Y);try{c.pushState(X,"",at)}catch(nt){if(nt instanceof DOMException&&nt.name==="DataCloneError")throw nt;a.location.assign(at)}l&&m&&m({action:d,location:z.location,delta:1})}function S(M,G){d="REPLACE";let Y=vg(z.location,M,G);p=y();let X=SE(Y,p),at=z.createHref(Y);c.replaceState(X,"",at),l&&m&&m({action:d,location:z.location,delta:0})}function P(M){return W2(M)}let z={get action(){return d},get location(){return e(a,c)},listen(M){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(AE,_),m=M,()=>{a.removeEventListener(AE,_),m=null}},createHref(M){return t(a,M)},createURL:P,encodeLocation(M){let G=P(M);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:E,replace:S,go(M){return c.go(M)}};return z}function W2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fe(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Zu(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function S1(e,t,n="/"){return Z2(e,t,n,!1)}function Z2(e,t,n,s){let a=typeof t=="string"?hl(t):t,l=ws(a.pathname||"/",n);if(l==null)return null;let c=x1(e);J2(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=cI(l);d=lI(c[m],p,s)}return d}function x1(e,t=[],n=[],s="",a=!1){let l=(c,d,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;fe(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=_s([s,y.relativePath]),E=n.concat(y);c.children&&c.children.length>0&&(fe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),x1(c.children,t,E,_,m)),!(c.path==null&&!c.index)&&t.push({path:_,score:aI(_,c.index),routesMeta:E})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of R1(c.path))l(c,d,!0,m)}),t}function R1(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=R1(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function J2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oI(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var tI=/^:[\w-]+$/,eI=3,nI=2,iI=1,sI=10,rI=-2,xE=e=>e==="*";function aI(e,t){let n=e.split("/"),s=n.length;return n.some(xE)&&(s+=rI),t&&(s+=nI),n.filter(a=>!xE(a)).reduce((a,l)=>a+(tI.test(l)?eI:l===""?iI:sI),s)}function oI(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function lI(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=Pf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=Pf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:_s([l,_.pathname]),pathnameBase:mI(_s([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=_s([l,_.pathnameBase]))}return c}function Pf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=uI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let P=d[E]||"";c=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const S=d[E];return _&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function uI(e,t=!1,n=!0){Bi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function cI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ws(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function hI(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?hl(e):e;return{pathname:n?n.startsWith("/")?n:fI(n,t):t,search:pI(s),hash:gI(a)}}function fI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Fp(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function C1(e){let t=dI(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function I1(e,t,n,s=!1){let a;typeof e=="string"?a=hl(e):(a={...e},fe(!a.pathname||!a.pathname.includes("?"),Fp("?","pathname","search",a)),fe(!a.pathname||!a.pathname.includes("#"),Fp("#","pathname","hash",a)),fe(!a.search||!a.search.includes("#"),Fp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=t.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}d=_>=0?t[_]:"/"}let m=hI(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var _s=e=>e.join("/").replace(/\/\/+/g,"/"),mI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var D1=["POST","PUT","PATCH","DELETE"];new Set(D1);var vI=["GET",...D1];new Set(vI);var fl=k.createContext(null);fl.displayName="DataRouter";var od=k.createContext(null);od.displayName="DataRouterState";k.createContext(!1);var N1=k.createContext({isTransitioning:!1});N1.displayName="ViewTransition";var _I=k.createContext(new Map);_I.displayName="Fetchers";var TI=k.createContext(null);TI.displayName="Await";var qi=k.createContext(null);qi.displayName="Navigation";var gc=k.createContext(null);gc.displayName="Location";var Hi=k.createContext({outlet:null,matches:[],isDataRoute:!1});Hi.displayName="Route";var vy=k.createContext(null);vy.displayName="RouteError";function EI(e,{relative:t}={}){fe(yc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(qi),{hash:a,pathname:l,search:c}=vc(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:_s([n,l])),s.createHref({pathname:d,search:c,hash:a})}function yc(){return k.useContext(gc)!=null}function Mr(){return fe(yc(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(gc).location}var P1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V1(e){k.useContext(qi).static||k.useLayoutEffect(e)}function Or(){let{isDataRoute:e}=k.useContext(Hi);return e?OI():bI()}function bI(){fe(yc(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(fl),{basename:t,navigator:n}=k.useContext(qi),{matches:s}=k.useContext(Hi),{pathname:a}=Mr(),l=JSON.stringify(C1(s)),c=k.useRef(!1);return V1(()=>{c.current=!0}),k.useCallback((m,p={})=>{if(Bi(c.current,P1),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=I1(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:_s([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}k.createContext(null);function wI(){let{matches:e}=k.useContext(Hi),t=e[e.length-1];return t?t.params:{}}function vc(e,{relative:t}={}){let{matches:n}=k.useContext(Hi),{pathname:s}=Mr(),a=JSON.stringify(C1(n));return k.useMemo(()=>I1(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function AI(e,t){return M1(e,t)}function M1(e,t,n,s,a){fe(yc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(qi),{matches:c}=k.useContext(Hi),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let Y=_&&_.path||"";O1(p,!_||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let E=Mr(),S;if(t){let Y=typeof t=="string"?hl(t):t;fe(y==="/"||Y.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),S=Y}else S=E;let P=S.pathname||"/",z=P;if(y!=="/"){let Y=y.replace(/^\//,"").split("/");z="/"+P.replace(/^\//,"").split("/").slice(Y.length).join("/")}let M=S1(e,{pathname:z});Bi(_||M!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Bi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=II(M&&M.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:_s([y,l.encodeLocation?l.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?y:_s([y,l.encodeLocation?l.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),c,n,s,a);return t&&G?k.createElement(gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},G):G}function SI(){let e=MI(),t=yI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:a},n):null,c)}var xI=k.createElement(SI,null),RI=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?k.createElement(Hi.Provider,{value:this.props.routeContext},k.createElement(vy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CI({routeContext:e,match:t,children:n}){let s=k.useContext(fl);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Hi.Provider,{value:e},n)}function II(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);fe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:_,errors:E}=n,S=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||S){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,_)=>{let E,S=!1,P=null,z=null;n&&(E=c&&y.route.id?c[y.route.id]:void 0,P=y.route.errorElement||xI,d&&(m<0&&_===0?(O1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,z=null):m===_&&(S=!0,z=y.route.hydrateFallbackElement||null)));let M=t.concat(l.slice(0,_+1)),G=()=>{let Y;return E?Y=P:S?Y=z:y.route.Component?Y=k.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=p,k.createElement(CI,{match:y,routeContext:{outlet:p,matches:M,isDataRoute:n!=null},children:Y})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?k.createElement(RI,{location:n.location,revalidation:n.revalidation,component:P,error:E,children:G(),routeContext:{outlet:null,matches:M,isDataRoute:!0},unstable_onError:s}):G()},null)}function _y(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DI(e){let t=k.useContext(fl);return fe(t,_y(e)),t}function NI(e){let t=k.useContext(od);return fe(t,_y(e)),t}function PI(e){let t=k.useContext(Hi);return fe(t,_y(e)),t}function Ty(e){let t=PI(e),n=t.matches[t.matches.length-1];return fe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function VI(){return Ty("useRouteId")}function MI(){let e=k.useContext(vy),t=NI("useRouteError"),n=Ty("useRouteError");return e!==void 0?e:t.errors?.[n]}function OI(){let{router:e}=DI("useNavigate"),t=Ty("useNavigate"),n=k.useRef(!1);return V1(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{Bi(n.current,P1),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var RE={};function O1(e,t,n){!t&&!RE[e]&&(RE[e]=!0,Bi(!1,n))}k.memo(kI);function kI({routes:e,future:t,state:n,unstable_onError:s}){return M1(e,void 0,n,s,t)}function ps(e){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LI({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){fe(!yc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=hl(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:E="default"}=n,S=k.useMemo(()=>{let P=ws(m,c);return P==null?null:{location:{pathname:P,search:p,hash:y,state:_,key:E},navigationType:s}},[c,m,p,y,_,E,s]);return Bi(S!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:k.createElement(qi.Provider,{value:d},k.createElement(gc.Provider,{children:t,value:S}))}function UI({children:e,location:t}){return AI(_g(e),t)}function _g(e,t=[]){let n=[];return k.Children.forEach(e,(s,a)=>{if(!k.isValidElement(s))return;let l=[...t,a];if(s.type===k.Fragment){n.push.apply(n,_g(s.props.children,l));return}fe(s.type===ps,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=_g(s.props.children,l)),n.push(c)}),n}var gf="get",yf="application/x-www-form-urlencoded";function ld(e){return e!=null&&typeof e.tagName=="string"}function jI(e){return ld(e)&&e.tagName.toLowerCase()==="button"}function BI(e){return ld(e)&&e.tagName.toLowerCase()==="form"}function zI(e){return ld(e)&&e.tagName.toLowerCase()==="input"}function FI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qI(e,t){return e.button===0&&(!t||t==="_self")&&!FI(e)}var rf=null;function HI(){if(rf===null)try{new FormData(document.createElement("form"),0),rf=!1}catch{rf=!0}return rf}var GI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qp(e){return e!=null&&!GI.has(e)?(Bi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yf}"`),null):e}function KI(e,t){let n,s,a,l,c;if(BI(e)){let d=e.getAttribute("action");s=d?ws(d,t):null,n=e.getAttribute("method")||gf,a=qp(e.getAttribute("enctype"))||yf,l=new FormData(e)}else if(jI(e)||zI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(s=m?ws(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||gf,a=qp(e.getAttribute("formenctype"))||qp(d.getAttribute("enctype"))||yf,l=new FormData(d,e),!HI()){let{name:p,type:y,value:_}=e;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(ld(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gf,s=null,a=yf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ey(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $I(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&ws(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function YI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function XI(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await YI(l,n);return c.links?c.links():[]}return[]}));return tD(s.flat(1).filter(QI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function CE(e,t,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?t.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function WI(e,t,{includeHydrateFallback:n}={}){return ZI(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ZI(e){return[...new Set(e)]}function JI(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function tD(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(JI(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function k1(){let e=k.useContext(fl);return Ey(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function eD(){let e=k.useContext(od);return Ey(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var by=k.createContext(void 0);by.displayName="FrameworkContext";function L1(){let e=k.useContext(by);return Ey(e,"You must render this element inside a <HydratedRouter> element"),e}function nD(e,t){let n=k.useContext(by),[s,a]=k.useState(!1),[l,c]=k.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,E=k.useRef(null);k.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let z=G=>{G.forEach(Y=>{c(Y.isIntersecting)})},M=new IntersectionObserver(z,{threshold:.5});return E.current&&M.observe(E.current),()=>{M.disconnect()}}},[e]),k.useEffect(()=>{if(s){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[s]);let S=()=>{a(!0)},P=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,E,{}]:[l,E,{onFocus:Nu(d,S),onBlur:Nu(m,P),onMouseEnter:Nu(p,S),onMouseLeave:Nu(y,P),onTouchStart:Nu(_,S)}]:[!1,E,{}]}function Nu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function iD({page:e,...t}){let{router:n}=k1(),s=k.useMemo(()=>S1(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?k.createElement(rD,{page:e,matches:s,...t}):null}function sD(e){let{manifest:t,routeModules:n}=L1(),[s,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return XI(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function rD({page:e,matches:t,...n}){let s=Mr(),{manifest:a,routeModules:l}=L1(),{basename:c}=k1(),{loaderData:d,matches:m}=eD(),p=k.useMemo(()=>CE(e,t,m,a,s,"data"),[e,t,m,a,s]),y=k.useMemo(()=>CE(e,t,m,a,s,"assets"),[e,t,m,a,s]),_=k.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let P=new Set,z=!1;if(t.forEach(G=>{let Y=a.routes[G.route.id];!Y||!Y.hasLoader||(!p.some(X=>X.route.id===G.route.id)&&G.route.id in d&&l[G.route.id]?.shouldRevalidate||Y.hasClientLoader?z=!0:P.add(G.route.id))}),P.size===0)return[];let M=$I(e,c,"data");return z&&P.size>0&&M.searchParams.set("_routes",t.filter(G=>P.has(G.route.id)).map(G=>G.route.id).join(",")),[M.pathname+M.search]},[c,d,s,a,p,t,e,l]),E=k.useMemo(()=>WI(y,a),[y,a]),S=sD(y);return k.createElement(k.Fragment,null,_.map(P=>k.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),E.map(P=>k.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),S.map(({key:P,link:z})=>k.createElement("link",{key:P,nonce:n.nonce,...z})))}function aD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var U1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{U1&&(window.__reactRouterVersion="7.9.1")}catch{}function oD({basename:e,children:t,window:n}){let s=k.useRef();s.current==null&&(s.current=Y2({window:n,v5Compat:!0}));let a=s.current,[l,c]=k.useState({action:a.action,location:a.location}),d=k.useCallback(m=>{k.startTransition(()=>c(m))},[c]);return k.useLayoutEffect(()=>a.listen(d),[a,d]),k.createElement(LI,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var j1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=k.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:_,...E},S){let{basename:P}=k.useContext(qi),z=typeof p=="string"&&j1.test(p),M,G=!1;if(typeof p=="string"&&z&&(M=p,U1))try{let C=new URL(window.location.href),L=p.startsWith("//")?new URL(C.protocol+p):new URL(p),O=ws(L.pathname,P);L.origin===C.origin&&O!=null?p=O+L.search+L.hash:G=!0}catch{Bi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=EI(p,{relative:a}),[X,at,nt]=nD(s,E),ht=cD(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_});function N(C){t&&t(C),C.defaultPrevented||ht(C)}let R=k.createElement("a",{...E,...nt,href:M||Y,onClick:G||l?t:N,ref:aD(S,at),target:m,"data-discover":!z&&n==="render"?"true":void 0});return X&&!z?k.createElement(k.Fragment,null,R,k.createElement(iD,{page:Y})):R});Qe.displayName="Link";var Vu=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let _=vc(c,{relative:p.relative}),E=Mr(),S=k.useContext(od),{navigator:P,basename:z}=k.useContext(qi),M=S!=null&&pD(_)&&d===!0,G=P.encodeLocation?P.encodeLocation(_).pathname:_.pathname,Y=E.pathname,X=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),X=X?X.toLowerCase():null,G=G.toLowerCase()),X&&z&&(X=ws(X,z)||X);const at=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let nt=Y===G||!a&&Y.startsWith(G)&&Y.charAt(at)==="/",ht=X!=null&&(X===G||!a&&X.startsWith(G)&&X.charAt(G.length)==="/"),N={isActive:nt,isPending:ht,isTransitioning:M},R=nt?t:void 0,C;typeof s=="function"?C=s(N):C=[s,nt?"active":null,ht?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(N):l;return k.createElement(Qe,{...p,"aria-current":R,className:C,ref:y,style:L,to:c,viewTransition:d},typeof m=="function"?m(N):m)});Vu.displayName="NavLink";var lD=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=gf,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...E},S)=>{let P=dD(),z=mD(d,{relative:p}),M=c.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&j1.test(d),Y=X=>{if(m&&m(X),X.defaultPrevented)return;X.preventDefault();let at=X.nativeEvent.submitter,nt=at?.getAttribute("formmethod")||c;P(at||X.currentTarget,{fetcherKey:t,method:nt,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return k.createElement("form",{ref:S,method:M,action:z,onSubmit:s?m:Y,...E,"data-discover":!G&&e==="render"?"true":void 0})});lD.displayName="Form";function uD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B1(e){let t=k.useContext(fl);return fe(t,uD(e)),t}function cD(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Or(),m=Mr(),p=vc(e,{relative:l});return k.useCallback(y=>{if(qI(y,t)){y.preventDefault();let _=n!==void 0?n:Zu(m)===Zu(p);d(e,{replace:_,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,n,s,t,e,a,l,c])}var hD=0,fD=()=>`__${String(++hD)}__`;function dD(){let{router:e}=B1("useSubmit"),{basename:t}=k.useContext(qi),n=VI();return k.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=KI(s,t);if(a.navigate===!1){let y=a.fetcherKey||fD();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function mD(e,{relative:t}={}){let{basename:n}=k.useContext(qi),s=k.useContext(Hi);fe(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...vc(e||".",{relative:t})},c=Mr();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:_s([n,l.pathname])),Zu(l)}function pD(e,{relative:t}={}){let n=k.useContext(N1);fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=B1("useViewTransitionState"),a=vc(e,{relative:t});if(!n.isTransitioning)return!1;let l=ws(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ws(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Pf(a.pathname,c)!=null||Pf(a.pathname,l)!=null}const gD=()=>{};var IE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},yD=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},F1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let E=(d&15)<<2|p>>6,S=p&63;m||(S=64,c||(E=64)),s.push(n[y],n[_],n[E],n[S])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(z1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):yD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new vD;const E=l<<2|d>>4;if(s.push(E),p!==64){const S=d<<4&240|p>>2;if(s.push(S),_!==64){const P=p<<6&192|_;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class vD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _D=function(e){const t=z1(e);return F1.encodeByteArray(t,!0)},Vf=function(e){return _D(e).replace(/\./g,"")},q1=function(e){try{return F1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=()=>TD().__FIREBASE_DEFAULTS__,bD=()=>{if(typeof process>"u"||typeof IE>"u")return;const e=IE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},wD=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&q1(e[1]);return t&&JSON.parse(t)},ud=()=>{try{return gD()||ED()||bD()||wD()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},H1=e=>ud()?.emulatorHosts?.[e],G1=e=>{const t=H1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},K1=()=>ud()?.config,$1=e=>ud()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wy(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Vf(JSON.stringify(n)),Vf(JSON.stringify(c)),""].join(".")}const zu={};function SD(){const e={prod:[],emulator:[]};for(const t of Object.keys(zu))zu[t]?e.emulator.push(t):e.prod.push(t);return e}function xD(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let DE=!1;function Ay(e,t){if(typeof window>"u"||typeof document>"u"||!Ha(window.location.host)||zu[e]===t||zu[e]||DE)return;zu[e]=t;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=SD().prod.length>0;function c(){const E=document.getElementById(s);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{DE=!0,c()},E}function y(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=xD(s),S=n("text"),P=document.getElementById(S)||document.createElement("span"),z=n("learnmore"),M=document.getElementById(z)||document.createElement("a"),G=n("preprendIcon"),Y=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const X=E.element;d(X),y(M,z);const at=p();m(Y,G),X.append(Y,P,M,at),document.body.appendChild(X)}l?(P.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function CD(){const e=ud()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ID(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DD(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function ND(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PD(){const e=un();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function VD(){return!CD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MD(){try{return typeof indexedDB=="object"}catch{return!1}}function OD(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="FirebaseError";class Gi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=kD,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?LD(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Gi(a,d,s)}}function LD(e,t){return e.replace(UD,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const UD=/\{\$([^}]+)}/g;function jD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function La(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(NE(l)&&NE(c)){if(!La(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function NE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Mu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function Ou(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function BD(e,t){const n=new zD(e,t);return n.subscribe.bind(n)}class zD{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");FD(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=Hp),a.error===void 0&&(a.error=Hp),a.complete===void 0&&(a.complete=Hp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FD(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(e){return e&&e._delegate?e._delegate:e}class Sr{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new AD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(GD(t))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=Ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ra){return this.instances.has(t)}getOptions(t=Ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HD(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ra){return this.component?this.component.multipleInstances?t:Ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HD(e){return e===Ra?void 0:e}function GD(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new qD(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ot||(Ot={}));const $D={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},YD=Ot.INFO,QD={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},XD=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=QD[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sy{constructor(t){this.name=t,this._logLevel=YD,this._logHandler=XD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$D[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const WD=(e,t)=>t.some(n=>e instanceof n);let PE,VE;function ZD(){return PE||(PE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JD(){return VE||(VE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q1=new WeakMap,Tg=new WeakMap,X1=new WeakMap,Gp=new WeakMap,xy=new WeakMap;function tN(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(Er(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&Q1.set(n,e)}).catch(()=>{}),xy.set(t,e),t}function eN(e){if(Tg.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Tg.set(e,t)}let Eg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Tg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||X1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function nN(e){Eg=e(Eg)}function iN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Kp(this),t,...n);return X1.set(s,t.sort?t.sort():[t]),Er(s)}:JD().includes(e)?function(...t){return e.apply(Kp(this),t),Er(Q1.get(this))}:function(...t){return Er(e.apply(Kp(this),t))}}function sN(e){return typeof e=="function"?iN(e):(e instanceof IDBTransaction&&eN(e),WD(e,ZD())?new Proxy(e,Eg):e)}function Er(e){if(e instanceof IDBRequest)return tN(e);if(Gp.has(e))return Gp.get(e);const t=sN(e);return t!==e&&(Gp.set(e,t),xy.set(t,e)),t}const Kp=e=>xy.get(e);function rN(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=Er(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Er(c.result),m.oldVersion,m.newVersion,Er(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const aN=["get","getKey","getAll","getAllKeys","count"],oN=["put","add","delete","clear"],$p=new Map;function ME(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if($p.get(t))return $p.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=oN.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||aN.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return $p.set(t,l),l}nN(e=>({...e,get:(t,n,s)=>ME(t,n)||e.get(t,n,s),has:(t,n)=>!!ME(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uN(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function uN(e){return e.getComponent()?.type==="VERSION"}const bg="@firebase/app",OE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new Sy("@firebase/app"),cN="@firebase/app-compat",hN="@firebase/analytics-compat",fN="@firebase/analytics",dN="@firebase/app-check-compat",mN="@firebase/app-check",pN="@firebase/auth",gN="@firebase/auth-compat",yN="@firebase/database",vN="@firebase/data-connect",_N="@firebase/database-compat",TN="@firebase/functions",EN="@firebase/functions-compat",bN="@firebase/installations",wN="@firebase/installations-compat",AN="@firebase/messaging",SN="@firebase/messaging-compat",xN="@firebase/performance",RN="@firebase/performance-compat",CN="@firebase/remote-config",IN="@firebase/remote-config-compat",DN="@firebase/storage",NN="@firebase/storage-compat",PN="@firebase/firestore",VN="@firebase/ai",MN="@firebase/firestore-compat",ON="firebase",kN="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="[DEFAULT]",LN={[bg]:"fire-core",[cN]:"fire-core-compat",[fN]:"fire-analytics",[hN]:"fire-analytics-compat",[mN]:"fire-app-check",[dN]:"fire-app-check-compat",[pN]:"fire-auth",[gN]:"fire-auth-compat",[yN]:"fire-rtdb",[vN]:"fire-data-connect",[_N]:"fire-rtdb-compat",[TN]:"fire-fn",[EN]:"fire-fn-compat",[bN]:"fire-iid",[wN]:"fire-iid-compat",[AN]:"fire-fcm",[SN]:"fire-fcm-compat",[xN]:"fire-perf",[RN]:"fire-perf-compat",[CN]:"fire-rc",[IN]:"fire-rc-compat",[DN]:"fire-gcs",[NN]:"fire-gcs-compat",[PN]:"fire-fst",[MN]:"fire-fst-compat",[VN]:"fire-vertex","fire-js":"fire-js",[ON]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new Map,UN=new Map,Ag=new Map;function kE(e,t){try{e.container.addComponent(t)}catch(n){As.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ua(e){const t=e.name;if(Ag.has(t))return As.debug(`There were multiple attempts to register component ${t}.`),!1;Ag.set(t,e);for(const n of Mf.values())kE(n,e);for(const n of UN.values())kE(n,e);return!0}function cd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function En(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new _c("app","Firebase",jN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=kN;function W1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:wg,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw br.create("bad-app-name",{appName:String(a)});if(n||(n=K1()),!n)throw br.create("no-options");const l=Mf.get(a);if(l){if(La(n,l.options)&&La(s,l.config))return l;throw br.create("duplicate-app",{appName:a})}const c=new KD(a);for(const m of Ag.values())c.addComponent(m);const d=new BN(n,s,c);return Mf.set(a,d),d}function Ry(e=wg){const t=Mf.get(e);if(!t&&e===wg&&K1())return W1();if(!t)throw br.create("no-app",{appName:e});return t}function Ni(e,t,n){let s=LN[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),As.warn(c.join(" "));return}Ua(new Sr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="firebase-heartbeat-database",FN=1,Ju="firebase-heartbeat-store";let Yp=null;function Z1(){return Yp||(Yp=rN(zN,FN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ju)}catch(n){console.warn(n)}}}}).catch(e=>{throw br.create("idb-open",{originalErrorMessage:e.message})})),Yp}async function qN(e){try{const n=(await Z1()).transaction(Ju),s=await n.objectStore(Ju).get(J1(e));return await n.done,s}catch(t){if(t instanceof Gi)As.warn(t.message);else{const n=br.create("idb-get",{originalErrorMessage:t?.message});As.warn(n.message)}}}async function LE(e,t){try{const s=(await Z1()).transaction(Ju,"readwrite");await s.objectStore(Ju).put(t,J1(e)),await s.done}catch(n){if(n instanceof Gi)As.warn(n.message);else{const s=br.create("idb-set",{originalErrorMessage:n?.message});As.warn(s.message)}}}function J1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=1024,GN=30;class KN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=UE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>GN){const a=QN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){As.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=UE(),{heartbeatsToSend:n,unsentEntries:s}=$N(this._heartbeatsCache.heartbeats),a=Vf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return As.warn(t),""}}}function UE(){return new Date().toISOString().substring(0,10)}function $N(e,t=HN){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),jE(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),jE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class YN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MD()?OD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return LE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return LE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function jE(e){return Vf(JSON.stringify({version:2,heartbeats:e})).length}function QN(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(e){Ua(new Sr("platform-logger",t=>new lN(t),"PRIVATE")),Ua(new Sr("heartbeat",t=>new KN(t),"PRIVATE")),Ni(bg,OE,e),Ni(bg,OE,"esm2020"),Ni("fire-js","")}XN("");var WN="firebase",ZN="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(WN,ZN,"app");function tA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JN=tA,eA=new _c("auth","Firebase",tA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Sy("@firebase/auth");function tP(e,...t){Of.logLevel<=Ot.WARN&&Of.warn(`Auth (${Ga}): ${e}`,...t)}function vf(e,...t){Of.logLevel<=Ot.ERROR&&Of.error(`Auth (${Ga}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(e,...t){throw Iy(e,...t)}function di(e,...t){return Iy(e,...t)}function Cy(e,t,n){const s={...JN(),[t]:n};return new _c("auth","Firebase",s).create(t,{appName:e.name})}function Ts(e){return Cy(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eP(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Zn(e,"argument-error"),Cy(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Iy(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return eA.create(e,...t)}function Tt(e,t,...n){if(!e)throw Iy(t,...n)}function ys(e){const t="INTERNAL ASSERTION FAILED: "+e;throw vf(t),new Error(t)}function Ss(e,t){e||ys(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(){return typeof self<"u"&&self.location?.href||""}function nP(){return BE()==="http:"||BE()==="https:"}function BE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nP()||DD()||"connection"in navigator)?navigator.onLine:!0}function sP(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ss(n>t,"Short delay should be less than long delay!"),this.isMobile=RD()||ND()}get(){return iP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(e,t){Ss(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oP=new Ec(3e4,6e4);function kr(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Lr(e,t,n,s,a={}){return iA(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=Tc({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p={method:t,headers:m,...l};return ID()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&Ha(e.emulatorConfig.host)&&(p.credentials="include"),nA.fetch()(await sA(e,e.config.apiHost,n,d),p)})}async function iA(e,t,n){e._canInitEmulator=!1;const s={...rP,...t};try{const a=new uP(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw af(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw af(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw af(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw af(e,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Cy(e,y,p);Zn(e,y)}}catch(a){if(a instanceof Gi)throw a;Zn(e,"network-request-failed",{message:String(a)})}}async function bc(e,t,n,s,a={}){const l=await Lr(e,t,n,s,a);return"mfaPendingCredential"in l&&Zn(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function sA(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?Dy(e.config,a):`${e.config.apiScheme}://${a}`;return aP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function lP(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(di(this.auth,"network-request-failed")),oP.get())})}}function af(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=di(e,t,s);return a.customData._tokenResponse=n,a}function zE(e){return e!==void 0&&e.enterprise!==void 0}class cP{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return lP(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hP(e,t){return Lr(e,"GET","/v2/recaptchaConfig",kr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(e,t){return Lr(e,"POST","/v1/accounts:delete",t)}async function kf(e,t){return Lr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function dP(e,t=!1){const n=Le(e),s=await n.getIdToken(t),a=Ny(s);Tt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Fu(Qp(a.auth_time)),issuedAtTime:Fu(Qp(a.iat)),expirationTime:Fu(Qp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Qp(e){return Number(e)*1e3}function Ny(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const a=q1(n);return a?JSON.parse(a):(vf("Failed to decode base64 JWT payload"),null)}catch(a){return vf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function FE(e){const t=Ny(e);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Gi&&mP(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function mP({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(e){const t=e.auth,n=await e.getIdToken(),s=await tc(e,kf(t,{idToken:n}));Tt(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?rA(a.providerUserInfo):[],c=yP(e.providerData,l),d=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new xg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function gP(e){const t=Le(e);await Lf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function yP(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function rA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(e,t){const n=await iA(e,{},async()=>{const s=Tc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await sA(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return e.emulatorConfig&&Ha(e.emulatorConfig.host)&&(m.credentials="include"),nA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _P(e,t){return Lr(e,"POST","/v2/accounts:revokeToken",kr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):FE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=FE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await vP(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Xo;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(Tt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Tt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(e,t){Tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new pP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new xg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await tc(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return dP(this,t)}reload(){return gP(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Lf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(Ts(this.auth));const t=await this.getIdToken();return await tc(this,fP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:S,providerData:P,stsTokenManager:z}=n;Tt(_&&z,t,"internal-error");const M=Xo.fromJSON(this.name,z);Tt(typeof _=="string",t,"internal-error"),mr(s,t.name),mr(a,t.name),Tt(typeof E=="boolean",t,"internal-error"),Tt(typeof S=="boolean",t,"internal-error"),mr(l,t.name),mr(c,t.name),mr(d,t.name),mr(m,t.name),mr(p,t.name),mr(y,t.name);const G=new hi({uid:_,auth:t,email:a,emailVerified:E,displayName:s,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:M,createdAt:p,lastLoginAt:y});return P&&Array.isArray(P)&&(G.providerData=P.map(Y=>({...Y}))),m&&(G._redirectEventId=m),G}static async _fromIdTokenResponse(t,n,s=!1){const a=new Xo;a.updateFromServerResponse(n);const l=new hi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Lf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];Tt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?rA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Xo;d.updateFromIdToken(s);const m=new hi({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new xg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;function vs(e){Ss(e instanceof Function,"Expected a class definition");let t=qE.get(e);return t?(Ss(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,qE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}aA.type="NONE";const HE=aA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(e,t,n){return`firebase:${e}:${t}:${n}`}class Wo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=_f(this.userKey,a.apiKey,l),this.fullPersistenceKey=_f("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await kf(this.auth,{idToken:t}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Wo(vs(HE),t,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||vs(HE);const c=_f(s,t.config.apiKey,t.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const E=await kf(t,{idToken:y}).catch(()=>{});if(!E)break;_=await hi._fromGetAccountInfoResponse(t,E,y)}else _=hi._fromJSON(t,y);p!==l&&(d=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Wo(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Wo(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fA(t))return"Blackberry";if(dA(t))return"Webos";if(lA(t))return"Safari";if((t.includes("chrome/")||uA(t))&&!t.includes("edge/"))return"Chrome";if(hA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function oA(e=un()){return/firefox\//i.test(e)}function lA(e=un()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function uA(e=un()){return/crios\//i.test(e)}function cA(e=un()){return/iemobile/i.test(e)}function hA(e=un()){return/android/i.test(e)}function fA(e=un()){return/blackberry/i.test(e)}function dA(e=un()){return/webos/i.test(e)}function Py(e=un()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function TP(e=un()){return Py(e)&&!!window.navigator?.standalone}function EP(){return PD()&&document.documentMode===10}function mA(e=un()){return Py(e)||hA(e)||dA(e)||fA(e)||/windows phone/i.test(e)||cA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(e,t=[]){let n;switch(e){case"Browser":n=GE(un());break;case"Worker":n=`${GE(un())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ga}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(e,t={}){return Lr(e,"GET","/v2/passwordPolicy",kr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=6;class SP{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??AP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KE(this),this.idTokenSubscription=new KE(this),this.beforeStateQueue=new bP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=vs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await kf(this,{idToken:t}),s=await hi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(En(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Lf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(En(this.app))return Promise.reject(Ts(this));const n=t?Le(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return En(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wP(this),n=new SP(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new _c("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await _P(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&vs(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=pA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&tP(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ur(e){return Le(e)}class KE{constructor(t){this.auth=t,this.observer=null,this.addObserver=BD(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RP(e){hd=e}function gA(e){return hd.loadJS(e)}function CP(){return hd.recaptchaEnterpriseScript}function IP(){return hd.gapiScript}function DP(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class NP{constructor(){this.enterprise=new PP}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class PP{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const VP="recaptcha-enterprise",yA="NO_RECAPTCHA";class MP{constructor(t){this.type=VP,this.auth=Ur(t)}async verify(t="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{hP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new cP(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;zE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{c(p)}).catch(()=>{c(yA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NP().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&zE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=CP();m.length!==0&&(m+=d),gA(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function $E(e,t,n,s=!1,a=!1){const l=new MP(e);let c;if(a)c=yA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Rg(e,t,n,s,a){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await $E(e,t,n,n==="getOobCode");return s(e,l)}else return s(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await $E(e,t,n,n==="getOobCode");return s(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(e,t){const n=cd(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(La(l,t??{}))return a;Zn(a,"already-initialized")}return n.initialize({options:t})}function kP(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(vs);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function LP(e,t,n){const s=Ur(e);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=vA(t),{host:c,port:d}=UP(t),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(La(p,s.config.emulator)&&La(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Ha(c)?(wy(`${l}//${c}${m}`),Ay("Auth",!0)):jP()}function vA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function UP(e){const t=vA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:YE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:YE(c)}}}function YE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function jP(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ys("not implemented")}_getIdTokenResponse(t){return ys("not implemented")}_linkToIdToken(t,n){return ys("not implemented")}_getReauthenticationResolver(t){return ys("not implemented")}}async function BP(e,t){return Lr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(e,t){return bc(e,"POST","/v1/accounts:signInWithPassword",kr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(e,t){return bc(e,"POST","/v1/accounts:signInWithEmailLink",kr(e,t))}async function qP(e,t){return bc(e,"POST","/v1/accounts:signInWithEmailLink",kr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends Vy{constructor(t,n,s,a=null){super("password",s),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new ec(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new ec(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(t,n,"signInWithPassword",zP);case"emailLink":return FP(t,{email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(t,s,"signUpPassword",BP);case"emailLink":return qP(t,{idToken:n,email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(e,t){return bc(e,"POST","/v1/accounts:signInWithIdp",kr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="http://localhost";class ja extends Vy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ja(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new ja(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Zo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Zo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Zo(t,n)}buildRequest(){const t={requestUri:HP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Tc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KP(e){const t=Mu(Ou(e)).link,n=t?Mu(Ou(t)).deep_link_id:null,s=Mu(Ou(e)).deep_link_id;return(s?Mu(Ou(s)).link:null)||s||n||t||e}class My{constructor(t){const n=Mu(Ou(t)),s=n.apiKey??null,a=n.oobCode??null,l=GP(n.mode??null);Tt(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=KP(t);try{return new My(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.providerId=dl.PROVIDER_ID}static credential(t,n){return ec._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=My.parseLink(n);return Tt(s,"argument-error"),ec._fromEmailAndCode(t,s.code,s.tenantId)}}dl.PROVIDER_ID="password";dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends Oy{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends wc{constructor(){super("facebook.com")}static credential(t){return ja._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gr.credential(t.oauthAccessToken)}catch{return null}}}gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ja._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return gs.credentialFromTaggedObject(t)}static credentialFromError(t){return gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return gs.credential(n,s)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends wc{constructor(){super("github.com")}static credential(t){return ja._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yr.credential(t.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends wc{constructor(){super("twitter.com")}static credential(t,n){return ja._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return vr.credential(n,s)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(e,t){return bc(e,"POST","/v1/accounts:signUp",kr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await hi._fromIdTokenResponse(t,s,a),c=QE(s);return new Ba({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=QE(s);return new Ba({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function QE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf extends Gi{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Uf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new Uf(t,n,s,a)}}function _A(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Uf._fromErrorAndOperation(e,l,t,s):l})}async function YP(e,t,n=!1){const s=await tc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ba._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(e,t,n=!1){const{auth:s}=e;if(En(s.app))return Promise.reject(Ts(s));const a="reauthenticate";try{const l=await tc(e,_A(s,a,t,e),n);Tt(l.idToken,s,"internal-error");const c=Ny(l.idToken);Tt(c,s,"internal-error");const{sub:d}=c;return Tt(e.uid===d,s,"user-mismatch"),Ba._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Zn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(e,t,n=!1){if(En(e.app))return Promise.reject(Ts(e));const s="signIn",a=await _A(e,s,t),l=await Ba._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}async function XP(e,t){return TA(Ur(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(e){const t=Ur(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function WP(e,t,n){if(En(e.app))return Promise.reject(Ts(e));const s=Ur(e),c=await Rg(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$P).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&EA(e),m}),d=await Ba._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function ZP(e,t,n){return En(e.app)?Promise.reject(Ts(e)):XP(Le(e),dl.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&EA(e),s})}function JP(e,t,n,s){return Le(e).onIdTokenChanged(t,n,s)}function tV(e,t,n){return Le(e).beforeAuthStateChanged(t,n)}function eV(e,t,n,s){return Le(e).onAuthStateChanged(t,n,s)}function nV(e){return Le(e).signOut()}const jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=1e3,sV=10;class wA extends bA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);EP()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,sV):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},iV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}wA.type="LOCAL";const rV=wA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA extends bA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}AA.type="SESSION";const SA=AA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new fd(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await aV(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=ky("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function lV(e){Pi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function uV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cV(){return navigator?.serviceWorker?.controller||null}function hV(){return xA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="firebaseLocalStorageDb",fV=1,Bf="firebaseLocalStorage",CA="fbase_key";class Ac{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dd(e,t){return e.transaction([Bf],t?"readwrite":"readonly").objectStore(Bf)}function dV(){const e=indexedDB.deleteDatabase(RA);return new Ac(e).toPromise()}function Cg(){const e=indexedDB.open(RA,fV);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Bf,{keyPath:CA})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Bf)?t(s):(s.close(),await dV(),t(await Cg()))})})}async function XE(e,t,n){const s=dd(e,!0).put({[CA]:t,value:n});return new Ac(s).toPromise()}async function mV(e,t){const n=dd(e,!1).get(t),s=await new Ac(n).toPromise();return s===void 0?null:s.value}function WE(e,t){const n=dd(e,!0).delete(t);return new Ac(n).toPromise()}const pV=800,gV=3;class IA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>gV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fd._getInstance(hV()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uV(),!this.activeServiceWorker)return;this.sender=new oV(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||cV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Cg();return await XE(t,jf,"1"),await WE(t,jf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>XE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>mV(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>WE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=dd(a,!1).getAll();return new Ac(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IA.type="LOCAL";const yV=IA;new Ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(e,t){return t?vs(t):(Tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly extends Vy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Zo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Zo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function vV(e){return TA(e.auth,new Ly(e),e.bypassAuthState)}function _V(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),QP(n,new Ly(e),e.bypassAuthState)}async function TV(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),YP(n,new Ly(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vV;case"linkViaPopup":case"linkViaRedirect":return TV;case"reauthViaPopup":case"reauthViaRedirect":return _V;default:Zn(this.auth,"internal-error")}}resolve(t){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=new Ec(2e3,1e4);async function bV(e,t,n){if(En(e.app))return Promise.reject(di(e,"operation-not-supported-in-this-environment"));const s=Ur(e);eP(e,t,Oy);const a=DA(s,n);return new Ia(s,"signInViaPopup",t,a).executeNotNull()}class Ia extends NA{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ia.currentPopupAction&&Ia.currentPopupAction.cancel(),Ia.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const t=ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ia.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,EV.get())};t()}}Ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="pendingRedirect",Tf=new Map;class AV extends NA{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Tf.get(this.auth._key());if(!t){try{const s=await SV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Tf.set(this.auth._key(),t)}return this.bypassAuthState||Tf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SV(e,t){const n=CV(t),s=RV(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function xV(e,t){Tf.set(e._key(),t)}function RV(e){return vs(e._redirectPersistence)}function CV(e){return _f(wV,e.config.apiKey,e.name)}async function IV(e,t,n=!1){if(En(e.app))return Promise.reject(Ts(e));const s=Ur(e),a=DA(s,t),c=await new AV(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=600*1e3;class NV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!PV(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!PA(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(di(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=DV&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZE(t))}saveEventToCache(t){this.cachedEventUids.add(ZE(t)),this.lastProcessedEventTime=Date.now()}}function ZE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function PA({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function PV(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PA(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(e,t={}){return Lr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OV=/^https?/;async function kV(e){if(e.config.emulator)return;const{authorizedDomains:t}=await VV(e);for(const n of t)try{if(LV(n))return}catch{}Zn(e,"unauthorized-domain")}function LV(e){const t=Sg(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!OV.test(n))return!1;if(MV.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=new Ec(3e4,6e4);function JE(){const e=Pi().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function jV(e){return new Promise((t,n)=>{function s(){JE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{JE(),n(di(e,"network-request-failed"))},timeout:UV.get()})}if(Pi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Pi().gapi?.load)s();else{const a=DP("iframefcb");return Pi()[a]=()=>{gapi.load?s():n(di(e,"network-request-failed"))},gA(`${IP()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Ef=null,t})}let Ef=null;function BV(e){return Ef=Ef||jV(e),Ef}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=new Ec(5e3,15e3),FV="__/auth/iframe",qV="emulator/auth/iframe",HV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KV(e){const t=e.config;Tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Dy(t,qV):`https://${e.config.authDomain}/${FV}`,s={apiKey:t.apiKey,appName:e.name,v:Ga},a=GV.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Tc(s).slice(1)}`}async function $V(e){const t=await BV(e),n=Pi().gapi;return Tt(n,e,"internal-error"),t.open({where:document.body,url:KV(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HV,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=di(e,"network-request-failed"),d=Pi().setTimeout(()=>{l(c)},zV.get());function m(){Pi().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QV=500,XV=600,WV="_blank",ZV="http://localhost";class tb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JV(e,t,n,s=QV,a=XV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...YV,width:s.toString(),height:a.toString(),top:l,left:c},p=un().toLowerCase();n&&(d=uA(p)?WV:n),oA(p)&&(t=t||ZV,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[S,P])=>`${E}${S}=${P},`,"");if(TP(p)&&d!=="_self")return tM(t||"",d),new tb(null);const _=window.open(t||"",d,y);Tt(_,e,"popup-blocked");try{_.focus()}catch{}return new tb(_)}function tM(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="__/auth/handler",nM="emulator/auth/handler",iM=encodeURIComponent("fac");async function eb(e,t,n,s,a,l){Tt(e.config.authDomain,e,"auth-domain-config-required"),Tt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Ga,eventId:a};if(t instanceof Oy){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",jD(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof wc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),p=m?`#${iM}=${encodeURIComponent(m)}`:"";return`${sM(e)}?${Tc(d).slice(1)}${p}`}function sM({config:e}){return e.emulator?Dy(e,nM):`https://${e.authDomain}/${eM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="webStorageSupport";class rM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SA,this._completeRedirectFn=IV,this._overrideRedirectResult=xV}async _openPopup(t,n,s,a){Ss(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await eb(t,n,s,Sg(),a);return JV(t,l,ky())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await eb(t,n,s,Sg(),a);return lV(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ss(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await $V(t),s=new NV(t);return n.register("authEvent",a=>(Tt(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Xp,{type:Xp},a=>{const l=a?.[0]?.[Xp];l!==void 0&&n(!!l),Zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kV(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return mA()||lA()||Py()}}const aM=rM;var nb="@firebase/auth",ib="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uM(e){Ua(new Sr("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pA(e)},p=new xP(s,a,l,m);return kP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ua(new Sr("auth-internal",t=>{const n=Ur(t.getProvider("auth").getImmediate());return(s=>new oM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(nb,ib,lM(e)),Ni(nb,ib,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=300,hM=$1("authIdTokenMaxAge")||cM;let sb=null;const fM=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>hM)return;const a=n?.token;sb!==a&&(sb=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function dM(e=Ry()){const t=cd(e,"auth");if(t.isInitialized())return t.getImmediate();const n=OP(e,{popupRedirectResolver:aM,persistence:[yV,rV,SA]}),s=$1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=fM(l.toString());tV(n,c,()=>c(n.currentUser)),JP(n,d=>c(d))}}const a=H1("auth");return a&&LP(n,`http://${a}`),n}function mM(){return document.getElementsByTagName("head")?.[0]??document}RP({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=di("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",mM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uM("Browser");var rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wr,VA;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,R){function C(){}C.prototype=R.prototype,N.F=R.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(L,O,B){for(var D=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)D[ne-2]=arguments[ne];return R.prototype[O].apply(L,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,R,C){C||(C=0);const L=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)L[O]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(O=0;O<16;++O)L[O]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=N.g[0],C=N.g[1],O=N.g[2];let B=N.g[3],D;D=R+(B^C&(O^B))+L[0]+3614090360&4294967295,R=C+(D<<7&4294967295|D>>>25),D=B+(O^R&(C^O))+L[1]+3905402710&4294967295,B=R+(D<<12&4294967295|D>>>20),D=O+(C^B&(R^C))+L[2]+606105819&4294967295,O=B+(D<<17&4294967295|D>>>15),D=C+(R^O&(B^R))+L[3]+3250441966&4294967295,C=O+(D<<22&4294967295|D>>>10),D=R+(B^C&(O^B))+L[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=B+(O^R&(C^O))+L[5]+1200080426&4294967295,B=R+(D<<12&4294967295|D>>>20),D=O+(C^B&(R^C))+L[6]+2821735955&4294967295,O=B+(D<<17&4294967295|D>>>15),D=C+(R^O&(B^R))+L[7]+4249261313&4294967295,C=O+(D<<22&4294967295|D>>>10),D=R+(B^C&(O^B))+L[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=B+(O^R&(C^O))+L[9]+2336552879&4294967295,B=R+(D<<12&4294967295|D>>>20),D=O+(C^B&(R^C))+L[10]+4294925233&4294967295,O=B+(D<<17&4294967295|D>>>15),D=C+(R^O&(B^R))+L[11]+2304563134&4294967295,C=O+(D<<22&4294967295|D>>>10),D=R+(B^C&(O^B))+L[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=B+(O^R&(C^O))+L[13]+4254626195&4294967295,B=R+(D<<12&4294967295|D>>>20),D=O+(C^B&(R^C))+L[14]+2792965006&4294967295,O=B+(D<<17&4294967295|D>>>15),D=C+(R^O&(B^R))+L[15]+1236535329&4294967295,C=O+(D<<22&4294967295|D>>>10),D=R+(O^B&(C^O))+L[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=B+(C^O&(R^C))+L[6]+3225465664&4294967295,B=R+(D<<9&4294967295|D>>>23),D=O+(R^C&(B^R))+L[11]+643717713&4294967295,O=B+(D<<14&4294967295|D>>>18),D=C+(B^R&(O^B))+L[0]+3921069994&4294967295,C=O+(D<<20&4294967295|D>>>12),D=R+(O^B&(C^O))+L[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=B+(C^O&(R^C))+L[10]+38016083&4294967295,B=R+(D<<9&4294967295|D>>>23),D=O+(R^C&(B^R))+L[15]+3634488961&4294967295,O=B+(D<<14&4294967295|D>>>18),D=C+(B^R&(O^B))+L[4]+3889429448&4294967295,C=O+(D<<20&4294967295|D>>>12),D=R+(O^B&(C^O))+L[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=B+(C^O&(R^C))+L[14]+3275163606&4294967295,B=R+(D<<9&4294967295|D>>>23),D=O+(R^C&(B^R))+L[3]+4107603335&4294967295,O=B+(D<<14&4294967295|D>>>18),D=C+(B^R&(O^B))+L[8]+1163531501&4294967295,C=O+(D<<20&4294967295|D>>>12),D=R+(O^B&(C^O))+L[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=B+(C^O&(R^C))+L[2]+4243563512&4294967295,B=R+(D<<9&4294967295|D>>>23),D=O+(R^C&(B^R))+L[7]+1735328473&4294967295,O=B+(D<<14&4294967295|D>>>18),D=C+(B^R&(O^B))+L[12]+2368359562&4294967295,C=O+(D<<20&4294967295|D>>>12),D=R+(C^O^B)+L[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=B+(R^C^O)+L[8]+2272392833&4294967295,B=R+(D<<11&4294967295|D>>>21),D=O+(B^R^C)+L[11]+1839030562&4294967295,O=B+(D<<16&4294967295|D>>>16),D=C+(O^B^R)+L[14]+4259657740&4294967295,C=O+(D<<23&4294967295|D>>>9),D=R+(C^O^B)+L[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=B+(R^C^O)+L[4]+1272893353&4294967295,B=R+(D<<11&4294967295|D>>>21),D=O+(B^R^C)+L[7]+4139469664&4294967295,O=B+(D<<16&4294967295|D>>>16),D=C+(O^B^R)+L[10]+3200236656&4294967295,C=O+(D<<23&4294967295|D>>>9),D=R+(C^O^B)+L[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=B+(R^C^O)+L[0]+3936430074&4294967295,B=R+(D<<11&4294967295|D>>>21),D=O+(B^R^C)+L[3]+3572445317&4294967295,O=B+(D<<16&4294967295|D>>>16),D=C+(O^B^R)+L[6]+76029189&4294967295,C=O+(D<<23&4294967295|D>>>9),D=R+(C^O^B)+L[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=B+(R^C^O)+L[12]+3873151461&4294967295,B=R+(D<<11&4294967295|D>>>21),D=O+(B^R^C)+L[15]+530742520&4294967295,O=B+(D<<16&4294967295|D>>>16),D=C+(O^B^R)+L[2]+3299628645&4294967295,C=O+(D<<23&4294967295|D>>>9),D=R+(O^(C|~B))+L[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=B+(C^(R|~O))+L[7]+1126891415&4294967295,B=R+(D<<10&4294967295|D>>>22),D=O+(R^(B|~C))+L[14]+2878612391&4294967295,O=B+(D<<15&4294967295|D>>>17),D=C+(B^(O|~R))+L[5]+4237533241&4294967295,C=O+(D<<21&4294967295|D>>>11),D=R+(O^(C|~B))+L[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=B+(C^(R|~O))+L[3]+2399980690&4294967295,B=R+(D<<10&4294967295|D>>>22),D=O+(R^(B|~C))+L[10]+4293915773&4294967295,O=B+(D<<15&4294967295|D>>>17),D=C+(B^(O|~R))+L[1]+2240044497&4294967295,C=O+(D<<21&4294967295|D>>>11),D=R+(O^(C|~B))+L[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=B+(C^(R|~O))+L[15]+4264355552&4294967295,B=R+(D<<10&4294967295|D>>>22),D=O+(R^(B|~C))+L[6]+2734768916&4294967295,O=B+(D<<15&4294967295|D>>>17),D=C+(B^(O|~R))+L[13]+1309151649&4294967295,C=O+(D<<21&4294967295|D>>>11),D=R+(O^(C|~B))+L[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=B+(C^(R|~O))+L[11]+3174756917&4294967295,B=R+(D<<10&4294967295|D>>>22),D=O+(R^(B|~C))+L[2]+718787259&4294967295,O=B+(D<<15&4294967295|D>>>17),D=C+(B^(O|~R))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+B&4294967295}s.prototype.v=function(N,R){R===void 0&&(R=N.length);const C=R-this.blockSize,L=this.C;let O=this.h,B=0;for(;B<R;){if(O==0)for(;B<=C;)a(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<R;)if(L[O++]=N.charCodeAt(B++),O==this.blockSize){a(this,L),O=0;break}}else for(;B<R;)if(L[O++]=N[B++],O==this.blockSize){a(this,L),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,C=0;C<4;++C)for(let L=0;L<32;L+=8)N[R++]=this.g[C]>>>L&255;return N};function l(N,R){var C=d;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=R(N)}function c(N,R){this.h=R;const C=[];let L=!0;for(let O=N.length-1;O>=0;O--){const B=N[O]|0;L&&B==R||(C[O]=B,L=!1)}this.g=C}var d={};function m(N){return-128<=N&&N<128?l(N,function(R){return new c([R|0],R<0?-1:0)}):new c([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return M(p(-N));const R=[];let C=1;for(let L=0;N>=C;L++)R[L]=N/C|0,C*=4294967296;return new c(R,0)}function y(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return M(y(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(R,8));let L=_;for(let B=0;B<N.length;B+=8){var O=Math.min(8,N.length-B);const D=parseInt(N.substring(B,B+O),R);O<8?(O=p(Math.pow(R,O)),L=L.j(O).add(p(D))):(L=L.j(C),L=L.add(p(D)))}return L}var _=m(0),E=m(1),S=m(16777216);e=c.prototype,e.m=function(){if(z(this))return-M(this).m();let N=0,R=1;for(let C=0;C<this.g.length;C++){const L=this.i(C);N+=(L>=0?L:4294967296+L)*R,R*=4294967296}return N},e.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(P(this))return"0";if(z(this))return"-"+M(this).toString(N);const R=p(Math.pow(N,6));var C=this;let L="";for(;;){const O=at(C,R).g;C=G(C,O.j(R));let B=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=O,P(C))return B+L;for(;B.length<6;)B="0"+B;L=B+L}},e.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function P(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function z(N){return N.h==-1}e.l=function(N){return N=G(this,N),z(N)?-1:P(N)?0:1};function M(N){const R=N.g.length,C=[];for(let L=0;L<R;L++)C[L]=~N.g[L];return new c(C,~N.h).add(E)}e.abs=function(){return z(this)?M(this):this},e.add=function(N){const R=Math.max(this.g.length,N.g.length),C=[];let L=0;for(let O=0;O<=R;O++){let B=L+(this.i(O)&65535)+(N.i(O)&65535),D=(B>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);L=D>>>16,B&=65535,D&=65535,C[O]=D<<16|B}return new c(C,C[C.length-1]&-2147483648?-1:0)};function G(N,R){return N.add(M(R))}e.j=function(N){if(P(this)||P(N))return _;if(z(this))return z(N)?M(this).j(M(N)):M(M(this).j(N));if(z(N))return M(this.j(M(N)));if(this.l(S)<0&&N.l(S)<0)return p(this.m()*N.m());const R=this.g.length+N.g.length,C=[];for(var L=0;L<2*R;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<N.g.length;O++){const B=this.i(L)>>>16,D=this.i(L)&65535,ne=N.i(O)>>>16,Wt=N.i(O)&65535;C[2*L+2*O]+=D*Wt,Y(C,2*L+2*O),C[2*L+2*O+1]+=B*Wt,Y(C,2*L+2*O+1),C[2*L+2*O+1]+=D*ne,Y(C,2*L+2*O+1),C[2*L+2*O+2]+=B*ne,Y(C,2*L+2*O+2)}for(N=0;N<R;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=R;N<2*R;N++)C[N]=0;return new c(C,0)};function Y(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function X(N,R){this.g=N,this.h=R}function at(N,R){if(P(R))throw Error("division by zero");if(P(N))return new X(_,_);if(z(N))return R=at(M(N),R),new X(M(R.g),M(R.h));if(z(R))return R=at(N,M(R)),new X(M(R.g),R.h);if(N.g.length>30){if(z(N)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var C=E,L=R;L.l(N)<=0;)C=nt(C),L=nt(L);var O=ht(C,1),B=ht(L,1);for(L=ht(L,2),C=ht(C,2);!P(L);){var D=B.add(L);D.l(N)<=0&&(O=O.add(C),B=D),L=ht(L,1),C=ht(C,1)}return R=G(N,O.j(R)),new X(O,R)}for(O=_;N.l(R)>=0;){for(C=Math.max(1,Math.floor(N.m()/R.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),B=p(C),D=B.j(R);z(D)||D.l(N)>0;)C-=L,B=p(C),D=B.j(R);P(B)&&(B=E),O=O.add(B),N=G(N,D)}return new X(O,N)}e.B=function(N){return at(this,N).h},e.and=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)&N.i(L);return new c(C,this.h&N.h)},e.or=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)|N.i(L);return new c(C,this.h|N.h)},e.xor=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)^N.i(L);return new c(C,this.h^N.h)};function nt(N){const R=N.g.length+1,C=[];for(let L=0;L<R;L++)C[L]=N.i(L)<<1|N.i(L-1)>>>31;return new c(C,N.h)}function ht(N,R){const C=R>>5;R%=32;const L=N.g.length-C,O=[];for(let B=0;B<L;B++)O[B]=R>0?N.i(B+C)>>>R|N.i(B+C+1)<<32-R:N.i(B+C);return new c(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,VA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,wr=c}).apply(typeof rb<"u"?rb:typeof self<"u"?self:typeof window<"u"?window:{});var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MA,ku,OA,bf,Ig,kA,LA,UA;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof of=="object"&&of];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)t:{var T=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in T))break t;T=T[q]}h=h[h.length-1],A=T[h],v=v(A),v!=A&&v!=null&&t(T,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var T=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&T.push([A,v[A]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,T){return h.call.apply(h.bind,arguments)}function p(h,v,T){return p=m,p.apply(null,arguments)}function y(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function _(h,v){function T(){}T.prototype=v.prototype,h.Z=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(A,q,Q){for(var ot=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)ot[xt-2]=arguments[xt];return v.prototype[q].apply(A,ot)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const v=h.length;if(v>0){const T=Array(v);for(let A=0;A<v;A++)T[A]=h[A];return T}return[]}function P(h,v){for(let A=1;A<arguments.length;A++){const q=arguments[A];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=h.length||0;const Q=q.length||0;h.length=T+Q;for(let ot=0;ot<Q;ot++)h[T+ot]=q[ot]}else h.push(q)}}class z{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(h){c.setTimeout(()=>{throw h},0)}function G(){var h=N;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Y{constructor(){this.h=this.g=null}add(v,T){const A=X.get();A.set(v,T),this.h?this.h.next=A:this.g=A,this.h=A}}var X=new z(()=>new at,h=>h.reset());class at{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ht=!1,N=new Y,R=()=>{const h=Promise.resolve(void 0);nt=()=>{h.then(C)}};function C(){for(var h;h=G();){try{h.h.call(h.g)}catch(T){M(T)}var v=X;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ht=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function ne(h,v){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(ne,O),ne.prototype.init=function(h,v){const T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Wt="closure_listenable_"+(Math.random()*1e6|0),W=0;function rt(h,v,T,A,q){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!A,this.ha=q,this.key=++W,this.da=this.fa=!1}function dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h,v,T){for(const A in h)v.call(T,h[A],A,h)}function V(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function st(h){const v={};for(const T in h)v[T]=h[T];return v}const ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(h,v){let T,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(T in A)h[T]=A[T];for(let Q=0;Q<ct.length;Q++)T=ct[Q],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function gt(h){this.src=h,this.g={},this.h=0}gt.prototype.add=function(h,v,T,A,q){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ot=bt(h,v,A,q);return ot>-1?(v=h[ot],T||(v.fa=!1)):(v=new rt(v,this.src,Q,!!A,q),v.fa=T,h.push(v)),v};function Mt(h,v){const T=v.type;if(T in h.g){var A=h.g[T],q=Array.prototype.indexOf.call(A,v,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(A,q,1),Q&&(dt(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function bt(h,v,T,A){for(let q=0;q<h.length;++q){const Q=h[q];if(!Q.da&&Q.listener==v&&Q.capture==!!T&&Q.ha==A)return q}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Kt={};function Jn(h,v,T,A,q){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)Jn(h,v[Q],T,A,q);return null}return T=jc(T),h&&h[Wt]?h.J(v,T,d(A)?!!A.capture:!1,q):wl(h,v,T,!1,A,q)}function wl(h,v,T,A,q,Q){if(!v)throw Error("Invalid event type");const ot=d(q)?!!q.capture:!!q;let xt=Al(h);if(xt||(h[He]=xt=new gt(h)),T=xt.add(v,T,A,ot,Q),T.proxy)return T;if(A=Qa(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)B||(q=ot),q===void 0&&(q=!1),h.addEventListener(v.toString(),A,q);else if(h.attachEvent)h.attachEvent(Wa(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Qa(){function h(T){return v.call(h.src,h.listener,T)}const v=Ld;return h}function Xa(h,v,T,A,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Xa(h,v[Q],T,A,q);else A=d(A)?!!A.capture:!!A,T=jc(T),h&&h[Wt]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],T=bt(v,T,A,q),T>-1&&(dt(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Al(h))&&(v=h.g[v.toString()],h=-1,v&&(h=bt(v,T,A,q)),(T=h>-1?v[h]:null)&&qr(T))}function qr(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Wt])Mt(v.i,h);else{var T=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(T,A,h.capture):v.detachEvent?v.detachEvent(Wa(T),A):v.addListener&&v.removeListener&&v.removeListener(A),(T=Al(v))?(Mt(T,h),T.h==0&&(T.src=null,v[He]=null)):dt(h)}}}function Wa(h){return h in Kt?Kt[h]:Kt[h]="on"+h}function Ld(h,v){if(h.da)h=!0;else{v=new ne(v,this);const T=h.listener,A=h.ha||h.src;h.fa&&qr(h),h=T.call(A,v)}return h}function Al(h){return h=h[He],h instanceof gt?h:null}var gn="__closure_events_fn_"+(Math.random()*1e9>>>0);function jc(h){return typeof h=="function"?h:(h[gn]||(h[gn]=function(v){return h.handleEvent(v)}),h[gn])}function Pe(){L.call(this),this.i=new gt(this),this.M=this,this.G=null}_(Pe,L),Pe.prototype[Wt]=!0,Pe.prototype.removeEventListener=function(h,v,T,A){Xa(this,h,v,T,A)};function Ue(h,v){var T,A=h.G;if(A)for(T=[];A;A=A.G)T.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new O(v,h);else if(v instanceof O)v.target=v.target||h;else{var q=v;v=new O(A,h),lt(v,q)}q=!0;let Q,ot;if(T)for(ot=T.length-1;ot>=0;ot--)Q=v.g=T[ot],q=$i(Q,A,!0,v)&&q;if(Q=v.g=h,q=$i(Q,A,!0,v)&&q,q=$i(Q,A,!1,v)&&q,T)for(ot=0;ot<T.length;ot++)Q=v.g=T[ot],q=$i(Q,A,!1,v)&&q}Pe.prototype.N=function(){if(Pe.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const T=h.g[v];for(let A=0;A<T.length;A++)dt(T[A]);delete h.g[v],h.h--}}this.G=null},Pe.prototype.J=function(h,v,T,A){return this.i.add(String(h),v,!1,T,A)},Pe.prototype.K=function(h,v,T,A){return this.i.add(String(h),v,!0,T,A)};function $i(h,v,T,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let Q=0;Q<v.length;++Q){const ot=v[Q];if(ot&&!ot.da&&ot.capture==T){const xt=ot.listener,ie=ot.ha||ot.src;ot.fa&&Mt(h.i,ot),q=xt.call(ie,A)!==!1&&q}}return q&&!A.defaultPrevented}function Ud(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Sl(h){h.g=Ud(()=>{h.g=null,h.i&&(h.i=!1,Sl(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class jd extends L{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Sl(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(h){L.call(this),this.h=h,this.g={}}_(Hr,L);var Ns=[];function tn(h){It(h.g,function(v,T){this.g.hasOwnProperty(T)&&qr(v)},h),h.g={}}Hr.prototype.N=function(){Hr.Z.N.call(this),tn(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=c.JSON.stringify,cn=c.JSON.parse,Bd=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Bc(){}function zc(){}var gi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ps(){O.call(this,"d")}_(Ps,O);function ti(){O.call(this,"c")}_(ti,O);var kn={},Vs=null;function Za(){return Vs=Vs||new Pe}kn.Ia="serverreachability";function xl(h){O.call(this,kn.Ia,h)}_(xl,O);function Ms(h){const v=Za();Ue(v,new xl(v))}kn.STAT_EVENT="statevent";function Ja(h,v){O.call(this,kn.STAT_EVENT,h),this.stat=v}_(Ja,O);function ye(h){const v=Za();Ue(v,new Ja(v,h))}kn.Ja="timingevent";function Fc(h,v){O.call(this,kn.Ja,h),this.size=v}_(Fc,O);function Os(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ks(){this.g=!0}ks.prototype.ua=function(){this.g=!1};function Rl(h,v,T,A,q,Q){h.info(function(){if(h.g)if(Q){var ot="",xt=Q.split("&");for(let qt=0;qt<xt.length;qt++){var ie=xt[qt].split("=");if(ie.length>1){const Te=ie[0];ie=ie[1];const An=Te.split("_");ot=An.length>=2&&An[1]=="type"?ot+(Te+"="+ie+"&"):ot+(Te+"=redacted&")}}}else ot=null;else ot=Q;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+v+`
`+T+`
`+ot})}function Cl(h,v,T,A,q,Q,ot){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+v+`
`+T+`
`+Q+" "+ot})}function Yi(h,v,T,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+yi(h,T)+(A?" "+A:"")})}function zd(h,v){h.info(function(){return"TIMEOUT: "+v})}ks.prototype.info=function(){};function yi(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var T=Q[h];if(!(T.length<2)){var A=T[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ot=1;ot<A.length;ot++)A[ot]=""}}}}return On(Q)}catch{return v}}var ve={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ge={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qi;function Gr(){}_(Gr,Bc),Gr.prototype.g=function(){return new XMLHttpRequest},Qi=new Gr;function Kr(h){return encodeURIComponent(String(h))}function Fd(h){var v=1;h=h.split(":");const T=[];for(;v>0&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function ei(h,v,T,A){this.j=h,this.i=v,this.l=T,this.S=A||1,this.V=new Hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ls}function Ls(){this.i=null,this.g="",this.h=!1}var to={},vi={};function _i(h,v,T){h.M=1,h.A=Wi(le(v)),h.u=T,h.R=!0,Us(h,null)}function Us(h,v){h.F=Date.now(),$r(h),h.B=le(h.A);var T=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Kc(T.i,"t",A),h.C=0,T=h.j.L,h.h=new Ls,h.g=co(h.j,T?v:null,!h.u),h.P>0&&(h.O=new jd(p(h.Y,h,h.g),h.P)),v=h.V,T=h.g,A=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Ns[0]=q.toString()),q=Ns);for(let Q=0;Q<q.length;Q++){const ot=Jn(T,q[Q],A||v.handleEvent,!1,v.h||v);if(!ot)break;v.g[ot.key]=ot}v=h.J?st(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Ms(),Rl(h.i,h.v,h.B,h.l,h.S,h.u)}ei.prototype.ba=function(h){h=h.target;const v=this.O;v&&en(h)==3?v.j():this.Y(h)},ei.prototype.Y=function(h){try{if(h==this.g)t:{const xt=en(this.g),ie=this.g.ya(),qt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||sa(this.g)))){this.K||xt!=4||ie==7||(ie==8||qt<=0?Ms(3):Ms(2)),Ei(this);var v=this.g.ca();this.X=v;var T=js(this);if(this.o=v==200,Cl(this.i,this.v,this.B,this.l,this.S,xt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var Q=A;break e}}Q=null}if(h=Q)Yi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,eo(this,h);else{this.o=!1,this.m=3,ye(12),bi(this),Yr(this);break t}}if(this.R){h=!0;let Te;for(;!this.K&&this.C<T.length;)if(Te=qc(this,T),Te==vi){xt==4&&(this.m=4,ye(14),h=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Te==to){this.m=4,ye(15),Yi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Yi(this.i,this.l,Te,null),eo(this,Te);if(_e(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||T.length!=0||this.h.h||(this.m=1,ye(16),h=!1),this.o=this.o&&h,!h)Yi(this.i,this.l,T,"[Invalid Chunked Response]"),bi(this),Yr(this);else if(T.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ul(ot),ot.P=!0,ye(11))}}else Yi(this.i,this.l,T,null),eo(this,T);xt==4&&bi(this),this.o&&!this.K&&(xt==4?jl(this.j,this):(this.o=!1,$r(this)))}else ra(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),bi(this),Yr(this)}}}catch{}finally{}};function js(h){if(!_e(h))return h.g.la();const v=sa(h.g);if(v==="")return"";let T="";const A=v.length,q=en(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return bi(h),Yr(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<A;Q++)h.h.h=!0,T+=h.h.i.decode(v[Q],{stream:!(q&&Q==A-1)});return v.length=0,h.h.g+=T,h.C=0,h.h.g}function _e(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function qc(h,v){var T=h.C,A=v.indexOf(`
`,T);return A==-1?vi:(T=Number(v.substring(T,A)),isNaN(T)?to:(A+=1,A+T>v.length?vi:(v=v.slice(A,A+T),h.C=A+T,v)))}ei.prototype.cancel=function(){this.K=!0,bi(this)};function $r(h){h.T=Date.now()+h.H,Ti(h,h.H)}function Ti(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Os(p(h.aa,h),v)}function Ei(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ei.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(zd(this.i,this.B),this.M!=2&&(Ms(),ye(17)),bi(this),this.m=2,Yr(this)):Ti(this,this.T-h)};function Yr(h){h.j.I==0||h.K||jl(h.j,h)}function bi(h){Ei(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,tn(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function eo(h,v){try{var T=h.j;if(T.I!=0&&(T.g==h||Wr(T.h,h))){if(!h.L&&Wr(T.h,h)&&T.I==3){try{var A=T.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)uo(T),wi(T);else break t;Ll(T),ye(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Os(p(T.Va,T),6e3));Ln(T.h)<=1&&T.ta&&(T.ta=void 0)}else ts(T,11)}else if((h.L||T.g==h)&&uo(T),!D(v))for(q=T.Ba.g.parse(v),v=0;v<q.length;v++){let qt=q[v];const Te=qt[0];if(!(Te<=T.K))if(T.K=Te,qt=qt[1],T.I==2)if(qt[0]=="c"){T.M=qt[1],T.ba=qt[2];const An=qt[3];An!=null&&(T.ka=An,T.j.info("VER="+T.ka));const Ai=qt[4];Ai!=null&&(T.za=Ai,T.j.info("SVER="+T.za));const si=qt[5];si!=null&&typeof si=="number"&&si>0&&(A=1.5*si,T.O=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const ri=h.g;if(ri){const ai=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var Q=A.h;Q.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(no(Q,Q.h),Q.h=null))}if(A.G){const zl=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(A.wa=zl,$t(A.J,A.G,zl))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),A=T;var ot=h;if(A.na=eh(A,A.L?A.ba:null,A.W),ot.L){Xi(A.h,ot);var xt=ot,ie=A.O;ie&&(xt.H=ie),xt.D&&(Ei(xt),$r(xt)),A.g=ot}else Wc(A);T.i.length>0&&ua(T)}else qt[0]!="stop"&&qt[0]!="close"||ts(T,7);else T.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?ts(T,7):oa(T):qt[0]!="noop"&&T.l&&T.l.qa(qt),T.A=0)}}Ms(4)}catch{}}var qd=class{constructor(h,v){this.g=h,this.map=v}};function Qr(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ln(h){return h.h?1:h.g?h.g.size:0}function Wr(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function no(h,v){h.g?h.g.add(v):h.h=v}function Xi(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Qr.prototype.cancel=function(){if(this.i=io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function io(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.G);return v}return S(h.i)}var so=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hd(h,v){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const A=h[T].indexOf("=");let q,Q=null;A>=0?(q=h[T].substring(0,A),Q=h[T].substring(A+1)):q=h[T],v(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ni(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof ni?(this.l=h.l,Bs(this,h.j),this.o=h.o,this.g=h.g,Zr(this,h.u),this.h=h.h,zs(this,$c(h.i)),this.m=h.m):h&&(v=String(h).match(so))?(this.l=!1,Bs(this,v[1]||"",!0),this.o=Jr(v[2]||""),this.g=Jr(v[3]||"",!0),Zr(this,v[4]),this.h=Jr(v[5]||"",!0),zs(this,v[6]||"",!0),this.m=Jr(v[7]||"")):(this.l=!1,this.i=new Un(null,this.l))}ni.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(je(v,Dl,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(je(v,Dl,!0),"@"),h.push(Kr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(je(T,T.charAt(0)=="/"?Fs:Nl,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",je(T,Gc)),h.join("")},ni.prototype.resolve=function(h){const v=le(this);let T=!!h.j;T?Bs(v,h.j):T=!!h.o,T?v.o=h.o:T=!!h.g,T?v.g=h.g:T=h.u!=null;var A=h.h;if(T)Zr(v,h.u);else if(T=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=v.h.lastIndexOf("/");q!=-1&&(A=v.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let ot=0;ot<q.length;){const xt=q[ot++];xt=="."?A&&ot==q.length&&Q.push(""):xt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&ot==q.length&&Q.push("")):(Q.push(xt),A=!0)}A=Q.join("/")}else A=q}return T?v.h=A:T=h.i.toString()!=="",T?zs(v,$c(h.i)):T=!!h.m,T&&(v.m=h.m),v};function le(h){return new ni(h)}function Bs(h,v,T){h.j=T?Jr(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Zr(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function zs(h,v,T){v instanceof Un?(h.i=v,Ml(h.i,h.l)):(T||(v=je(v,Hc)),h.i=new Un(v,h.l))}function $t(h,v,T){h.i.set(v,T)}function Wi(h){return $t(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Jr(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function je(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Il),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Il(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Dl=/[#\/\?@]/g,Nl=/[#\?:]/g,Fs=/[#\?]/g,Hc=/[#\?@]/g,Gc=/#/g;function Un(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Zi(h){h.g||(h.g=new Map,h.h=0,h.i&&Hd(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}e=Un.prototype,e.add=function(h,v){Zi(this),this.i=null,h=ii(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function Pl(h,v){Zi(h),v=ii(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Vl(h,v){return Zi(h),v=ii(h,v),h.g.has(v)}e.forEach=function(h,v){Zi(this),this.g.forEach(function(T,A){T.forEach(function(q){h.call(v,q,A,this)},this)},this)};function ro(h,v){Zi(h);let T=[];if(typeof v=="string")Vl(h,v)&&(T=T.concat(h.g.get(ii(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)T=T.concat(h[v]);return T}e.set=function(h,v){return Zi(this),this.i=null,h=ii(this,h),Vl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=ro(this,h),h.length>0?String(h[0]):v):v};function Kc(h,v,T){Pl(h,v),T.length>0&&(h.i=null,h.g.set(ii(h,v),S(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var T=v[A];const q=Kr(T);T=ro(this,T);for(let Q=0;Q<T.length;Q++){let ot=q;T[Q]!==""&&(ot+="="+Kr(T[Q])),h.push(ot)}}return this.i=h.join("&")};function $c(h){const v=new Un;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function ii(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ml(h,v){v&&!h.j&&(Zi(h),h.i=null,h.g.forEach(function(T,A){const q=A.toLowerCase();A!=q&&(Pl(this,A),Kc(this,q,T))},h)),h.j=v}function Ol(h,v){const T=new ks;if(c.Image){const A=new Image;A.onload=y(hn,T,"TestLoadImage: loaded",!0,v,A),A.onerror=y(hn,T,"TestLoadImage: error",!1,v,A),A.onabort=y(hn,T,"TestLoadImage: abort",!1,v,A),A.ontimeout=y(hn,T,"TestLoadImage: timeout",!1,v,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function qs(h,v){const T=new ks,A=new AbortController,q=setTimeout(()=>{A.abort(),hn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(q),Q.ok?hn(T,"TestPingServer: ok",!0,v):hn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),hn(T,"TestPingServer: error",!1,v)})}function hn(h,v,T,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(T)}catch{}}function Yc(){this.g=new Bd}function ta(h){this.i=h.Sb||null,this.h=h.ab||!1}_(ta,Bc),ta.prototype.g=function(){return new ea(this.i,this.h)};function ea(h,v){Pe.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ea,Pe),e=ea.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,Ji(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fn(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ji(this)),this.g&&(this.readyState=3,Ji(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hs(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hs(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?fn(this):Ji(this),this.readyState==3&&Hs(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,fn(this))},e.Na=function(h){this.g&&(this.response=h,fn(this))},e.ga=function(){this.g&&fn(this)};function fn(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ji(h)}e.setRequestHeader=function(h,v){this.A.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function Ji(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Gs(h){let v="";return It(h,function(T,A){v+=A,v+=":",v+=T,v+=`\r
`}),v}function jn(h,v,T){t:{for(A in T){var A=!1;break t}A=!0}A||(T=Gs(T),typeof h=="string"?T!=null&&Kr(T):$t(h,v,T))}function Jt(h){Pe.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Jt,Pe);var ao=/^https?$/i,Qc=["POST","PUT"];e=Jt.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,v,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qi.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){na(this,Q);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)T.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())T.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Qc,v,void 0)>=0)||A||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ot]of T)this.g.setRequestHeader(Q,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){na(this,Q)}};function na(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,ia(h),Ve(h)}function ia(h){h.A||(h.A=!0,Ue(h,"complete"),Ue(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ue(this,"complete"),Ue(this,"abort"),Ve(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ve(this,!0)),Jt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?kl(this):this.Xa())},e.Xa=function(){kl(this)};function kl(h){if(h.h&&typeof l<"u"){if(h.v&&en(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ue(h,"readystatechange"),en(h)==4){h.h=!1;try{const Q=h.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var A;if(A=Q===0){let ot=String(h.D).match(so)[1]||null;!ot&&c.self&&c.self.location&&(ot=c.self.location.protocol.slice(0,-1)),A=!ao.test(ot?ot.toLowerCase():"")}T=A}if(T)Ue(h,"complete"),Ue(h,"success");else{h.o=6;try{var q=en(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",ia(h)}}finally{Ve(h)}}}}function Ve(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,v||Ue(h,"ready");try{T.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function en(h){return h.g?h.g.readyState:0}e.ca=function(){try{return en(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),cn(v)}};function sa(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ra(h){const v={};h=(h.g&&en(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(D(h[A]))continue;var T=Fd(h[A]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=v[q]||[];v[q]=Q,Q.push(T)}V(v,function(A){return A.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function oo(h){this.za=0,this.i=[],this.j=new ks,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=aa("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=aa("baseRetryDelayMs",5e3,h),this.Za=aa("retryDelaySeedMs",1e4,h),this.Ta=aa("forwardChannelMaxRetries",2,h),this.va=aa("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Qr(h&&h.concurrentRequestLimit),this.Ba=new Yc,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=oo.prototype,e.ka=8,e.I=1,e.connect=function(h,v,T,A){ye(0),this.W=h,this.H=v||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.J=eh(this,null,this.W),ua(this)};function oa(h){if(la(h),h.I==3){var v=h.V++,T=le(h.J);if($t(T,"SID",h.M),$t(T,"RID",v),$t(T,"TYPE","terminate"),ca(h,T),v=new ei(h,h.j,v),v.M=2,v.A=Wi(le(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.A,T=!0),T||(v.g=co(v.j,null),v.g.ea(v.A)),v.F=Date.now(),$r(v)}th(h)}function wi(h){h.g&&(Ul(h),h.g.cancel(),h.g=null)}function la(h){wi(h),h.v&&(c.clearTimeout(h.v),h.v=null),uo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ua(h){if(!Xr(h.h)&&!h.m){h.m=!0;var v=h.Ea;nt||R(),ht||(nt(),ht=!0),N.add(v,h),h.D=0}}function Gd(h,v){return Ln(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Os(p(h.Ea,h,v),Jc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new ei(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=st(Q),lt(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=lo(this,q,v),T=le(this.J),$t(T,"RID",h),$t(T,"CVER",22),this.G&&$t(T,"X-HTTP-Session-Id",this.G),ca(this,T),Q&&(this.R?v="headers="+Kr(Gs(Q))+"&"+v:this.u&&jn(T,this.u,Q)),no(this.h,q),this.Ra&&$t(T,"TYPE","init"),this.S?($t(T,"$req",v),$t(T,"SID","null"),q.U=!0,_i(q,T,null)):_i(q,T,v),this.I=2}}else this.I==3&&(h?Xc(this,h):this.i.length==0||Xr(this.h)||Xc(this))};function Xc(h,v){var T;v?T=v.l:T=h.V++;const A=le(h.J);$t(A,"SID",h.M),$t(A,"RID",T),$t(A,"AID",h.K),ca(h,A),h.u&&h.o&&jn(A,h.u,h.o),T=new ei(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),v&&(h.i=v.G.concat(h.i)),v=lo(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),no(h.h,T),_i(T,A,v)}function ca(h,v){h.H&&It(h.H,function(T,A){$t(v,A,T)}),h.l&&It({},function(T,A){$t(v,A,T)})}function lo(h,v,T){T=Math.min(h.i.length,T);const A=h.l?p(h.l.Ka,h.l,h):null;t:{var q=h.i;let xt=-1;for(;;){const ie=["count="+T];xt==-1?T>0?(xt=q[0].g,ie.push("ofs="+xt)):xt=0:ie.push("ofs="+xt);let qt=!0;for(let Te=0;Te<T;Te++){var Q=q[Te].g;const An=q[Te].map;if(Q-=xt,Q<0)xt=Math.max(0,q[Te].g-100),qt=!1;else try{Q="req"+Q+"_"||"";try{var ot=An instanceof Map?An:Object.entries(An);for(const[Ai,si]of ot){let ri=si;d(si)&&(ri=On(si)),ie.push(Q+Ai+"="+encodeURIComponent(ri))}}catch(Ai){throw ie.push(Q+"type="+encodeURIComponent("_badmap")),Ai}}catch{A&&A(An)}}if(qt){ot=ie.join("&");break t}}ot=void 0}return h=h.i.splice(0,T),v.G=h,ot}function Wc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;nt||R(),ht||(nt(),ht=!0),N.add(v,h),h.A=0}}function Ll(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Os(p(h.Da,h),Jc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Zc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Os(p(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),wi(this),Zc(this))};function Ul(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Zc(h){h.g=new ei(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=le(h.na);$t(v,"RID","rpc"),$t(v,"SID",h.M),$t(v,"AID",h.K),$t(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&$t(v,"TO",h.ia),$t(v,"TYPE","xmlhttp"),ca(h,v),h.u&&h.o&&jn(v,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Wi(le(v)),T.u=null,T.R=!0,Us(T,h)}e.Va=function(){this.C!=null&&(this.C=null,wi(this),Ll(this),ye(19))};function uo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function jl(h,v){var T=null;if(h.g==v){uo(h),Ul(h),h.g=null;var A=2}else if(Wr(h.h,v))T=v.G,Xi(h.h,v),A=1;else return;if(h.I!=0){if(v.o)if(A==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;A=Za(),Ue(A,new Fc(A,T)),ua(h)}else Wc(h);else if(q=v.m,q==3||q==0&&v.X>0||!(A==1&&Gd(h,v)||A==2&&Ll(h)))switch(T&&T.length>0&&(v=h.h,v.i=v.i.concat(T)),q){case 1:ts(h,5);break;case 4:ts(h,10);break;case 3:ts(h,6);break;default:ts(h,2)}}}function Jc(h,v){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*v}function ts(h,v){if(h.j.info("Error code "+v),v==2){var T=p(h.bb,h),A=h.Ua;const q=!A;A=new ni(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Bs(A,"https"),Wi(A),q?Ol(A.toString(),T):qs(A.toString(),T)}else ye(2);h.I=0,h.l&&h.l.pa(v),th(h),la(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function th(h){if(h.I=0,h.ja=[],h.l){const v=io(h.h);(v.length!=0||h.i.length!=0)&&(P(h.ja,v),P(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function eh(h,v,T){var A=T instanceof ni?le(T):new ni(T);if(A.g!="")v&&(A.g=v+"."+A.g),Zr(A,A.u);else{var q=c.location;A=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const Q=new ni(null);A&&Bs(Q,A),v&&(Q.g=v),q&&Zr(Q,q),T&&(Q.h=T),A=Q}return T=h.G,v=h.wa,T&&v&&$t(A,T,v),$t(A,"VER",h.ka),ca(h,A),A}function co(h,v,T){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Jt(new ta({ab:T})):new Jt(h.ma),v.Fa(h.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function nh(){}e=nh.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function ho(){}ho.prototype.g=function(h,v){return new dn(h,v)};function dn(h,v){Pe.call(this),this.g=new oo(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ks(this)}_(dn,Pe),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){oa(this.g)},dn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=On(h),h=T);v.i.push(new qd(v.Ya++,h)),v.I==3&&ua(v)},dn.prototype.N=function(){this.g.l=null,delete this.j,oa(this.g),delete this.g,dn.Z.N.call(this)};function Bl(h){Ps.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const T in v){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Bl,Ps);function ih(){ti.call(this),this.status=1}_(ih,ti);function Ks(h){this.g=h}_(Ks,nh),Ks.prototype.ra=function(){Ue(this.g,"a")},Ks.prototype.qa=function(h){Ue(this.g,new Bl(h))},Ks.prototype.pa=function(h){Ue(this.g,new ih)},Ks.prototype.oa=function(){Ue(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,UA=function(){return new ho},LA=function(){return Za()},kA=kn,Ig={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,bf=ve,Ge.COMPLETE="complete",OA=Ge,zc.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",Pe.prototype.listen=Pe.prototype.J,ku=zc,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,MA=Jt}).apply(typeof of<"u"?of:typeof self<"u"?self:typeof window<"u"?window:{});const ab="@firebase/firestore",ob="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Sy("@firebase/firestore");function zo(){return za.logLevel}function ft(e,...t){if(za.logLevel<=Ot.DEBUG){const n=t.map(Uy);za.debug(`Firestore (${ml}): ${e}`,...n)}}function xs(e,...t){if(za.logLevel<=Ot.ERROR){const n=t.map(Uy);za.error(`Firestore (${ml}): ${e}`,...n)}}function il(e,...t){if(za.logLevel<=Ot.WARN){const n=t.map(Uy);za.warn(`Firestore (${ml}): ${e}`,...n)}}function Uy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,jA(e,s,n)}function jA(e,t,n){let s=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw xs(s),new Error(s)}function Ft(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||jA(t,a,s)}function Rt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Gi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(an.UNAUTHENTICATED)))}shutdown(){}}class gM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class yM{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Es,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Es)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new BA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class vM{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _M{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new vM(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TM{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,En(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=l=>{l.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=EM(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function kt(e,t){return e<t?-1:e>t?1:0}function Dg(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return Wp(a)===Wp(l)?kt(a,l):Wp(a)?1:-1}return kt(e.length,t.length)}const bM=55296,wM=57343;function Wp(e){const t=e.charCodeAt(0);return t>=bM&&t<=wM}function sl(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="__name__";class Di{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=Di.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return kt(t.length,n.length)}static compareSegments(t,n){const s=Di.isNumericId(t),a=Di.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Di.extractNumericId(t).compare(Di.extractNumericId(n)):Dg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return wr.fromString(t.substring(4,t.length-2))}}class ee extends Di{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const AM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Di{construct(t,n,s){return new Ze(t,n,s)}static isValidIdentifier(t){return AM.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ub}static keyField(){return new Ze([ub])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ut(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new ut(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ut(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ut(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ee.fromString(t))}static fromName(t){return new yt(ee.fromString(t).popFirst(5))}static empty(){return new yt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(e,t,n){if(!n)throw new ut(tt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function SM(e,t,n,s){if(t===!0&&s===!0)throw new ut(tt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function cb(e){if(!yt.isDocumentKey(e))throw new ut(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function hb(e){if(yt.isDocumentKey(e))throw new ut(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function FA(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function md(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Et(12329,{type:typeof e})}function mi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ut(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=md(e);throw new ut(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(e,t){const n={typeString:e};return t&&(n.value=t),n}function Sc(e,t){if(!FA(e))throw new ut(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ut(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=-62135596800,db=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*db);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<fb)throw new ut(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/db}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Sc(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-fb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ne("string",se._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new se(0,0))}static max(){return new St(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=-1;function xM(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=St.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new xr(a,yt.empty(),t)}function RM(e){return new xr(e.readTime,e.key,nc)}class xr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new xr(St.min(),yt.empty(),nc)}static max(){return new xr(St.max(),yt.empty(),nc)}}function CM(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:kt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(e){if(e.code!==tt.FAILED_PRECONDITION||e.message!==IM)throw e;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):it.reject(n)}static resolve(t){return new it(((n,s)=>{n(t)}))}static reject(t){return new it(((n,s)=>{s(t)}))}static waitFor(t){return new it(((n,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(t){let n=it.resolve(!1);for(const s of t)n=n.next((a=>a?it.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new it(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next((y=>{c[p]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new it(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function NM(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}pd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=-1;function gd(e){return e==null}function zf(e){return e===0&&1/e==-1/0}function PM(e){return typeof e=="number"&&Number.isInteger(e)&&!zf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="";function VM(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=mb(t)),t=MM(e.get(n),t);return mb(t)}function MM(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case qA:n+="";break;default:n+=l}}return n}function mb(e){return e+qA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function jr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function HA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,n){this.comparator=t,this.root=n||We.EMPTY}insert(t,n){return new de(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lf(this.root,t,this.comparator,!1)}getReverseIterator(){return new lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lf(this.root,t,this.comparator,!0)}}class lf{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??We.RED,this.left=a??We.EMPTY,this.right=l??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new We(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return We.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new We(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new gb(this.data.getIterator())}getIteratorFrom(t){return new gb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class gb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new Vn([])}unionWith(t){let n=new ke(Ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Vn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return sl(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new GA("Invalid base64 string: "+l):l}})(t);return new Je(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new Je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const OM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(e){if(Ft(!!e,39018),typeof e=="string"){let t=0;const n=OM.exec(e);if(Ft(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ae(e.seconds),nanos:Ae(e.nanos)}}function Ae(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Cr(e){return typeof e=="string"?Je.fromBase64String(e):Je.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="server_timestamp",$A="__type__",YA="__previous_value__",QA="__local_write_time__";function zy(e){return(e?.mapValue?.fields||{})[$A]?.stringValue===KA}function yd(e){const t=e.mapValue.fields[YA];return zy(t)?yd(t):t}function ic(e){const t=Rr(e.mapValue.fields[QA].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(t,n,s,a,l,c,d,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Ff="(default)";class sc{constructor(t,n){this.projectId=t,this.database=n||Ff}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database===Ff}isEqual(t){return t instanceof sc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="__type__",LM="__max__",uf={mapValue:{}},WA="__vector__",qf="value";function Ir(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zy(e)?4:jM(e)?9007199254740991:UM(e)?10:11:Et(28295,{value:e})}function zi(e,t){if(e===t)return!0;const n=Ir(e);if(n!==Ir(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ic(e).isEqual(ic(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Rr(a.timestampValue),d=Rr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return Cr(a.bytesValue).isEqual(Cr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Ae(a.geoPointValue.latitude)===Ae(l.geoPointValue.latitude)&&Ae(a.geoPointValue.longitude)===Ae(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ae(a.integerValue)===Ae(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ae(a.doubleValue),d=Ae(l.doubleValue);return c===d?zf(c)===zf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return sl(e.arrayValue.values||[],t.arrayValue.values||[],zi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(pb(c)!==pb(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!zi(c[m],d[m])))return!1;return!0})(e,t);default:return Et(52216,{left:e})}}function rc(e,t){return(e.values||[]).find((n=>zi(n,t)))!==void 0}function rl(e,t){if(e===t)return 0;const n=Ir(e),s=Ir(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=Ae(l.integerValue||l.doubleValue),m=Ae(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return yb(e.timestampValue,t.timestampValue);case 4:return yb(ic(e),ic(t));case 5:return Dg(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=Cr(l),m=Cr(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=kt(d[p],m[p]);if(y!==0)return y}return kt(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=kt(Ae(l.latitude),Ae(c.latitude));return d!==0?d:kt(Ae(l.longitude),Ae(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return vb(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[qf]?.arrayValue,y=m[qf]?.arrayValue,_=kt(p?.values?.length||0,y?.values?.length||0);return _!==0?_:vb(p,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===uf.mapValue&&c===uf.mapValue)return 0;if(l===uf.mapValue)return 1;if(c===uf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=Dg(m[_],y[_]);if(E!==0)return E;const S=rl(d[m[_]],p[y[_]]);if(S!==0)return S}return kt(m.length,y.length)})(e.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function yb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return kt(e,t);const n=Rr(e),s=Rr(t),a=kt(n.seconds,s.seconds);return a!==0?a:kt(n.nanos,s.nanos)}function vb(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=rl(n[a],s[a]);if(l)return l}return kt(n.length,s.length)}function al(e){return Ng(e)}function Ng(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Rr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Cr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return yt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Ng(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Ng(n.fields[c])}`;return a+"}"})(e.mapValue):Et(61005,{value:e})}function wf(e){switch(Ir(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yd(e);return t?16+wf(t):16;case 5:return 2*e.stringValue.length;case 6:return Cr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+wf(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return jr(s.fields,((l,c)=>{a+=l.length+wf(c)})),a})(e.mapValue);default:throw Et(13486,{value:e})}}function _b(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Pg(e){return!!e&&"integerValue"in e}function Fy(e){return!!e&&"arrayValue"in e}function Tb(e){return!!e&&"nullValue"in e}function Eb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Af(e){return!!e&&"mapValue"in e}function UM(e){return(e?.mapValue?.fields||{})[XA]?.stringValue===WA}function qu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return jr(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=qu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=qu(e.arrayValue.values[n]);return t}return{...e}}function jM(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===LM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.value=t}static empty(){return new bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Af(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=qu(n)}setAll(t){let n=Ze.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=qu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());Af(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return zi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];Af(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){jr(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new bn(qu(this.value))}}function ZA(e){const t=[];return jr(e.fields,((n,s)=>{const a=new Ze([n]);if(Af(s)){const l=ZA(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new Vn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new on(t,0,St.min(),St.min(),St.min(),bn.empty(),0)}static newFoundDocument(t,n,s,a){return new on(t,1,n,St.min(),s,a,0)}static newNoDocument(t,n){return new on(t,2,n,St.min(),St.min(),bn.empty(),0)}static newUnknownDocument(t,n){return new on(t,3,n,St.min(),St.min(),bn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,n){this.position=t,this.inclusive=n}}function bb(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=yt.comparator(yt.fromName(c.referenceValue),n.key):s=rl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function wb(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!zi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,n="asc"){this.field=t,this.dir=n}}function BM(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{}class De extends JA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new FM(t,n,s):n==="array-contains"?new GM(t,s):n==="in"?new KM(t,s):n==="not-in"?new $M(t,s):n==="array-contains-any"?new YM(t,s):new De(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new qM(t,s):new HM(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rl(n,this.value)):n!==null&&Ir(this.value)===Ir(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends JA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new pi(t,n)}matches(t){return tS(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tS(e){return e.op==="and"}function eS(e){return zM(e)&&tS(e)}function zM(e){for(const t of e.filters)if(t instanceof pi)return!1;return!0}function Vg(e){if(e instanceof De)return e.field.canonicalString()+e.op.toString()+al(e.value);if(eS(e))return e.filters.map((t=>Vg(t))).join(",");{const t=e.filters.map((n=>Vg(n))).join(",");return`${e.op}(${t})`}}function nS(e,t){return e instanceof De?(function(s,a){return a instanceof De&&s.op===a.op&&s.field.isEqual(a.field)&&zi(s.value,a.value)})(e,t):e instanceof pi?(function(s,a){return a instanceof pi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&nS(c,a.filters[d])),!0):!1})(e,t):void Et(19439)}function iS(e){return e instanceof De?(function(n){return`${n.field.canonicalString()} ${n.op} ${al(n.value)}`})(e):e instanceof pi?(function(n){return n.op.toString()+" {"+n.getFilters().map(iS).join(" ,")+"}"})(e):"Filter"}class FM extends De{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class qM extends De{constructor(t,n){super(t,"in",n),this.keys=sS("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class HM extends De{constructor(t,n){super(t,"not-in",n),this.keys=sS("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function sS(e,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class GM extends De{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Fy(n)&&rc(n.arrayValue,this.value)}}class KM extends De{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}}class $M extends De{constructor(t,n){super(t,"not-in",n)}matches(t){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rc(this.value.arrayValue,n)}}class YM extends De{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Fy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>rc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function Ab(e,t=null,n=[],s=[],a=null,l=null,c=null){return new QM(e,t,n,s,a,l,c)}function qy(e){const t=Rt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Vg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),gd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>al(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>al(s))).join(",")),t.Te=n}return t.Te}function Hy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!BM(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!nS(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!wb(e.startAt,t.startAt)&&wb(e.endAt,t.endAt)}function Mg(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XM(e,t,n,s,a,l,c,d){return new xc(e,t,n,s,a,l,c,d)}function Gy(e){return new xc(e)}function Sb(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function rS(e){return e.collectionGroup!==null}function Hu(e){const t=Rt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ke(Ze.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Gf(l,s))})),n.has(Ze.keyField().canonicalString())||t.Ie.push(new Gf(Ze.keyField(),s))}return t.Ie}function Vi(e){const t=Rt(e);return t.Ee||(t.Ee=WM(t,Hu(e))),t.Ee}function WM(e,t){if(e.limitType==="F")return Ab(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Gf(a.field,l)}));const n=e.endAt?new Hf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Hf(e.startAt.position,e.startAt.inclusive):null;return Ab(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Og(e,t){const n=e.filters.concat([t]);return new xc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function kg(e,t,n){return new xc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vd(e,t){return Hy(Vi(e),Vi(t))&&e.limitType===t.limitType}function aS(e){return`${qy(Vi(e))}|lt:${e.limitType}`}function Fo(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>iS(a))).join(", ")}]`),gd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>al(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>al(a))).join(",")),`Target(${s})`})(Vi(e))}; limitType=${e.limitType})`}function _d(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):yt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of Hu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const p=bb(c,d,m);return c.inclusive?p<=0:p<0})(s.startAt,Hu(s),a)||s.endAt&&!(function(c,d,m){const p=bb(c,d,m);return c.inclusive?p>=0:p>0})(s.endAt,Hu(s),a))})(e,t)}function ZM(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function oS(e){return(t,n)=>{let s=!1;for(const a of Hu(e)){const l=JM(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function JM(e,t,n){const s=e.field.isKeyField()?yt.comparator(t.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?rl(m,p):Et(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){jr(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return HA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=new de(yt.comparator);function Rs(){return tO}const lS=new de(yt.comparator);function Lu(...e){let t=lS;for(const n of e)t=t.insert(n.key,n);return t}function uS(e){let t=lS;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Da(){return Gu()}function cS(){return Gu()}function Gu(){return new Ka((e=>e.toString()),((e,t)=>e.isEqual(t)))}const eO=new de(yt.comparator),nO=new ke(yt.comparator);function Lt(...e){let t=nO;for(const n of e)t=t.add(n);return t}const iO=new ke(kt);function sO(){return iO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(t)?"-0":t}}function hS(e){return{integerValue:""+e}}function fS(e,t){return PM(t)?hS(t):Ky(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this._=void 0}}function rO(e,t,n){return e instanceof ac?(function(a,l){const c={fields:{[$A]:{stringValue:KA},[QA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&zy(l)&&(l=yd(l)),l&&(c.fields[YA]=l),{mapValue:c}})(n,t):e instanceof oc?mS(e,t):e instanceof lc?pS(e,t):(function(a,l){const c=dS(a,l),d=xb(c)+xb(a.Ae);return Pg(c)&&Pg(a.Ae)?hS(d):Ky(a.serializer,d)})(e,t)}function aO(e,t,n){return e instanceof oc?mS(e,t):e instanceof lc?pS(e,t):n}function dS(e,t){return e instanceof uc?(function(s){return Pg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class ac extends Td{}class oc extends Td{constructor(t){super(),this.elements=t}}function mS(e,t){const n=gS(t);for(const s of e.elements)n.some((a=>zi(a,s)))||n.push(s);return{arrayValue:{values:n}}}class lc extends Td{constructor(t){super(),this.elements=t}}function pS(e,t){let n=gS(t);for(const s of e.elements)n=n.filter((a=>!zi(a,s)));return{arrayValue:{values:n}}}class uc extends Td{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function xb(e){return Ae(e.integerValue||e.doubleValue)}function gS(e){return Fy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t,n){this.field=t,this.transform=n}}function oO(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof oc&&a instanceof oc||s instanceof lc&&a instanceof lc?sl(s.elements,a.elements,zi):s instanceof uc&&a instanceof uc?zi(s.Ae,a.Ae):s instanceof ac&&a instanceof ac})(e.transform,t.transform)}class lO{constructor(t,n){this.version=t,this.transformResults=n}}class Xn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Xn}static exists(t){return new Xn(void 0,t)}static updateTime(t){return new Xn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ed{}function vS(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new $y(e.key,Xn.none()):new Rc(e.key,e.data,Xn.none());{const n=e.data,s=bn.empty();let a=new ke(Ze.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Br(e.key,s,new Vn(a.toArray()),Xn.none())}}function uO(e,t,n){e instanceof Rc?(function(a,l,c){const d=a.value.clone(),m=Cb(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Br?(function(a,l,c){if(!Sf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Cb(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(_S(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Ku(e,t,n,s){return e instanceof Rc?(function(l,c,d,m){if(!Sf(l.precondition,c))return d;const p=l.value.clone(),y=Ib(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(e,t,n,s):e instanceof Br?(function(l,c,d,m){if(!Sf(l.precondition,c))return d;const p=Ib(l.fieldTransforms,m,c),y=c.data;return y.setAll(_S(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,s):(function(l,c,d){return Sf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function cO(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=dS(s.transform,a||null);l!=null&&(n===null&&(n=bn.empty()),n.set(s.field,l))}return n||null}function Rb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&sl(s,a,((l,c)=>oO(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Rc extends Ed{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Br extends Ed{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function _S(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function Cb(e,t,n){const s=new Map;Ft(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,aO(c,d,n[a]))}return s}function Ib(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,rO(l,c,t))}return s}class $y extends Ed{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hO extends Ed{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&uO(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ku(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ku(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=cS();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=vS(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&sl(this.mutations,t.mutations,((n,s)=>Rb(n,s)))&&sl(this.baseMutations,t.baseMutations,((n,s)=>Rb(n,s)))}}class Yy{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return eO})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Yy(t,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,jt;function pO(e){switch(e){case tt.OK:return Et(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Et(15467,{code:e})}}function TS(e){if(e===void 0)return xs("GRPC error has no .code"),tt.UNKNOWN;switch(e){case Ce.OK:return tt.OK;case Ce.CANCELLED:return tt.CANCELLED;case Ce.UNKNOWN:return tt.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return tt.INTERNAL;case Ce.UNAVAILABLE:return tt.UNAVAILABLE;case Ce.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Ce.NOT_FOUND:return tt.NOT_FOUND;case Ce.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Ce.ABORTED:return tt.ABORTED;case Ce.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Ce.DATA_LOSS:return tt.DATA_LOSS;default:return Et(39323,{code:e})}}(jt=Ce||(Ce={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new wr([4294967295,4294967295],0);function Db(e){const t=gO().encode(e),n=new VA;return n.update(t),new Uint8Array(n.digest())}function Nb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new wr([n,s],0),new wr([a,l],0)]}class Qy{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Uu(`Invalid padding: ${n}`);if(s<0)throw new Uu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Uu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Uu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=wr.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(wr.fromNumber(s)));return a.compare(yO)===1&&(a=new wr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Db(t),[s,a]=Nb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Qy(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=Db(t),[s,a]=Nb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,Cc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new bd(St.min(),a,new de(kt),Rs(),Lt())}}class Cc{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Cc(s,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(t,n,s,a){this.be=t,this.removedTargetIds=n,this.key=s,this.De=a}}class ES{constructor(t,n){this.targetId=t,this.Ce=n}}class bS{constructor(t,n,s=Je.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Pb{constructor(){this.ve=0,this.Fe=Vb(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Et(38017,{changeType:l})}})),new Cc(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Vb()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vO{constructor(t){this.Ge=t,this.ze=new Map,this.je=Rs(),this.Je=cf(),this.He=cf(),this.Ye=new de(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Mg(l))if(s===0){const c=new yt(l.path);this.et(n,c,on.newNoDocument(c,St.min()))}else Ft(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Cr(s).toUint8Array()}catch(m){if(m instanceof GA)return il("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Qy(c,a,l)}catch(m){return il(m instanceof Uu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Mg(d.target)){const m=new yt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,on.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Lt();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new bd(t,n,this.Ye,this.je,s);return this.je=Rs(),this.Je=cf(),this.He=cf(),this.Ye=new de(kt),a}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Pb,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ke(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ke(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Pb),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function cf(){return new de(yt.comparator)}function Vb(){return new de(yt.comparator)}const _O={asc:"ASCENDING",desc:"DESCENDING"},TO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EO={and:"AND",or:"OR"};class bO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Lg(e,t){return e.useProto3Json||gd(t)?t:{value:t}}function Kf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wO(e,t){return Kf(e,t.toTimestamp())}function Mi(e){return Ft(!!e,49232),St.fromTimestamp((function(n){const s=Rr(n);return new se(s.seconds,s.nanos)})(e))}function Xy(e,t){return Ug(e,t).canonicalString()}function Ug(e,t){const n=(function(a){return new ee(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function AS(e){const t=ee.fromString(e);return Ft(IS(t),10190,{key:t.toString()}),t}function jg(e,t){return Xy(e.databaseId,t.path)}function Zp(e,t){const n=AS(t);if(n.get(1)!==e.databaseId.projectId)throw new ut(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ut(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt(xS(n))}function SS(e,t){return Xy(e.databaseId,t)}function AO(e){const t=AS(e);return t.length===4?ee.emptyPath():xS(t)}function Bg(e){return new ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xS(e){return Ft(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Mb(e,t,n){return{name:jg(e,t),fields:n.value.mapValue.fields}}function SO(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Et(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Ft(y===void 0||typeof y=="string",58123),Je.fromBase64String(y||"")):(Ft(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Je.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?tt.UNKNOWN:TS(p.code);return new ut(y,p.message||"")})(c);n=new bS(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Zp(e,s.document.name),l=Mi(s.document.updateTime),c=s.document.createTime?Mi(s.document.createTime):St.min(),d=new bn({mapValue:{fields:s.document.fields}}),m=on.newFoundDocument(a,l,c,d),p=s.targetIds||[],y=s.removedTargetIds||[];n=new xf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Zp(e,s.document),l=s.readTime?Mi(s.readTime):St.min(),c=on.newNoDocument(a,l),d=s.removedTargetIds||[];n=new xf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Zp(e,s.document),l=s.removedTargetIds||[];n=new xf([],l,a,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new mO(a,l),d=s.targetId;n=new ES(d,c)}}return n}function xO(e,t){let n;if(t instanceof Rc)n={update:Mb(e,t.key,t.value)};else if(t instanceof $y)n={delete:jg(e,t.key)};else if(t instanceof Br)n={update:Mb(e,t.key,t.data),updateMask:OO(t.fieldMask)};else{if(!(t instanceof hO))return Et(16599,{Vt:t.type});n={verify:jg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof ac)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof oc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof lc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof uc)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Et(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:wO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Et(27497)})(e,t.precondition)),n}function RO(e,t){return e&&e.length>0?(Ft(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Mi(a.updateTime):Mi(l);return c.isEqual(St.min())&&(c=Mi(l)),new lO(c,a.transformResults||[])})(n,t)))):[]}function CO(e,t){return{documents:[SS(e,t.path)]}}function IO(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=SS(e,a);const l=(function(p){if(p.length!==0)return CS(pi.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:qo(E.field),direction:PO(E.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Lg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:a}}function DO(e){let t=AO(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ft(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const E=RS(_);return E instanceof pi&&eS(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((E=>(function(P){return new Gf(Ho(P.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let E;return E=typeof _=="object"?_.value:_,gd(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(_){const E=!!_.before,S=_.values||[];return new Hf(S,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,S=_.values||[];return new Hf(S,E)})(n.endAt)),XM(t,a,c,l,d,"F",m,p)}function NO(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function RS(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ho(n.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ho(n.unaryFilter.field);return De.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ho(n.unaryFilter.field);return De.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ho(n.unaryFilter.field);return De.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(e):e.fieldFilter!==void 0?(function(n){return De.create(Ho(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return pi.create(n.compositeFilter.filters.map((s=>RS(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(e):Et(30097,{filter:e})}function PO(e){return _O[e]}function VO(e){return TO[e]}function MO(e){return EO[e]}function qo(e){return{fieldPath:e.canonicalString()}}function Ho(e){return Ze.fromServerFormat(e.fieldPath)}function CS(e){return e instanceof De?(function(n){if(n.op==="=="){if(Eb(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(Tb(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Eb(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(Tb(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:VO(n.op),value:n.value}}})(e):e instanceof pi?(function(n){const s=n.getFilters().map((a=>CS(a)));return s.length===1?s[0]:{compositeFilter:{op:MO(n.op),filters:s}}})(e):Et(54877,{filter:e})}function OO(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function IS(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(t,n,s,a,l=St.min(),c=St.min(),d=Je.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Tr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t){this.yt=t}}function LO(e){const t=DO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?kg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.Cn=new jO}addToCollectionParentIndex(t,n){return this.Cn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(xr.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(xr.min())}updateCollectionGroup(t,n,s){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class jO{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new ke(ee.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new ke(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DS=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(DS,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ol(0)}static cr(){return new ol(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="LruGarbageCollector",BO=1048576;function Lb([e,t],[n,s]){const a=kt(e,n);return a===0?kt(t,s):a}class zO{constructor(t){this.Ir=t,this.buffer=new ke(Lb),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Lb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FO{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(kb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gl(n)?ft(kb,"Ignoring IndexedDB error during garbage collection: ",n):await pl(n)}await this.Vr(3e5)}))}}class qO{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return it.resolve(pd.ce);const s=new zO(n);return this.mr.forEachTarget(t,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(Ob)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ob):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(t,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(p=Date.now(),zo()<=Ot.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function HO(e,t){return new qO(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.changes=new Ka((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?it.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&Ku(s.mutation,a,Vn.empty(),se.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Lt()){const a=Da();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=Lu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=Da();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Lt())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,a){let l=Rs();const c=Gu(),d=(function(){return Gu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Br)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Ku(y.mutation,p,y.mutation.getFieldMask(),se.now())):c.set(p.key,Vn.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new KO(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=Gu();let a=new de(((c,d)=>c-d)),l=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||Vn.empty();y=d.applyToLocalView(p,y),s.set(m,y);const _=(a.get(d.batchId)||Lt()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,_=cS();y.forEach((E=>{if(!l.has(E)){const S=vS(n.get(E),s.get(E));S!==null&&_.set(E,S),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return it.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):rS(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):it.resolve(Da());let d=nc,m=l;return c.next((p=>it.forEach(p,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,Lt()))).next((y=>({batchId:d,changes:uS(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let a=Lu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=Lu();return this.indexManager.getCollectionParents(t,l).next((d=>it.forEach(d,(m=>{const p=(function(_,E){return new xc(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,s,a).next((y=>{y.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,on.newInvalidDocument(y)))}));let d=Lu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Ku(y.mutation,p,Vn.empty(),se.now()),_d(n,p)&&(d=d.insert(m,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return it.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Mi(a.createTime)}})(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:LO(a.bundledQuery),readTime:Mi(a.readTime)}})(n)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.overlays=new de(yt.comparator),this.qr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Da();return it.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.St(t,n,l)})),it.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),it.resolve()}getOverlaysForCollection(t,n,s){const a=Da(),l=n.length+1,c=new yt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return it.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new de(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Da(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=Da(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return it.resolve(d)}St(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new dO(n,s));let l=this.qr.get(n);l===void 0&&(l=Lt(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this.Qr=new ke(qe.$r),this.Ur=new ke(qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new qe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new qe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new yt(new ee([])),s=new qe(n,t),a=new qe(n,t+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new ee([])),s=new qe(n,t),a=new qe(n,t+1);let l=Lt();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new qe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class qe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ke(qe.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new fO(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new qe(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,n){return it.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return it.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?By:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new qe(n,0),a=new qe(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),it.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new ke(kt);return n.forEach((a=>{const l=new qe(a,0),c=new qe(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),it.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;yt.isDocumentKey(l)||(l=l.child(""));const c=new qe(new yt(l),0);let d=new ke(kt);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)}),c),it.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return it.forEach(n.mutations,(a=>{const l=new qe(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new qe(n,0),a=this.Zr.firstAfterOrEqual(s);return it.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(t){this.ri=t,this.docs=(function(){return new de(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return it.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(t,n){let s=Rs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():on.newInvalidDocument(a))})),it.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=Rs();const c=n.path,d=new yt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||CM(RM(y),s)<=0||(a.has(y.key)||_d(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return it.resolve(l)}getAllFromCollectionGroup(t,n,s,a){Et(9500)}ii(t,n){return it.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new JO(this)}getSize(t){return it.resolve(this.size)}}class JO extends GO{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(s)})),it.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(t){this.persistence=t,this.si=new Ka((n=>qy(n)),Hy),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Wy,this.targetCount=0,this.ai=ol.ur()}forEachTarget(t,n){return this.si.forEach(((s,a)=>n(a))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),it.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new ol(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.Pr(n),it.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),it.waitFor(l).next((()=>a))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return it.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),it.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),it.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return it.resolve(s)}containsKey(t,n){return it.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t,n){this.ui={},this.overlays={},this.ci=new pd(0),this.li=!1,this.li=!0,this.hi=new XO,this.referenceDelegate=t(this),this.Pi=new t4(this),this.indexManager=new UO,this.remoteDocumentCache=(function(a){return new ZO(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new kO(n),this.Ii=new YO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new QO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new WO(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ft("MemoryPersistence","Starting transaction:",t);const a=new e4(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return it.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class e4 extends DM{constructor(t){super(),this.currentSequenceNumber=t}}class Zy{constructor(t){this.persistence=t,this.Ri=new Wy,this.Vi=null}static mi(t){return new Zy(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),it.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(s=>{const a=yt.fromPath(s);return this.gi(t,a).next((l=>{l||n.removeEntry(a,St.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return it.or([()=>it.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class $f{constructor(t,n){this.persistence=t,this.pi=new Ka((s=>VM(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=HO(this,n)}static mi(t,n){return new $f(t,n)}Ei(){}di(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return it.forEach(this.pi,((s,a)=>this.br(t,s,a).next((l=>l?it.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((d=>{d||(s++,l.removeEntry(c,St.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=wf(t.data.value)),n}br(t,n,s){return it.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return it.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=a}static As(t,n){let s=Lt(),a=Lt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Jy(t,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return VD()?8:NM(un())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new n4;return this.Ss(t,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>l.result))}bs(t,n,s,a){return s.documentReadCount<this.fs?(zo()<=Ot.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(zo()<=Ot.DEBUG&&ft("QueryEngine","Query:",Fo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(zo()<=Ot.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(n))):it.resolve())}ys(t,n){if(Sb(n))return it.resolve(null);let s=Vi(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=kg(n,null,"F"),s=Vi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Lt(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const p=this.Ds(n,d);return this.Cs(n,p,c,m.readTime)?this.ys(t,kg(n,null,"F")):this.vs(t,p,n,m)}))))})))))}ws(t,n,s,a){return Sb(n)||a.isEqual(St.min())?it.resolve(null):this.ps.getDocuments(t,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?it.resolve(null):(zo()<=Ot.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Fo(n)),this.vs(t,c,n,xM(a,nc)).next((d=>d)))}))}Ds(t,n){let s=new ke(oS(t));return n.forEach(((a,l)=>{_d(t,l)&&(s=s.add(l))})),s}Cs(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,s){return zo()<=Ot.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Fo(n)),this.ps.getDocumentsMatchingQuery(t,n,xr.min(),s)}vs(t,n,s,a){return this.ps.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="LocalStore",s4=3e8;class r4{constructor(t,n,s,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new de(kt),this.xs=new Ka((l=>qy(l)),Hy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $O(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function a4(e,t,n,s){return new r4(e,t,n,s)}async function PS(e,t){const n=Rt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=Lt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function o4(e,t){const n=Rt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const _=p.batch,E=_.keys();let S=it.resolve();return E.forEach((P=>{S=S.next((()=>y.getEntry(m,P))).next((z=>{const M=p.docVersions.get(P);Ft(M!==null,48541),z.version.compareTo(M)<0&&(_.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),y.addEntry(z)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Lt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function VS(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function l4(e,t){const n=Rt(e),s=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];t.targetChanges.forEach(((y,_)=>{const E=a.get(_);if(!E)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let S=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?S=S.withResumeToken(Je.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,s)),a=a.insert(_,S),(function(z,M,G){return z.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=s4?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(E,S,y)&&d.push(n.Pi.updateTargetData(l,S))}));let m=Rs(),p=Lt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(u4(l,c,t.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!s.isEqual(St.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return it.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function u4(e,t,n){let s=Lt(),a=Lt();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=Rs();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(St.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):ft(tv,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function c4(e,t){const n=Rt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=By),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function h4(e,t){const n=Rt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,t).next((l=>l?(a=l,it.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new Tr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function zg(e,t,n){const s=Rt(e),a=s.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!gl(c))throw c;ft(tv,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(a.target)}function Ub(e,t,n){const s=Rt(e);let a=St.min(),l=Lt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const _=Rt(m),E=_.xs.get(y);return E!==void 0?it.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,y)})(s,c,Vi(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?a:St.min(),n?l:Lt()))).next((d=>(f4(s,ZM(t),d),{documents:d,Qs:l})))))}function f4(e,t,n){let s=e.Os.get(t)||St.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Os.set(t,s)}class jb{constructor(){this.activeTargetIds=sO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class d4{constructor(){this.Mo=new jb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new jb,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="ConnectivityMonitor";class zb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(Bb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(Bb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf=null;function Fg(){return hf===null?hf=(function(){return 268435456+Math.round(2147483648*Math.random())})():hf++,"0x"+hf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="RestConnection",p4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g4{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Ff?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(t,n,s,a,l){const c=Fg(),d=this.zo(t,n.toUriEncodedString());ft(Jp,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),y=Ha(p);return this.Jo(t,d,m,s,y).then((_=>(ft(Jp,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw il(Jp,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}Ho(t,n,s,a,l,c){return this.Go(t,n,s,a,l)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ml})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const s=p4[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class v4 extends g4{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,a,l){const c=Fg();return new Promise(((d,m)=>{const p=new MA;p.setWithCredentials(!0),p.listenOnce(OA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case bf.NO_ERROR:const _=p.getResponseJson();ft(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case bf.TIMEOUT:ft(rn,`RPC '${t}' ${c} timed out`),m(new ut(tt.DEADLINE_EXCEEDED,"Request time out"));break;case bf.HTTP_ERROR:const E=p.getStatus();if(ft(rn,`RPC '${t}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const P=S?.error;if(P&&P.status&&P.message){const z=(function(G){const Y=G.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(Y)>=0?Y:tt.UNKNOWN})(P.status);m(new ut(z,P.message))}else m(new ut(tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ut(tt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ft(rn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ft(rn,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=Fg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=UA(),d=LA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");ft(rn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let E=!1,S=!1;const P=new y4({Yo:M=>{S?ft(rn,`Not sending because RPC '${t}' stream ${a} is closed:`,M):(E||(ft(rn,`Opening RPC '${t}' stream ${a} transport.`),_.open(),E=!0),ft(rn,`RPC '${t}' stream ${a} sending:`,M),_.send(M))},Zo:()=>_.close()}),z=(M,G,Y)=>{M.listen(G,(X=>{try{Y(X)}catch(at){setTimeout((()=>{throw at}),0)}}))};return z(_,ku.EventType.OPEN,(()=>{S||(ft(rn,`RPC '${t}' stream ${a} transport opened.`),P.o_())})),z(_,ku.EventType.CLOSE,(()=>{S||(S=!0,ft(rn,`RPC '${t}' stream ${a} transport closed`),P.a_(),this.E_(_))})),z(_,ku.EventType.ERROR,(M=>{S||(S=!0,il(rn,`RPC '${t}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),P.a_(new ut(tt.UNAVAILABLE,"The operation could not be completed")))})),z(_,ku.EventType.MESSAGE,(M=>{if(!S){const G=M.data[0];Ft(!!G,16349);const Y=G,X=Y?.error||Y[0]?.error;if(X){ft(rn,`RPC '${t}' stream ${a} received error:`,X);const at=X.status;let nt=(function(R){const C=Ce[R];if(C!==void 0)return TS(C)})(at),ht=X.message;nt===void 0&&(nt=tt.INTERNAL,ht="Unknown error status: "+at+" with message "+X.message),S=!0,P.a_(new ut(nt,ht)),_.close()}else ft(rn,`RPC '${t}' stream ${a} received:`,G),P.u_(G)}})),z(d,kA.STAT_EVENT,(M=>{M.stat===Ig.PROXY?ft(rn,`RPC '${t}' stream ${a} detected buffering proxy`):M.stat===Ig.NOPROXY&&ft(rn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function tg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(e){return new bO(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="PersistentStream";class OS{constructor(t,n,s,a,l,c,d,m){this.Mi=t,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MS(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(xs(n.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new ut(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(Fb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ft(Fb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _4 extends OS{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=SO(this.serializer,t),s=(function(l){if(!("targetChange"in l))return St.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Mi(c.readTime):St.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Bg(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=Mg(m)?{documents:CO(l,m)}:{query:IO(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=wS(l,c.resumeToken);const p=Lg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(St.min())>0){d.readTime=Kf(l,c.snapshotVersion.toTimestamp());const p=Lg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,t);const s=NO(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Bg(this.serializer),n.removeTarget=t,this.q_(n)}}class T4 extends OS{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=RO(t.writeResults,t.commitTime),s=Mi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Bg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>xO(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{}class b4 extends E4{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ut(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,Ug(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ut(tt.UNKNOWN,l.toString())}))}Ho(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,Ug(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(tt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class w4{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(n),this.aa=!1):ft("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="RemoteStore";class A4{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{$a(this)&&(ft(Fa,"Restarting streams for network reachability change."),await(async function(m){const p=Rt(m);p.Ea.add(4),await Ic(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Ad(p)})(this))}))})),this.Ra=new w4(s,a)}}async function Ad(e){if($a(e))for(const t of e.da)await t(!0)}async function Ic(e){for(const t of e.da)await t(!1)}function kS(e,t){const n=Rt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),sv(n)?iv(n):yl(n).O_()&&nv(n,t))}function ev(e,t){const n=Rt(e),s=yl(n);n.Ia.delete(t),s.O_()&&LS(n,t),n.Ia.size===0&&(s.O_()?s.L_():$a(n)&&n.Ra.set("Unknown"))}function nv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}yl(e).Y_(t)}function LS(e,t){e.Va.Ue(t),yl(e).Z_(t)}function iv(e){e.Va=new vO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),yl(e).start(),e.Ra.ua()}function sv(e){return $a(e)&&!yl(e).x_()&&e.Ia.size>0}function $a(e){return Rt(e).Ea.size===0}function US(e){e.Va=void 0}async function S4(e){e.Ra.set("Online")}async function x4(e){e.Ia.forEach(((t,n)=>{nv(e,t)}))}async function R4(e,t){US(e),sv(e)?(e.Ra.ha(t),iv(e)):e.Ra.set("Unknown")}async function C4(e,t,n){if(e.Ra.set("Online"),t instanceof bS&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(e,t)}catch(s){ft(Fa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Yf(e,s)}else if(t instanceof xf?e.Va.Ze(t):t instanceof ES?e.Va.st(t):e.Va.tt(t),!n.isEqual(St.min()))try{const s=await VS(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(Je.EMPTY_BYTE_STRING,y.snapshotVersion)),LS(l,m);const _=new Tr(y.target,m,p,y.sequenceNumber);nv(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){ft(Fa,"Failed to raise snapshot:",s),await Yf(e,s)}}async function Yf(e,t,n){if(!gl(t))throw t;e.Ea.add(1),await Ic(e),e.Ra.set("Offline"),n||(n=()=>VS(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ft(Fa,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Ad(e)}))}function jS(e,t){return t().catch((n=>Yf(e,n,t)))}async function Sd(e){const t=Rt(e),n=Dr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:By;for(;I4(t);)try{const a=await c4(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,D4(t,a)}catch(a){await Yf(t,a)}BS(t)&&zS(t)}function I4(e){return $a(e)&&e.Ta.length<10}function D4(e,t){e.Ta.push(t);const n=Dr(e);n.O_()&&n.X_&&n.ea(t.mutations)}function BS(e){return $a(e)&&!Dr(e).x_()&&e.Ta.length>0}function zS(e){Dr(e).start()}async function N4(e){Dr(e).ra()}async function P4(e){const t=Dr(e);for(const n of e.Ta)t.ea(n.mutations)}async function V4(e,t,n){const s=e.Ta.shift(),a=Yy.from(s,t,n);await jS(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Sd(e)}async function M4(e,t){t&&Dr(e).X_&&await(async function(s,a){if((function(c){return pO(c)&&c!==tt.ABORTED})(a.code)){const l=s.Ta.shift();Dr(s).B_(),await jS(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Sd(s)}})(e,t),BS(e)&&zS(e)}async function qb(e,t){const n=Rt(e);n.asyncQueue.verifyOperationInProgress(),ft(Fa,"RemoteStore received new credentials");const s=$a(n);n.Ea.add(3),await Ic(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ad(n)}async function O4(e,t){const n=Rt(e);t?(n.Ea.delete(2),await Ad(n)):t||(n.Ea.add(2),await Ic(n),n.Ra.set("Unknown"))}function yl(e){return e.ma||(e.ma=(function(n,s,a){const l=Rt(n);return l.sa(),new _4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:S4.bind(null,e),t_:x4.bind(null,e),r_:R4.bind(null,e),H_:C4.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),sv(e)?iv(e):e.Ra.set("Unknown")):(await e.ma.stop(),US(e))}))),e.ma}function Dr(e){return e.fa||(e.fa=(function(n,s,a){const l=Rt(n);return l.sa(),new T4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:N4.bind(null,e),r_:M4.bind(null,e),ta:P4.bind(null,e),na:V4.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Sd(e)):(await e.fa.stop(),e.Ta.length>0&&(ft(Fa,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new rv(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function av(e,t){if(xs("AsyncQueue",`${t}: ${e}`),gl(e))return new ut(tt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static emptySet(t){return new Jo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=Lu(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Jo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Jo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.ga=new de(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class ll{constructor(t,n,s,a,l,c,d,m,p){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new ll(t,n,Jo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class L4{constructor(){this.queries=Gb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Rt(n),l=a.queries;a.queries=Gb(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new ut(tt.ABORTED,"Firestore shutting down"))}}function Gb(){return new Ka((e=>aS(e)),vd)}async function FS(e,t){const n=Rt(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(s=2):(l=new k4,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=av(c,`Initialization of query '${Fo(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&ov(n)}async function qS(e,t){const n=Rt(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function U4(e,t){const n=Rt(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&ov(n)}function j4(e,t,n){const s=Rt(e),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(t)}function ov(e){e.Ca.forEach((t=>{t.next()}))}var qg,Kb;(Kb=qg||(qg={})).Ma="default",Kb.Cache="cache";class HS{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new ll(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ll.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==qg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t){this.key=t}}class KS{constructor(t){this.key=t}}class B4{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=oS(t),this.tu=new Jo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new Hb,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const E=a.get(y),S=_d(this.query,_)?_:null,P=!!E&&this.mutatedKeys.has(E.key),z=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;E&&S?E.data.isEqual(S.data)?P!==z&&(s.track({type:3,doc:S}),M=!0):this.su(E,S)||(s.track({type:2,doc:S}),M=!0,(m&&this.eu(S,m)>0||p&&this.eu(S,p)<0)&&(d=!0)):!E&&S?(s.track({type:0,doc:S}),M=!0):E&&!S&&(s.track({type:1,doc:E}),M=!0,(m||p)&&(d=!0)),M&&(S?(c=c.add(S),l=z?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(S,P){const z=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:M})}};return z(S)-z(P)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new ll(this.query,t.tu,l,c,t.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new KS(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new GS(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lv="SyncEngine";class z4{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class F4{constructor(t){this.key=t,this.hu=!1}}class q4{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ka((d=>aS(d)),vd),this.Iu=new Map,this.Eu=new Set,this.du=new de(yt.comparator),this.Au=new Map,this.Ru=new Wy,this.Vu={},this.mu=new Map,this.fu=ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function H4(e,t,n=!0){const s=ZS(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await $S(s,t,n,!0),a}async function G4(e,t){const n=ZS(e);await $S(n,t,!0,!1)}async function $S(e,t,n,s){const a=await h4(e.localStore,Vi(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await K4(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&kS(e.remoteStore,a),d}async function K4(e,t,n,s,a){e.pu=(_,E,S)=>(async function(z,M,G,Y){let X=M.view.ru(G);X.Cs&&(X=await Ub(z.localStore,M.query,!1).then((({documents:N})=>M.view.ru(N,X))));const at=Y&&Y.targetChanges.get(M.targetId),nt=Y&&Y.targetMismatches.get(M.targetId)!=null,ht=M.view.applyChanges(X,z.isPrimaryClient,at,nt);return Yb(z,M.targetId,ht.au),ht.snapshot})(e,_,E,S);const l=await Ub(e.localStore,t,!0),c=new B4(t,l.Qs),d=c.ru(l.documents),m=Cc.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),p=c.applyChanges(d,e.isPrimaryClient,m);Yb(e,n,p.au);const y=new z4(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),p.snapshot}async function $4(e,t,n){const s=Rt(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!vd(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await zg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&ev(s.remoteStore,a.targetId),Hg(s,a.targetId)})).catch(pl)):(Hg(s,a.targetId),await zg(s.localStore,a.targetId,!0))}async function Y4(e,t){const n=Rt(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ev(n.remoteStore,s.targetId))}async function Q4(e,t,n){const s=nk(e);try{const a=await(function(c,d){const m=Rt(c),p=se.now(),y=d.reduce(((S,P)=>S.add(P.key)),Lt());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let P=Rs(),z=Lt();return m.Ns.getEntries(S,y).next((M=>{P=M,P.forEach(((G,Y)=>{Y.isValidDocument()||(z=z.add(G))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,P))).next((M=>{_=M;const G=[];for(const Y of d){const X=cO(Y,_.get(Y.key).overlayedDocument);X!=null&&G.push(new Br(Y.key,X,ZA(X.value.mapValue),Xn.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,G,d)})).next((M=>{E=M;const G=M.applyToLocalDocumentSet(_,z);return m.documentOverlayCache.saveOverlays(S,M.batchId,G)}))})).then((()=>({batchId:E.batchId,changes:uS(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new de(kt)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Dc(s,a.changes),await Sd(s.remoteStore)}catch(a){const l=av(a,"Failed to persist write");n.reject(l)}}async function YS(e,t){const n=Rt(e);try{const s=await l4(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ft(c.hu,14607):a.removedDocuments.size>0&&(Ft(c.hu,42227),c.hu=!1))})),await Dc(n,s,t)}catch(s){await pl(s)}}function $b(e,t,n){const s=Rt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Rt(c);m.onlineState=d;let p=!1;m.queries.forEach(((y,_)=>{for(const E of _.Sa)E.va(d)&&(p=!0)})),p&&ov(m)})(s.eventManager,t),a.length&&s.Pu.H_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function X4(e,t,n){const s=Rt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new de(yt.comparator);c=c.insert(l,on.newNoDocument(l,St.min()));const d=Lt().add(l),m=new bd(St.min(),new Map,new de(kt),c,d);await YS(s,m),s.du=s.du.remove(l),s.Au.delete(t),uv(s)}else await zg(s.localStore,t,!1).then((()=>Hg(s,t,n))).catch(pl)}async function W4(e,t){const n=Rt(e),s=t.batch.batchId;try{const a=await o4(n.localStore,t);XS(n,s,null),QS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Dc(n,a)}catch(a){await pl(a)}}async function Z4(e,t,n){const s=Rt(e);try{const a=await(function(c,d){const m=Rt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((_=>(Ft(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,t);XS(s,t,n),QS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Dc(s,a)}catch(a){await pl(a)}}function QS(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function XS(e,t,n){const s=Rt(e);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.Vu[s.currentUser.toKey()]=a}}function Hg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||WS(e,s)}))}function WS(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(ev(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),uv(e))}function Yb(e,t,n){for(const s of n)s instanceof GS?(e.Ru.addReference(s.key,t),J4(e,s)):s instanceof KS?(ft(lv,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||WS(e,s.key)):Et(19791,{wu:s})}function J4(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(ft(lv,"New document in limbo: "+n),e.Eu.add(s),uv(e))}function uv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new yt(ee.fromString(t)),s=e.fu.next();e.Au.set(s,new F4(n)),e.du=e.du.insert(n,s),kS(e.remoteStore,new Tr(Vi(Gy(n.path)),s,"TargetPurposeLimboResolution",pd.ce))}}async function Dc(e,t,n){const s=Rt(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,t,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Jy.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const y=Rt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>it.forEach(p,(E=>it.forEach(E.Es,(S=>y.persistence.referenceDelegate.addReference(_,E.targetId,S))).next((()=>it.forEach(E.ds,(S=>y.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))))))}catch(_){if(!gl(_))throw _;ft(tv,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const S=y.Ms.get(E),P=S.snapshotVersion,z=S.withLastLimboFreeSnapshotVersion(P);y.Ms=y.Ms.insert(E,z)}}})(s.localStore,l))}async function tk(e,t){const n=Rt(e);if(!n.currentUser.isEqual(t)){ft(lv,"User change. New user:",t.toKey());const s=await PS(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ut(tt.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Dc(n,s.Ls)}}function ek(e,t){const n=Rt(e),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let a=Lt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function ZS(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=YS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ek.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=X4.bind(null,t),t.Pu.H_=U4.bind(null,t.eventManager),t.Pu.yu=j4.bind(null,t.eventManager),t}function nk(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=W4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Z4.bind(null,t),t}class Qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return a4(this.persistence,new i4,t.initialUser,this.serializer)}Cu(t){return new NS(Zy.mi,this.serializer)}Du(t){return new d4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qf.provider={build:()=>new Qf};class ik extends Qf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof $f,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new FO(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new NS((s=>$f.mi(s,n)),this.serializer)}}class Gg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$b(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tk.bind(null,this.syncEngine),await O4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new L4})()}createDatastore(t){const n=wd(t.databaseInfo.databaseId),s=(function(l){return new v4(l)})(t.databaseInfo);return(function(l,c,d,m){return new b4(l,c,d,m)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,d){return new A4(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>$b(this.syncEngine,n,0)),(function(){return zb.v()?new zb:new m4})())}createSyncEngine(t,n){return(function(a,l,c,d,m,p,y){const _=new q4(a,l,c,d,m,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Rt(n);ft(Fa,"RemoteStore shutting down."),s.Ea.add(5),await Ic(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gg.provider={build:()=>new Gg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):xs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="FirestoreClient";class sk{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=an.UNAUTHENTICATED,this.clientId=jy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ft(Nr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ft(Nr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=av(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function eg(e,t){e.asyncQueue.verifyOperationInProgress(),ft(Nr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await PS(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Qb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await rk(e);ft(Nr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>qb(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>qb(t.remoteStore,a))),e._onlineComponents=t}async function rk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ft(Nr,"Using user provided OfflineComponentProvider");try{await eg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===tt.FAILED_PRECONDITION||a.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;il("Error using user provided cache. Falling back to memory cache: "+n),await eg(e,new Qf)}}else ft(Nr,"Using default OfflineComponentProvider"),await eg(e,new ik(void 0));return e._offlineComponents}async function tx(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ft(Nr,"Using user provided OnlineComponentProvider"),await Qb(e,e._uninitializedComponentsProvider._online)):(ft(Nr,"Using default OnlineComponentProvider"),await Qb(e,new Gg))),e._onlineComponents}function ak(e){return tx(e).then((t=>t.syncEngine))}async function ex(e){const t=await tx(e),n=t.eventManager;return n.onListen=H4.bind(null,t.syncEngine),n.onUnlisten=$4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=G4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Y4.bind(null,t.syncEngine),n}function ok(e,t,n={}){const s=new Es;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new JS({next:E=>{y.Nu(),c.enqueueAndForget((()=>qS(l,_)));const S=E.docs.has(d);!S&&E.fromCache?p.reject(new ut(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&m&&m.source==="server"?p.reject(new ut(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new HS(Gy(d.path),y,{includeMetadataChanges:!0,qa:!0});return FS(l,_)})(await ex(e),e.asyncQueue,t,n,s))),s.promise}function lk(e,t,n={}){const s=new Es;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new JS({next:E=>{y.Nu(),c.enqueueAndForget((()=>qS(l,_))),E.fromCache&&m.source==="server"?p.reject(new ut(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new HS(d,y,{includeMetadataChanges:!0,qa:!0});return FS(l,_)})(await ex(e),e.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="firestore.googleapis.com",Wb=!0;class Zb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ix,this.ssl=Wb}else this.host=t.host,this.ssl=t.ssl??Wb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=DS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<BO)throw new ut(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}SM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nx(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xd{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new pM;switch(s.type){case"firstParty":return new _M(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Xb.get(n);s&&(ft("ComponentProvider","Removing Datastore"),Xb.delete(n),s.terminate())})(this),Promise.resolve()}}function uk(e,t,n,s={}){e=mi(e,xd);const a=Ha(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(wy(`https://${d}`),Ay("Firestore",!0)),l.host!==ix&&l.host!==d&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!La(m,c)&&(e._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=an.MOCK_USER;else{p=Y1(s.mockUserToken,e._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ut(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new an(_)}e._authCredentials=new gM(new BA(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new vl(this.firestore,t,this._query)}}class Se{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Se(this.firestore,t,this._key)}toJSON(){return{type:Se._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Sc(n,Se._jsonSchema))return new Se(t,s||null,new yt(ee.fromString(n.referencePath)))}}Se._jsonSchemaVersion="firestore/documentReference/1.0",Se._jsonSchema={type:Ne("string",Se._jsonSchemaVersion),referencePath:Ne("string")};class Ar extends vl{constructor(t,n,s){super(t,n,Gy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Se(this.firestore,null,new yt(t))}withConverter(t){return new Ar(this.firestore,t,this._path)}}function qa(e,t,...n){if(e=Le(e),zA("collection","path",t),e instanceof xd){const s=ee.fromString(t,...n);return hb(s),new Ar(e,null,s)}{if(!(e instanceof Se||e instanceof Ar))throw new ut(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ee.fromString(t,...n));return hb(s),new Ar(e.firestore,null,s)}}function bs(e,t,...n){if(e=Le(e),arguments.length===1&&(t=jy.newId()),zA("doc","path",t),e instanceof xd){const s=ee.fromString(t,...n);return cb(s),new Se(e,null,new yt(s))}{if(!(e instanceof Se||e instanceof Ar))throw new ut(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ee.fromString(t,...n));return cb(s),new Se(e.firestore,e instanceof Ar?e.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="AsyncQueue";class tw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MS(this,"async_queue_retry"),this._c=()=>{const s=tg();s&&ft(Jb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=tg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=tg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!gl(t))throw t;ft(Jb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",ew(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=rv.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Et(47125,{Pc:ew(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function ew(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Ya extends xd{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new tw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new tw(t),this._firestoreClient=void 0,await t}}}function sx(e,t){const n=typeof e=="object"?e:Ry(),s=typeof e=="string"?e:Ff,a=cd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=G1("firestore");l&&uk(a,...l)}return a}function cv(e){if(e._terminated)throw new ut(tt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ck(e),e._firestoreClient}function ck(e){const t=e._freezeSettings(),n=(function(a,l,c,d){return new kM(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,nx(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new sk(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(Je.fromBase64String(t))}catch(n){throw new ut(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Sc(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Ne("string",Qn._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(Sc(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Ne("string",Oi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Sc(t,ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ki(t.vectorValues);throw new ut(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Ne("string",ki._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=/^__.*__$/;class fk{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Br(t,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(t,this.data,n,this.fieldTransforms)}}class rx{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Br(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function ax(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:e})}}class hv{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new hv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Xf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ax(this.Ac)&&hk.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class dk{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||wd(t)}Cc(t,n,s,a=!1){return new hv({Ac:t,methodName:n,Dc:s,path:Ze.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cd(e){const t=e._freezeSettings(),n=wd(e._databaseId);return new dk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ox(e,t,n,s,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);mv("Data must be an object, but it was:",c,s);const d=lx(s,c);let m,p;if(l.merge)m=new Vn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=Kg(t,_,n);if(!c.contains(E))throw new ut(tt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);cx(y,E)||y.push(E)}m=new Vn(y),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new fk(new bn(d),m,p)}class Id extends Nc{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Id}}class fv extends Nc{_toFieldTransform(t){return new yS(t.path,new ac)}isEqual(t){return t instanceof fv}}class dv extends Nc{constructor(t,n){super(t),this.Fc=n}_toFieldTransform(t){const n=new uc(t.serializer,fS(t.serializer,this.Fc));return new yS(t.path,n)}isEqual(t){return t instanceof dv&&this.Fc===t.Fc}}function mk(e,t,n,s){const a=e.Cc(1,t,n);mv("Data must be an object, but it was:",a,s);const l=[],c=bn.empty();jr(s,((m,p)=>{const y=pv(t,m,n);p=Le(p);const _=a.yc(y);if(p instanceof Id)l.push(y);else{const E=Pc(p,_);E!=null&&(l.push(y),c.set(y,E))}}));const d=new Vn(l);return new rx(c,d,a.fieldTransforms)}function pk(e,t,n,s,a,l){const c=e.Cc(1,t,n),d=[Kg(t,s,n)],m=[a];if(l.length%2!=0)throw new ut(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)d.push(Kg(t,l[E])),m.push(l[E+1]);const p=[],y=bn.empty();for(let E=d.length-1;E>=0;--E)if(!cx(p,d[E])){const S=d[E];let P=m[E];P=Le(P);const z=c.yc(S);if(P instanceof Id)p.push(S);else{const M=Pc(P,z);M!=null&&(p.push(S),y.set(S,M))}}const _=new Vn(p);return new rx(y,_,c.fieldTransforms)}function gk(e,t,n,s=!1){return Pc(n,e.Cc(s?4:3,t))}function Pc(e,t){if(ux(e=Le(e)))return mv("Unsupported field value:",t,e),lx(e,t);if(e instanceof Nc)return(function(s,a){if(!ax(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=Pc(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=Le(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fS(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=se.fromDate(s);return{timestampValue:Kf(a.serializer,l)}}if(s instanceof se){const l=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kf(a.serializer,l)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:wS(a.serializer,s._byteString)};if(s instanceof Se){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Xy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ki)return(function(c,d){return{mapValue:{fields:{[XA]:{stringValue:WA},[qf]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Ky(d.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${md(s)}`)})(e,t)}function lx(e,t){const n={};return HA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jr(e,((s,a)=>{const l=Pc(a,t.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function ux(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof se||e instanceof Oi||e instanceof Qn||e instanceof Se||e instanceof Nc||e instanceof ki)}function mv(e,t,n){if(!ux(n)||!FA(n)){const s=md(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function Kg(e,t,n){if((t=Le(t))instanceof Rd)return t._internalPath;if(typeof t=="string")return pv(e,t);throw Xf("Field path arguments must be of type string or ",e,!1,void 0,n)}const yk=new RegExp("[~\\*/\\[\\]]");function pv(e,t,n){if(t.search(yk)>=0)throw Xf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Rd(...t.split("."))._internalPath}catch{throw Xf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Xf(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ut(tt.INVALID_ARGUMENT,d+e+m)}function cx(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Se(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new vk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(gv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vk extends hx{data(){return super.data()}}function gv(e,t){return typeof t=="string"?pv(e,t):t instanceof Rd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ut(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yv{}class Tk extends yv{}function fx(e,t,...n){let s=[];t instanceof yv&&s.push(t),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof vv)).length,d=l.filter((m=>m instanceof Dd)).length;if(c>1||c>0&&d>0)throw new ut(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)e=a._apply(e);return e}class Dd extends Tk{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Dd(t,n,s)}_apply(t){const n=this._parse(t);return mx(t._query,n),new vl(t.firestore,t.converter,Og(t._query,n))}_parse(t){const n=Cd(t.firestore);return(function(l,c,d,m,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ut(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){iw(_,y);const P=[];for(const z of _)P.push(nw(m,l,z));E={arrayValue:{values:P}}}else E=nw(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||iw(_,y),E=gk(d,c,_,y==="in"||y==="not-in");return De.create(p,y,E)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function dx(e,t,n){const s=t,a=gv("where",e);return Dd._create(a,s,n)}class vv extends yv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new vv(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:pi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)mx(c,m),c=Og(c,m)})(t._query,n),new vl(t.firestore,t.converter,Og(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nw(e,t,n){if(typeof(n=Le(n))=="string"){if(n==="")throw new ut(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rS(t)&&n.indexOf("/")!==-1)throw new ut(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!yt.isDocumentKey(s))throw new ut(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _b(e,new yt(s))}if(n instanceof Se)return _b(e,n._key);throw new ut(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${md(n)}.`)}function iw(e,t){if(!Array.isArray(e)||e.length===0)throw new ut(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function mx(e,t){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ut(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Ek{convertValue(t,n="none"){switch(Ir(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return jr(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[qf].arrayValue?.values?.map((s=>Ae(s.doubleValue)));return new ki(n)}convertGeoPoint(t){return new Oi(Ae(t.latitude),Ae(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=yd(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ic(t));default:return null}}convertTimestamp(t){const n=Rr(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Ft(IS(s),9688,{name:t});const a=new sc(s.get(1),s.get(3)),l=new yt(s.popFirst(5));return a.isEqual(n)||xs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class ju{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ma extends hx{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(gv("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ma._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ma._jsonSchema={type:Ne("string",Ma._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Rf extends Ma{data(t={}){return super.data(t)}}class tl{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new ju(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Rf(this._firestore,this._userDataWriter,s.key,s,new ju(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Rf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ju(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Rf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ju(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:bk(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=tl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=jy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function bk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(e){e=mi(e,Se);const t=mi(e.firestore,Ya);return ok(cv(t),e._key).then((n=>Ak(t,e,n)))}tl._jsonSchemaVersion="firestore/querySnapshot/1.0",tl._jsonSchema={type:Ne("string",tl._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class gx extends Ek{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Se(this.firestore,null,n)}}function Wf(e){e=mi(e,vl);const t=mi(e.firestore,Ya),n=cv(t),s=new gx(t);return _k(e._query),lk(n,e._query).then((a=>new tl(t,s,e,a)))}function _v(e,t,n){e=mi(e,Se);const s=mi(e.firestore,Ya),a=px(e.converter,t);return Nd(s,[ox(Cd(s),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,Xn.none())])}function yx(e,t,n,...s){e=mi(e,Se);const a=mi(e.firestore,Ya),l=Cd(a);let c;return c=typeof(t=Le(t))=="string"||t instanceof Rd?pk(l,"updateDoc",e._key,t,n,s):mk(l,"updateDoc",e._key,t),Nd(a,[c.toMutation(e._key,Xn.exists(!0))])}function sw(e){return Nd(mi(e.firestore,Ya),[new $y(e._key,Xn.none())])}function Tv(e,t){const n=mi(e.firestore,Ya),s=bs(e),a=px(e.converter,t);return Nd(n,[ox(Cd(e.firestore),"addDoc",s._key,a,e.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then((()=>s))}function Nd(e,t){return(function(s,a){const l=new Es;return s.asyncQueue.enqueueAndForget((async()=>Q4(await ak(s),a,l))),l.promise})(cv(e),t)}function Ak(e,t,n){const s=n.docs.get(t._key),a=new gx(e);return new Ma(e,a,t._key,s,new ju(n.hasPendingWrites,n.fromCache),t.converter)}function Sk(){return new fv("serverTimestamp")}function xk(e){return new dv("increment",e)}(function(t,n=!0){(function(a){ml=a})(Ga),Ua(new Sr("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Ya(new yM(s.getProvider("auth-internal")),new TM(c,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ut(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Ni(ab,ob,t),Ni(ab,ob,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="firebasestorage.googleapis.com",Rk="storageBucket",Ck=120*1e3,Ik=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Gi{constructor(t,n,s=0){super(ng(t),`Firebase Storage: ${n} (${ng(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ki.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ng(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fi;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fi||(Fi={}));function ng(e){return"storage/"+e}function Dk(){const e="An unknown error occurred, please check the error payload for server response.";return new Ki(Fi.UNKNOWN,e)}function Nk(){return new Ki(Fi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Pk(){return new Ki(Fi.CANCELED,"User canceled the upload/download.")}function Vk(e){return new Ki(Fi.INVALID_URL,"Invalid URL '"+e+"'.")}function Mk(e){return new Ki(Fi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function rw(e){return new Ki(Fi.INVALID_ARGUMENT,e)}function _x(){return new Ki(Fi.APP_DELETED,"The Firebase app was deleted.")}function Ok(e){return new Ki(Fi.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=fi.makeFromUrl(t,n)}catch{return new fi(t,"")}if(s.path==="")return s;throw Mk(t)}static makeFromUrl(t,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(at){at.path.charAt(at.path.length-1)==="/"&&(at.path_=at.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(at){at.path_=decodeURIComponent(at.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",S=new RegExp(`^https?://${_}/${y}/b/${a}/o${E}`,"i"),P={bucket:1,path:3},z=n===vx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",G=new RegExp(`^https?://${z}/${a}/${M}`,"i"),X=[{regex:d,indices:m,postModify:l},{regex:S,indices:P,postModify:p},{regex:G,indices:{bucket:1,path:2},postModify:p}];for(let at=0;at<X.length;at++){const nt=X[at],ht=nt.regex.exec(t);if(ht){const N=ht[nt.indices.bucket];let R=ht[nt.indices.path];R||(R=""),s=new fi(N,R),nt.postModify(s);break}}if(s==null)throw Vk(t);return s}}class kk{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(e,t,n){let s=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let p=!1;function y(...M){p||(p=!0,t.apply(null,M))}function _(M){a=setTimeout(()=>{a=null,e(S,m())},M)}function E(){l&&clearTimeout(l)}function S(M,...G){if(p){E();return}if(M){E(),y.call(null,M,...G);return}if(m()||c){E(),y.call(null,M,...G);return}s<64&&(s*=2);let X;d===1?(d=2,X=0):X=(s+Math.random())*1e3,_(X)}let P=!1;function z(M){P||(P=!0,E(),!p&&(a!==null?(M||(d=2),clearTimeout(a),_(0)):M||(d=1)))}return _(0),l=setTimeout(()=>{c=!0,z(!0)},n),z}function Uk(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(e){return e!==void 0}function aw(e,t,n,s){if(s<t)throw rw(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>n)throw rw(`Invalid value for '${e}'. Expected ${n} or less.`)}function Bk(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){const a=t(s)+"="+t(e[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Zf;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Zf||(Zf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(e,t){const n=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,l=t.indexOf(e)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(t,n,s,a,l,c,d,m,p,y,_,E=!0,S=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,z)=>{this.resolve_=P,this.reject_=z,this.start_()})}start_(){const t=(s,a)=>{if(a){s(!1,new ff(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Zf.NO_ERROR,m=l.getStatus();if(!d||zk(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Zf.ABORT;s(!1,new ff(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new ff(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());jk(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=Dk();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?_x():Pk();c(m)}else{const m=Nk();c(m)}};this.canceled_?n(!1,new ff(!1,null,!0)):this.backoffId_=Lk(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Uk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ff{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function qk(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Hk(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Gk(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Kk(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function $k(e,t,n,s,a,l,c=!0,d=!1){const m=Bk(e.urlParams),p=e.url+m,y=Object.assign({},e.headers);return Gk(y,t),qk(y,n),Hk(y,l),Kk(y,s),new Fk(p,e.method,y,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Qk(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t,n){this._service=t,n instanceof fi?this._location=n:this._location=fi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Jf(t,n)}get root(){const t=new fi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qk(this._location.path)}get storage(){return this._service}get parent(){const t=Yk(this._location.path);if(t===null)return null;const n=new fi(this._location.bucket,t);return new Jf(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Ok(t)}}function ow(e,t){const n=t?.[Rk];return n==null?null:fi.makeFromBucketSpec(n,e)}function Xk(e,t,n,s={}){e.host=`${t}:${n}`;const a=Ha(t);a&&(wy(`https://${e.host}/b`),Ay("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(e._overrideAuthToken=typeof l=="string"?l:Y1(l,e.app.options.projectId))}class Wk{constructor(t,n,s,a,l,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=vx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ck,this._maxUploadRetryTime=Ik,this._requests=new Set,a!=null?this._bucket=fi.makeFromBucketSpec(a,this._host):this._bucket=ow(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=fi.makeFromBucketSpec(this._url,t):this._bucket=ow(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){aw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){aw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Jf(this,t)}_makeRequest(t,n,s,a,l=!0){if(this._deleted)return new kk(_x());{const c=$k(t,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,a).getPromise()}}const lw="@firebase/storage",uw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="storage";function Zk(e=Ry(),t){e=Le(e);const s=cd(e,Tx).getImmediate({identifier:t}),a=G1("storage");return a&&Jk(s,...a),s}function Jk(e,t,n,s={}){Xk(e,t,n,s)}function t3(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Wk(n,s,a,t,Ga)}function e3(){Ua(new Sr(Tx,t3,"PUBLIC").setMultipleInstances(!0)),Ni(lw,uw,""),Ni(lw,uw,"esm2020")}e3();const n3={apiKey:"AIzaSyCYE52nUqAEjVqLLrd23AlSAxdbjmwOWyQ",authDomain:"react-71cf6.firebaseapp.com",databaseURL:"https://react-71cf6-default-rtdb.firebaseio.com",projectId:"react-71cf6",storageBucket:"react-71cf6.appspot.com",messagingSenderId:"960452786178",appId:"1:960452786178:web:952292d480c9f839b74f1b",measurementId:"G-0G4Y9M1084",databaseURL:"https://react-71cf6-default-rtdb.firebaseio.com/"},Pd=W1(n3),Vc=dM(Pd),Pn=sx(Pd);Zk(Pd);sx(Pd);const i3=async(e,t)=>{try{const n=await WP(Vc,e,t);return await _v(bs(Pn,"users",n.user.uid),{email:n.user.email,createdAt:new Date}),console.log(n),n.user}catch(n){throw n}},s3=async(e,t)=>{try{return(await ZP(Vc,e,t)).user}catch(n){throw n}},r3=async()=>{const e=new gs;e.setCustomParameters({prompt:"select_account"});try{const t=await bV(Vc,e);return await _v(bs(Pn,"users",userCredential.user.uid),{email:userCredential.user.email,createdAt:new Date}),t.user}catch(t){throw t}},a3=async()=>{try{await nV(Vc)}catch(e){throw e}},o3=e=>eV(Vc,e),l3=async(e,t)=>{try{return(await Tv(qa("data",e),t)).id}catch(n){throw n}},u3=async(e,t,n)=>{try{return await _v(bs("data",e,t),n),t}catch(s){throw s}},Ex=k.createContext(),c3=({children:e})=>{const[t,n]=k.useState(null),[s,a]=k.useState(!0);k.useEffect(()=>{const _=o3(E=>{n(E),a(!1)});return()=>_()},[]);const l=(_,E)=>i3(_,E),c=(_,E)=>s3(_,E),d=()=>r3(),m=()=>a3(),p=(_,E)=>l3(_,E),y=(_,E,S)=>u3(_,E,S);return x.jsx(Ex.Provider,{value:{user:t,loading:s,register:l,login:c,loginWithGoogle:d,logout:m,addDocument:p,setDocument:y},children:e})},_l=()=>k.useContext(Ex);var bx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cw=Va.createContext&&Va.createContext(bx),h3=["attr","size","title"];function f3(e,t){if(e==null)return{};var n=d3(e,t),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)s=l[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function d3(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},td.apply(this,arguments)}function hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ed(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hw(Object(n),!0).forEach(function(s){m3(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hw(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function m3(e,t,n){return t=p3(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p3(e){var t=g3(e,"string");return typeof t=="symbol"?t:t+""}function g3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wx(e){return e&&e.map((t,n)=>Va.createElement(t.tag,ed({key:n},t.attr),wx(t.child)))}function Ev(e){return t=>Va.createElement(y3,td({attr:ed({},e.attr)},t),wx(e.child))}function y3(e){var t=n=>{var{attr:s,size:a,title:l}=e,c=f3(e,h3),d=a||n.size||"1em",m;return n.className&&(m=n.className),e.className&&(m=(m?m+" ":"")+e.className),Va.createElement("svg",td({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:m,style:ed(ed({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Va.createElement("title",null,l),e.children)};return cw!==void 0?Va.createElement(cw.Consumer,null,n=>t(n)):t(bx)}function v3(e){return Ev({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function _3(e){return Ev({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function T3(){const{user:e,logout:t}=_l(),n=Or(),s=Mr(),[a,l]=k.useState(!1),c=async()=>{try{await t(),n("/login")}catch(m){alert(m.message)}},d=m=>`px-4 py-2 rounded-md font-medium transition ${s.pathname===m?"bg-purple-100 text-purple-600":"text-gray-700 hover:text-purple-600"}`;return x.jsxs("nav",{className:"bg-white shadow-sm fixed w-full z-50",children:[x.jsxs("div",{className:"container mx-auto flex justify-between items-center px-6 h-16",children:[x.jsxs(Qe,{to:"/",className:"flex items-center text-xl font-bold text-gray-900",children:[x.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg mr-2 text-sm font-bold",children:"EM"}),"EventManager"]}),x.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[x.jsx(Qe,{to:"/home",className:d("/home"),children:"Home"}),x.jsx(Qe,{to:"/all-events",className:d("/all-events"),children:"All Events"}),e?x.jsxs(x.Fragment,{children:[x.jsx(Qe,{to:"/create-event",className:d("/create-event"),children:"Create Event"}),x.jsx(Qe,{to:"/admin",className:d("/admin"),children:"Admin"}),x.jsx("button",{onClick:c,className:"ml-2 px-4 py-2 rounded-md bg-purple-500 text-white hover:bg-red-600 transition font-medium",children:"Logout"})]}):x.jsxs(x.Fragment,{children:[x.jsx(Qe,{to:"/login",className:"ml-2 px-4 py-2 rounded-md bg-purple-600 text-white hover:bg-purple-700 transition font-medium",children:"Login"}),x.jsx(Qe,{to:"/signup",className:"ml-2 px-4 py-2 rounded-md bg-purple-600 text-white hover:bg-purple-700 transition font-medium",children:"Signup"})]})]}),x.jsx("div",{className:"md:hidden flex items-center",children:x.jsx("button",{onClick:()=>l(!a),children:a?x.jsx(_3,{size:24}):x.jsx(v3,{size:24})})})]}),a&&x.jsxs("div",{className:"md:hidden bg-white shadow-md",children:[x.jsx(Qe,{to:"/home",className:"block px-6 py-3 border-b border-gray-200",onClick:()=>l(!1),children:"Home"}),x.jsx(Qe,{to:"/all-events",className:"block px-6 py-3 border-b border-gray-200",onClick:()=>l(!1),children:"All Events"}),e?x.jsxs(x.Fragment,{children:[x.jsx(Qe,{to:"/create-event",className:"block px-6 py-3 border-b border-gray-200",onClick:()=>l(!1),children:"Create Event"}),x.jsx(Qe,{to:"/admin",className:"block px-6 py-3 border-b border-gray-200",onClick:()=>l(!1),children:"Admin"}),x.jsx("button",{onClick:()=>{c(),l(!1)},className:"w-full text-left px-6 py-3 border-b border-gray-200 bg-purple-500 text-white",children:"Logout"})]}):x.jsxs(x.Fragment,{children:[x.jsx(Qe,{to:"/login",className:"block px-6 py-3 border-b border-gray-200 bg-purple-600 text-white",onClick:()=>l(!1),children:"Login"}),x.jsx(Qe,{to:"/signup",className:"block px-6 py-3 border-b border-gray-200 bg-purple-600 text-white",onClick:()=>l(!1),children:"Signup"})]})]})]})}function E3(){return x.jsxs("footer",{className:"bg-[#0f172a] text-gray-300 py-10 mt-10",children:[x.jsxs("div",{className:"container mx-auto px-6 md:px-12 grid grid-cols-1 md:grid-cols-3 gap-8",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[x.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg text-white font-bold",children:"EM"}),x.jsx("span",{className:"text-lg font-bold",children:"EventManager"})]}),x.jsxs("p",{className:"text-sm leading-relaxed",children:["The ultimate platform for creating, managing, and discovering amazing events.",x.jsx("br",{}),"Connect with your community and make every event memorable."]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-white font-semibold mb-3",children:"Quick Links"}),x.jsxs("ul",{className:"flex flex-col gap-4",children:[x.jsx("li",{children:x.jsx(Vu,{to:"/home",className:({isActive:e})=>`hover:text-white ${e?"text-white font-bold":""}`,children:"Home"})}),x.jsx("li",{children:x.jsx(Vu,{to:"/all-events",className:({isActive:e})=>`hover:text-white ${e?"text-white font-bold":""}`,children:"All Events"})}),x.jsx("li",{children:x.jsx(Vu,{to:"/create-event",className:({isActive:e})=>`hover:text-white ${e?"text-white font-bold":""}`,children:"Create Event"})}),x.jsx("li",{children:x.jsx(Vu,{to:"/admin",className:({isActive:e})=>`hover:text-white ${e?"text-white font-bold":""}`,children:"Admin"})})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-white font-semibold mb-3",children:"Support"}),x.jsxs("ul",{className:"space-y-2 text-sm",children:[x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-white",children:"Help Center"})}),x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-white",children:"Contact Us"})}),x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-white",children:"Privacy Policy"})})]})]})]}),x.jsx("div",{className:"border-t border-gray-700 mt-8 pt-4 text-center text-sm text-gray-400",children:"© 2024 EventManager. All rights reserved."})]})}const Ax=k.createContext({});function b3(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const bv=typeof window<"u",w3=bv?k.useLayoutEffect:k.useEffect,wv=k.createContext(null);function Av(e,t){e.indexOf(t)===-1&&e.push(t)}function Sv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Cs=(e,t,n)=>n>t?t:n<e?e:n;let xv=()=>{};const Is={},Sx=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function xx(e){return typeof e=="object"&&e!==null}const Rx=e=>/^0[^.\s]+$/u.test(e);function Rv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Wn=e=>e,A3=(e,t)=>n=>t(e(n)),Mc=(...e)=>e.reduce(A3),cc=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Cv{constructor(){this.subscriptions=[]}add(t){return Av(this.subscriptions,t),()=>Sv(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Li=e=>e*1e3,Ui=e=>e/1e3;function Cx(e,t){return t?e*(1e3/t):0}const Ix=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,S3=1e-7,x3=12;function R3(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=Ix(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>S3&&++d<x3);return c}function Oc(e,t,n,s){if(e===t&&n===s)return Wn;const a=l=>R3(l,0,1,e,n);return l=>l===0||l===1?l:Ix(a(l),t,s)}const Dx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Nx=e=>t=>1-e(1-t),Px=Oc(.33,1.53,.69,.99),Iv=Nx(Px),Vx=Dx(Iv),Mx=e=>(e*=2)<1?.5*Iv(e):.5*(2-Math.pow(2,-10*(e-1))),Dv=e=>1-Math.sin(Math.acos(e)),Ox=Nx(Dv),kx=Dx(Dv),C3=Oc(.42,0,1,1),I3=Oc(0,0,.58,1),Lx=Oc(.42,0,.58,1),D3=e=>Array.isArray(e)&&typeof e[0]!="number",Ux=e=>Array.isArray(e)&&typeof e[0]=="number",N3={linear:Wn,easeIn:C3,easeInOut:Lx,easeOut:I3,circIn:Dv,circInOut:kx,circOut:Ox,backIn:Iv,backInOut:Vx,backOut:Px,anticipate:Mx},P3=e=>typeof e=="string",fw=e=>{if(Ux(e)){xv(e.length===4);const[t,n,s,a]=e;return Oc(t,n,s,a)}else if(P3(e))return N3[e];return e},df=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function V3(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),e()),y(d)}const p={schedule:(y,_=!1,E=!1)=>{const P=E&&a?n:s;return _&&c.add(y),P.has(y)||P.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const M3=40;function jx(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=df.reduce((X,at)=>(X[at]=V3(l),X),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:S,postRender:P}=c,z=()=>{const X=Is.useManualTiming?a.timestamp:performance.now();n=!1,Is.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(X-a.timestamp,M3),1)),a.timestamp=X,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),_.process(a),E.process(a),S.process(a),P.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(z))},M=()=>{n=!0,s=!0,a.isProcessing||e(z)};return{schedule:df.reduce((X,at)=>{const nt=c[at];return X[at]=(ht,N=!1,R=!1)=>(n||M(),nt.schedule(ht,N,R)),X},{}),cancel:X=>{for(let at=0;at<df.length;at++)c[df[at]].cancel(X)},state:a,steps:c}}const{schedule:oe,cancel:Pr,state:Xe,steps:ig}=jx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wn,!0);let Cf;function O3(){Cf=void 0}const wn={now:()=>(Cf===void 0&&wn.set(Xe.isProcessing||Is.useManualTiming?Xe.timestamp:performance.now()),Cf),set:e=>{Cf=e,queueMicrotask(O3)}},Bx=e=>t=>typeof t=="string"&&t.startsWith(e),Nv=Bx("--"),k3=Bx("var(--"),Pv=e=>k3(e)?L3.test(e.split("/*")[0].trim()):!1,L3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},hc={...Tl,transform:e=>Cs(0,1,e)},mf={...Tl,default:1},$u=e=>Math.round(e*1e5)/1e5,Vv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function U3(e){return e==null}const j3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mv=(e,t)=>n=>!!(typeof n=="string"&&j3.test(n)&&n.startsWith(e)||t&&!U3(n)&&Object.prototype.hasOwnProperty.call(n,t)),zx=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(Vv);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},B3=e=>Cs(0,255,e),sg={...Tl,transform:e=>Math.round(B3(e))},Na={test:Mv("rgb","red"),parse:zx("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+sg.transform(e)+", "+sg.transform(t)+", "+sg.transform(n)+", "+$u(hc.transform(s))+")"};function z3(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const $g={test:Mv("#"),parse:z3,transform:Na.transform},kc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),pr=kc("deg"),ji=kc("%"),At=kc("px"),F3=kc("vh"),q3=kc("vw"),dw={...ji,parse:e=>ji.parse(e)/100,transform:e=>ji.transform(e*100)},Go={test:Mv("hsl","hue"),parse:zx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+ji.transform($u(t))+", "+ji.transform($u(n))+", "+$u(hc.transform(s))+")"},Ie={test:e=>Na.test(e)||$g.test(e)||Go.test(e),parse:e=>Na.test(e)?Na.parse(e):Go.test(e)?Go.parse(e):$g.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Na.transform(e):Go.transform(e),getAnimatableNone:e=>{const t=Ie.parse(e);return t.alpha=0,Ie.transform(t)}},H3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function G3(e){return isNaN(e)&&typeof e=="string"&&(e.match(Vv)?.length||0)+(e.match(H3)?.length||0)>0}const Fx="number",qx="color",K3="var",$3="var(",mw="${}",Y3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fc(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(Y3,m=>(Ie.test(m)?(s.color.push(l),a.push(qx),n.push(Ie.parse(m))):m.startsWith($3)?(s.var.push(l),a.push(K3),n.push(m)):(s.number.push(l),a.push(Fx),n.push(parseFloat(m))),++l,mw)).split(mw);return{values:n,split:d,indexes:s,types:a}}function Hx(e){return fc(e).values}function Gx(e){const{split:t,types:n}=fc(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===Fx?l+=$u(a[c]):d===qx?l+=Ie.transform(a[c]):l+=a[c]}return l}}const Q3=e=>typeof e=="number"?0:Ie.test(e)?Ie.getAnimatableNone(e):e;function X3(e){const t=Hx(e);return Gx(e)(t.map(Q3))}const Vr={test:G3,parse:Hx,createTransformer:Gx,getAnimatableNone:X3};function rg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function W3({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=rg(m,d,e+1/3),l=rg(m,d,e),c=rg(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function nd(e,t){return n=>n>0?t:e}const he=(e,t,n)=>e+(t-e)*n,ag=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},Z3=[$g,Na,Go],J3=e=>Z3.find(t=>t.test(e));function pw(e){const t=J3(e);if(!t)return!1;let n=t.parse(e);return t===Go&&(n=W3(n)),n}const gw=(e,t)=>{const n=pw(e),s=pw(t);if(!n||!s)return nd(e,t);const a={...n};return l=>(a.red=ag(n.red,s.red,l),a.green=ag(n.green,s.green,l),a.blue=ag(n.blue,s.blue,l),a.alpha=he(n.alpha,s.alpha,l),Na.transform(a))},Yg=new Set(["none","hidden"]);function t6(e,t){return Yg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function e6(e,t){return n=>he(e,t,n)}function Ov(e){return typeof e=="number"?e6:typeof e=="string"?Pv(e)?nd:Ie.test(e)?gw:s6:Array.isArray(e)?Kx:typeof e=="object"?Ie.test(e)?gw:n6:nd}function Kx(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>Ov(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function n6(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Ov(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function i6(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],d=e.values[c]??0;n[a]=d,s[l]++}return n}const s6=(e,t)=>{const n=Vr.createTransformer(t),s=fc(e),a=fc(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Yg.has(e)&&!a.values.length||Yg.has(t)&&!s.values.length?t6(e,t):Mc(Kx(i6(s,a),a.values),n):nd(e,t)};function $x(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?he(e,t,n):Ov(e)(e,t)}const r6=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>oe.update(t,n),stop:()=>Pr(t),now:()=>Xe.isProcessing?Xe.timestamp:wn.now()}},Yx=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},id=2e4;function kv(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<id;)t+=n,s=e.next(t);return t>=id?1/0:t}function a6(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(kv(s),id);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Ui(a)}}const o6=5;function Qx(e,t,n){const s=Math.max(t-o6,0);return Cx(n-e(s),t-s)}const ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},og=.001;function l6({duration:e=ge.duration,bounce:t=ge.bounce,velocity:n=ge.velocity,mass:s=ge.mass}){let a,l,c=1-t;c=Cs(ge.minDamping,ge.maxDamping,c),e=Cs(ge.minDuration,ge.maxDuration,Ui(e)),c<1?(a=p=>{const y=p*c,_=y*e,E=y-n,S=Qg(p,c),P=Math.exp(-_);return og-E/S*P},l=p=>{const _=p*c*e,E=_*n+n,S=Math.pow(c,2)*Math.pow(p,2)*e,P=Math.exp(-_),z=Qg(Math.pow(p,2),c);return(-a(p)+og>0?-1:1)*((E-S)*P)/z}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-og+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const d=5/e,m=c6(a,l,d);if(e=Li(e),isNaN(m))return{stiffness:ge.stiffness,damping:ge.damping,duration:e};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:e}}}const u6=12;function c6(e,t,n){let s=n;for(let a=1;a<u6;a++)s=s-e(s)/t(s);return s}function Qg(e,t){return e*Math.sqrt(1-t*t)}const h6=["duration","bounce"],f6=["stiffness","damping","mass"];function yw(e,t){return t.some(n=>e[n]!==void 0)}function d6(e){let t={velocity:ge.velocity,stiffness:ge.stiffness,damping:ge.damping,mass:ge.mass,isResolvedFromDuration:!1,...e};if(!yw(e,f6)&&yw(e,h6))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Cs(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ge.mass,stiffness:a,damping:l}}else{const n=l6(e);t={...t,...n,mass:ge.mass},t.isResolvedFromDuration=!0}return t}function sd(e=ge.visualDuration,t=ge.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:S}=d6({...n,velocity:-Ui(n.velocity||0)}),P=E||0,z=p/(2*Math.sqrt(m*y)),M=c-l,G=Ui(Math.sqrt(m/y)),Y=Math.abs(M)<5;s||(s=Y?ge.restSpeed.granular:ge.restSpeed.default),a||(a=Y?ge.restDelta.granular:ge.restDelta.default);let X;if(z<1){const nt=Qg(G,z);X=ht=>{const N=Math.exp(-z*G*ht);return c-N*((P+z*G*M)/nt*Math.sin(nt*ht)+M*Math.cos(nt*ht))}}else if(z===1)X=nt=>c-Math.exp(-G*nt)*(M+(P+G*M)*nt);else{const nt=G*Math.sqrt(z*z-1);X=ht=>{const N=Math.exp(-z*G*ht),R=Math.min(nt*ht,300);return c-N*((P+z*G*M)*Math.sinh(R)+nt*M*Math.cosh(R))/nt}}const at={calculatedDuration:S&&_||null,next:nt=>{const ht=X(nt);if(S)d.done=nt>=_;else{let N=nt===0?P:0;z<1&&(N=nt===0?Li(P):Qx(X,nt,ht));const R=Math.abs(N)<=s,C=Math.abs(c-ht)<=a;d.done=R&&C}return d.value=d.done?c:ht,d},toString:()=>{const nt=Math.min(kv(at),id),ht=Yx(N=>at.next(nt*N).value,nt,30);return nt+"ms "+ht},toTransition:()=>{}};return at}sd.applyToOptions=e=>{const t=a6(e,100,sd);return e.ease=t.ease,e.duration=Li(t.duration),e.type="keyframes",e};function Xg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],E={done:!1,value:_},S=R=>d!==void 0&&R<d||m!==void 0&&R>m,P=R=>d===void 0?m:m===void 0||Math.abs(d-R)<Math.abs(m-R)?d:m;let z=n*t;const M=_+z,G=c===void 0?M:c(M);G!==M&&(z=G-_);const Y=R=>-z*Math.exp(-R/s),X=R=>G+Y(R),at=R=>{const C=Y(R),L=X(R);E.done=Math.abs(C)<=p,E.value=E.done?G:L};let nt,ht;const N=R=>{S(E.value)&&(nt=R,ht=sd({keyframes:[E.value,P(E.value)],velocity:Qx(X,R,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return N(0),{calculatedDuration:null,next:R=>{let C=!1;return!ht&&nt===void 0&&(C=!0,at(R),N(R)),nt!==void 0&&R>=nt?ht.next(R-nt):(!C&&at(R),E)}}}function m6(e,t,n){const s=[],a=n||Is.mix||$x,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Wn:t;d=Mc(m,d)}s.push(d)}return s}function p6(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(xv(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=m6(t,s,a),m=d.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const E=cc(e[_],e[_+1],y);return d[_](E)};return n?y=>p(Cs(e[0],e[l-1],y)):p}function g6(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=cc(0,t,s);e.push(he(n,1,a))}}function y6(e){const t=[0];return g6(t,e.length-1),t}function v6(e,t){return e.map(n=>n*t)}function _6(e,t){return e.map(()=>t||Lx).splice(0,e.length-1)}function Yu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=D3(s)?s.map(fw):fw(s),l={done:!1,value:t[0]},c=v6(n&&n.length===t.length?n:y6(t),e),d=p6(c,t,{ease:Array.isArray(a)?a:_6(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const T6=e=>e!==null;function Lv(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(T6),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const E6={decay:Xg,inertia:Xg,tween:Yu,keyframes:Yu,spring:sd};function Xx(e){typeof e.type=="string"&&(e.type=E6[e.type])}class Uv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const b6=e=>e/100;class jv extends Uv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Xx(t);const{type:n=Yu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||Yu;m!==Yu&&typeof d[0]!="number"&&(this.mixKeyframes=Mc(b6,$x(d[0],d[1])),d=[0,100]);const p=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=kv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:S,type:P,onUpdate:z,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const G=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?G<0:G>a;this.currentTime=Math.max(G,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let X=this.currentTime,at=s;if(_){const R=Math.min(this.currentTime,a)/d;let C=Math.floor(R),L=R%1;!L&&R>=1&&(L=1),L===1&&C--,C=Math.min(C,_+1),!!(C%2)&&(E==="reverse"?(L=1-L,S&&(L-=S/d)):E==="mirror"&&(at=c)),X=Cs(0,1,L)*d}const nt=Y?{done:!1,value:y[0]}:at.next(X);l&&(nt.value=l(nt.value));let{done:ht}=nt;!Y&&m!==null&&(ht=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ht);return N&&P!==Xg&&(nt.value=Lv(y,this.options,M,this.speed)),z&&z(nt.value),N&&this.finish(),nt}then(t,n){return this.finished.then(t,n)}get duration(){return Ui(this.calculatedDuration)}get time(){return Ui(this.currentTime)}set time(t){t=Li(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(wn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ui(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=r6,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function w6(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Pa=e=>e*180/Math.PI,Wg=e=>{const t=Pa(Math.atan2(e[1],e[0]));return Zg(t)},A6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Wg,rotateZ:Wg,skewX:e=>Pa(Math.atan(e[1])),skewY:e=>Pa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Zg=e=>(e=e%360,e<0&&(e+=360),e),vw=Wg,_w=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Tw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),S6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_w,scaleY:Tw,scale:e=>(_w(e)+Tw(e))/2,rotateX:e=>Zg(Pa(Math.atan2(e[6],e[5]))),rotateY:e=>Zg(Pa(Math.atan2(-e[2],e[0]))),rotateZ:vw,rotate:vw,skewX:e=>Pa(Math.atan(e[4])),skewY:e=>Pa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Jg(e){return e.includes("scale")?1:0}function ty(e,t){if(!e||e==="none")return Jg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=S6,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=A6,a=d}if(!a)return Jg(t);const l=s[t],c=a[1].split(",").map(R6);return typeof l=="function"?l(c):c[l]}const x6=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return ty(n,t)};function R6(e){return parseFloat(e.trim())}const El=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bl=new Set(El),Ew=e=>e===Tl||e===At,C6=new Set(["x","y","z"]),I6=El.filter(e=>!C6.has(e));function D6(e){const t=[];return I6.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Oa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ty(t,"x"),y:(e,{transform:t})=>ty(t,"y")};Oa.translateX=Oa.x;Oa.translateY=Oa.y;const ka=new Set;let ey=!1,ny=!1,iy=!1;function Wx(){if(ny){const e=Array.from(ka).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=D6(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ny=!1,ey=!1,ka.forEach(e=>e.complete(iy)),ka.clear()}function Zx(){ka.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ny=!0)})}function N6(){iy=!0,Zx(),Wx(),iy=!1}class Bv{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ka.add(this),ey||(ey=!0,oe.read(Zx),oe.resolveKeyframes(Wx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}w6(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ka.delete(this)}cancel(){this.state==="scheduled"&&(ka.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const P6=e=>e.startsWith("--");function V6(e,t,n){P6(t)?e.style.setProperty(t,n):e.style[t]=n}const M6=Rv(()=>window.ScrollTimeline!==void 0),O6={};function k6(e,t){const n=Rv(e);return()=>O6[t]??n()}const Jx=k6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,bw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bu([0,.65,.55,1]),circOut:Bu([.55,0,1,.45]),backIn:Bu([.31,.01,.66,-.59]),backOut:Bu([.33,1.53,.69,.99])};function tR(e,t){if(e)return typeof e=="function"?Jx()?Yx(e,t):"ease-out":Ux(e)?Bu(e):Array.isArray(e)?e.map(n=>tR(n,t)||bw.easeOut):bw[e]}function L6(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=tR(d,a);Array.isArray(_)&&(y.easing=_);const E={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),e.animate(y,E)}function eR(e){return typeof e=="function"&&"applyToOptions"in e}function U6({type:e,...t}){return eR(e)&&Jx()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class j6 extends Uv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,xv(typeof t.type!="string");const p=U6(t);this.animation=L6(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Lv(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):V6(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ui(Number(t))}get time(){return Ui(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Li(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&M6()?(this.animation.timeline=t,Wn):n(this)}}const nR={anticipate:Mx,backInOut:Vx,circInOut:kx};function B6(e){return e in nR}function z6(e){typeof e.ease=="string"&&B6(e.ease)&&(e.ease=nR[e.ease])}const ww=10;class F6 extends j6{constructor(t){z6(t),Xx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new jv({...c,autoplay:!1}),m=Li(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-ww).value,d.sample(m).value,ww),d.stop()}}const Aw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vr.test(e)||e==="0")&&!e.startsWith("url("));function q6(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function H6(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=Aw(a,t),d=Aw(l,t);return!c||!d?!1:q6(e)||(n==="spring"||eR(n))&&s}function sy(e){e.duration=0,e.type}const G6=new Set(["opacity","clipPath","filter","transform"]),K6=Rv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $6(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return K6()&&n&&G6.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const Y6=40;class Q6 extends Uv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wn.now();const E={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},S=y?.KeyframeResolver||Bv;this.keyframeResolver=new S(d,(P,z,M)=>this.onKeyframesResolved(P,z,E,!M),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=wn.now(),H6(t,l,c,d)||((Is.instantAnimations||!m)&&y?.(Lv(t,s,n)),t[0]=t[t.length-1],sy(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Y6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},S=!p&&$6(E)?new F6({...E,element:E.motionValue.owner.current}):new jv(E);S.finished.then(()=>this.notifyFinished()).catch(Wn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),N6()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const X6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function W6(e){const t=X6.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function iR(e,t,n=1){const[s,a]=W6(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return Sx(c)?parseFloat(c):c}return Pv(a)?iR(a,t,n+1):a}function zv(e,t){return e?.[t]??e?.default??e}const sR=new Set(["width","height","top","left","right","bottom",...El]),Z6={test:e=>e==="auto",parse:e=>e},rR=e=>t=>t.test(e),aR=[Tl,At,ji,pr,q3,F3,Z6],Sw=e=>aR.find(rR(e));function J6(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Rx(e):!0}const tL=new Set(["brightness","contrast","saturate","opacity"]);function eL(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Vv)||[];if(!s)return e;const a=n.replace(s,"");let l=tL.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const nL=/\b([a-z-]*)\(.*?\)/gu,ry={...Vr,getAnimatableNone:e=>{const t=e.match(nL);return t?t.map(eL).join(" "):e}},xw={...Tl,transform:Math.round},iL={rotate:pr,rotateX:pr,rotateY:pr,rotateZ:pr,scale:mf,scaleX:mf,scaleY:mf,scaleZ:mf,skew:pr,skewX:pr,skewY:pr,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:hc,originX:dw,originY:dw,originZ:At},Fv={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At,...iL,zIndex:xw,fillOpacity:hc,strokeOpacity:hc,numOctaves:xw},sL={...Fv,color:Ie,backgroundColor:Ie,outlineColor:Ie,fill:Ie,stroke:Ie,borderColor:Ie,borderTopColor:Ie,borderRightColor:Ie,borderBottomColor:Ie,borderLeftColor:Ie,filter:ry,WebkitFilter:ry},oR=e=>sL[e];function lR(e,t){let n=oR(e);return n!==ry&&(n=Vr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const rL=new Set(["auto","none","0"]);function aL(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!rL.has(l)&&fc(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=lR(n,a)}class oL extends Bv{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),Pv(p))){const y=iR(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!sR.has(s)||t.length!==2)return;const[a,l]=t,c=Sw(a),d=Sw(l);if(c!==d)if(Ew(c)&&Ew(d))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else Oa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||J6(t[a]))&&s.push(a);s.length&&aL(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oa[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Oa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function lL(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const uR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function uL(e){return xx(e)&&"offsetHeight"in e}const Rw=30,cL=e=>!isNaN(parseFloat(e));class hL{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=wn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=cL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Cv);const s=this.events[t].add(n);return t==="change"?()=>{s(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Rw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Rw);return Cx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ul(e,t){return new hL(e,t)}const{schedule:qv}=jx(queueMicrotask,!1),ci={x:!1,y:!1};function cR(){return ci.x||ci.y}function fL(e){return e==="x"||e==="y"?ci[e]?null:(ci[e]=!0,()=>{ci[e]=!1}):ci.x||ci.y?null:(ci.x=ci.y=!0,()=>{ci.x=ci.y=!1})}function hR(e,t){const n=lL(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function Cw(e){return!(e.pointerType==="touch"||cR())}function dL(e,t,n={}){const[s,a,l]=hR(e,n),c=d=>{if(!Cw(d))return;const{target:m}=d,p=t(m,d);if(typeof p!="function"||!m)return;const y=_=>{Cw(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const fR=(e,t)=>t?e===t?!0:fR(e,t.parentElement):!1,Hv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,mL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pL(e){return mL.has(e.tagName)||e.tabIndex!==-1}const If=new WeakSet;function Iw(e){return t=>{t.key==="Enter"&&e(t)}}function lg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const gL=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Iw(()=>{if(If.has(n))return;lg(n,"down");const a=Iw(()=>{lg(n,"up")}),l=()=>lg(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Dw(e){return Hv(e)&&!cR()}function yL(e,t,n={}){const[s,a,l]=hR(e,n),c=d=>{const m=d.currentTarget;if(!Dw(d))return;If.add(m);const p=t(m,d),y=(S,P)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),If.has(m)&&If.delete(m),Dw(S)&&typeof p=="function"&&p(S,{success:P})},_=S=>{y(S,m===window||m===document||n.useGlobalTarget||fR(m,S.target))},E=S=>{y(S,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),uL(d)&&(d.addEventListener("focus",p=>gL(p,a)),!pL(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function dR(e){return xx(e)&&"ownerSVGElement"in e}function vL(e){return dR(e)&&e.tagName==="svg"}const ln=e=>!!(e&&e.getVelocity),_L=[...aR,Ie,Vr],TL=e=>_L.find(rR(e)),mR=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function EL(e=!0){const t=k.useContext(wv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=k.useId();k.useEffect(()=>{if(e)return a(l)},[e]);const c=k.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const pR=k.createContext({strict:!1}),Nw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cl={};for(const e in Nw)cl[e]={isEnabled:t=>Nw[e].some(n=>!!t[n])};function bL(e){for(const t in e)cl[t]={...cl[t],...e[t]}}const wL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||wL.has(e)}let gR=e=>!rd(e);function AL(e){typeof e=="function"&&(gR=t=>t.startsWith("on")?!rd(t):e(t))}try{AL(require("@emotion/is-prop-valid").default)}catch{}function SL(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(gR(a)||n===!0&&rd(a)||!t&&!rd(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const Vd=k.createContext({});function Md(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function dc(e){return typeof e=="string"||Array.isArray(e)}const Gv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Kv=["initial",...Gv];function Od(e){return Md(e.animate)||Kv.some(t=>dc(e[t]))}function yR(e){return!!(Od(e)||e.variants)}function xL(e,t){if(Od(e)){const{initial:n,animate:s}=e;return{initial:n===!1||dc(n)?n:void 0,animate:dc(s)?s:void 0}}return e.inherit!==!1?t:{}}function RL(e){const{initial:t,animate:n}=xL(e,k.useContext(Vd));return k.useMemo(()=>({initial:t,animate:n}),[Pw(t),Pw(n)])}function Pw(e){return Array.isArray(e)?e.join(" "):e}const mc={};function CL(e){for(const t in e)mc[t]=e[t],Nv(t)&&(mc[t].isCSSVariable=!0)}function vR(e,{layout:t,layoutId:n}){return bl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!mc[e]||e==="opacity")}const IL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DL=El.length;function NL(e,t,n){let s="",a=!0;for(let l=0;l<DL;l++){const c=El[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=uR(d,Fv[c]);if(!m){a=!1;const y=IL[c]||c;s+=`${y}(${p}) `}n&&(t[c]=p)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function $v(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const p=t[m];if(bl.has(m)){c=!0;continue}else if(Nv(m)){a[m]=p;continue}else{const y=uR(p,Fv[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(t.transform||(c||n?s.transform=NL(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const Yv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _R(e,t,n){for(const s in t)!ln(t[s])&&!vR(s,n)&&(e[s]=t[s])}function PL({transformTemplate:e},t){return k.useMemo(()=>{const n=Yv();return $v(n,t,e),Object.assign({},n.vars,n.style)},[t])}function VL(e,t){const n=e.style||{},s={};return _R(s,n,e),Object.assign(s,PL(e,t)),s}function ML(e,t){const n={},s=VL(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const OL={offset:"stroke-dashoffset",array:"stroke-dasharray"},kL={offset:"strokeDashoffset",array:"strokeDasharray"};function LL(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?OL:kL;e[l.offset]=At.transform(-s);const c=At.transform(t),d=At.transform(n);e[l.array]=`${c} ${d}`}function TR(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,y){if($v(e,d,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:E}=e;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&LL(_,a,l,c,!1)}const ER=()=>({...Yv(),attrs:{}}),bR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function UL(e,t,n,s){const a=k.useMemo(()=>{const l=ER();return TR(l,t,bR(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};_R(l,e.style,e),a.style={...l,...a.style}}return a}const jL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qv(e){return typeof e!="string"||e.includes("-")?!1:!!(jL.indexOf(e)>-1||/[A-Z]/u.test(e))}function BL(e,t,n,{latestValues:s},a,l=!1){const d=(Qv(e)?UL:ML)(t,s,a,e),m=SL(t,typeof e=="string",l),p=e!==k.Fragment?{...m,...d,ref:n}:{},{children:y}=t,_=k.useMemo(()=>ln(y)?y.get():y,[y]);return k.createElement(e,{...p,children:_})}function Vw(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Xv(e,t,n,s){if(typeof t=="function"){const[a,l]=Vw(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=Vw(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function Df(e){return ln(e)?e.get():e}function zL({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:FL(n,s,a,e),renderState:t()}}function FL(e,t,n,s){const a={},l=s(e,{});for(const E in l)a[E]=Df(l[E]);let{initial:c,animate:d}=e;const m=Od(e),p=yR(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!Md(_)){const E=Array.isArray(_)?_:[_];for(let S=0;S<E.length;S++){const P=Xv(e,E[S]);if(P){const{transitionEnd:z,transition:M,...G}=P;for(const Y in G){let X=G[Y];if(Array.isArray(X)){const at=y?X.length-1:0;X=X[at]}X!==null&&(a[Y]=X)}for(const Y in z)a[Y]=z[Y]}}}return a}const wR=e=>(t,n)=>{const s=k.useContext(Vd),a=k.useContext(wv),l=()=>zL(e,t,s,a);return n?l():b3(l)};function Wv(e,t,n){const{style:s}=e,a={};for(const l in s)(ln(s[l])||t.style&&ln(t.style[l])||vR(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const qL=wR({scrapeMotionValuesFromProps:Wv,createRenderState:Yv});function AR(e,t,n){const s=Wv(e,t,n);for(const a in e)if(ln(e[a])||ln(t[a])){const l=El.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}const HL=wR({scrapeMotionValuesFromProps:AR,createRenderState:ER}),GL=Symbol.for("motionComponentSymbol");function Ko(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function KL(e,t,n){return k.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Ko(n)&&(n.current=s))},[t])}const Zv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$L="framerAppearId",SR="data-"+Zv($L),xR=k.createContext({});function YL(e,t,n,s,a){const{visualElement:l}=k.useContext(Vd),c=k.useContext(pR),d=k.useContext(wv),m=k.useContext(mR).reducedMotion,p=k.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=k.useContext(xR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&QL(p.current,n,a,_);const E=k.useRef(!1);k.useInsertionEffect(()=>{y&&E.current&&y.update(n,d)});const S=n[SR],P=k.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return w3(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),P.current&&y.animationState&&y.animationState.animateChanges())}),k.useEffect(()=>{y&&(!P.current&&y.animationState&&y.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),P.current=!1),y.enteringChildren=void 0)}),y}function QL(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:RR(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Ko(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function RR(e){if(e)return e.options.allowProjection!==!1?e.projection:RR(e.parent)}function ug(e,{forwardMotionProps:t=!1}={},n,s){n&&bL(n);const a=Qv(e)?HL:qL;function l(d,m){let p;const y={...k.useContext(mR),...d,layoutId:XL(d)},{isStatic:_}=y,E=RL(d),S=a(d,_);if(!_&&bv){WL();const P=ZL(y);p=P.MeasureLayout,E.visualElement=YL(e,S,y,s,P.ProjectionNode)}return x.jsxs(Vd.Provider,{value:E,children:[p&&E.visualElement?x.jsx(p,{visualElement:E.visualElement,...y}):null,BL(e,d,KL(S,E.visualElement,m),S,_,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=k.forwardRef(l);return c[GL]=e,c}function XL({layoutId:e}){const t=k.useContext(Ax).id;return t&&e!==void 0?t+"-"+e:e}function WL(e,t){k.useContext(pR).strict}function ZL(e){const{drag:t,layout:n}=cl;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function JL(e,t){if(typeof Proxy>"u")return ug;const n=new Map,s=(l,c)=>ug(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,ug(c,void 0,e,t)),n.get(c))})}function CR({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function tU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function eU(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function cg(e){return e===void 0||e===1}function ay({scale:e,scaleX:t,scaleY:n}){return!cg(e)||!cg(t)||!cg(n)}function Ca(e){return ay(e)||IR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function IR(e){return Mw(e.x)||Mw(e.y)}function Mw(e){return e&&e!=="0%"}function ad(e,t,n){const s=e-n,a=t*s;return n+a}function Ow(e,t,n,s,a){return a!==void 0&&(e=ad(e,a,s)),ad(e,n,s)+t}function oy(e,t=0,n=1,s,a){e.min=Ow(e.min,t,n,s,a),e.max=Ow(e.max,t,n,s,a)}function DR(e,{x:t,y:n}){oy(e.x,t.translate,t.scale,t.originPoint),oy(e.y,n.translate,n.scale,n.originPoint)}const kw=.999999999999,Lw=1.0000000000001;function nU(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Yo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,DR(e,c)),s&&Ca(l.latestValues)&&Yo(e,l.latestValues))}t.x<Lw&&t.x>kw&&(t.x=1),t.y<Lw&&t.y>kw&&(t.y=1)}function $o(e,t){e.min=e.min+t,e.max=e.max+t}function Uw(e,t,n,s,a=.5){const l=he(e.min,e.max,a);oy(e,t,n,l,s)}function Yo(e,t){Uw(e.x,t.x,t.scaleX,t.scale,t.originX),Uw(e.y,t.y,t.scaleY,t.scale,t.originY)}function NR(e,t){return CR(eU(e.getBoundingClientRect(),t))}function iU(e,t,n){const s=NR(e,n),{scroll:a}=t;return a&&($o(s.x,a.offset.x),$o(s.y,a.offset.y)),s}const jw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qo=()=>({x:jw(),y:jw()}),Bw=()=>({min:0,max:0}),we=()=>({x:Bw(),y:Bw()}),ly={current:null},PR={current:!1};function sU(){if(PR.current=!0,!!bv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ly.current=e.matches;e.addEventListener("change",t),t()}else ly.current=!1}const rU=new WeakMap;function aU(e,t,n){for(const s in t){const a=t[s],l=n[s];if(ln(a))e.addValue(s,a);else if(ln(l))e.addValue(s,ul(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,ul(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const zw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class oU{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=wn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,oe.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Od(n),this.isVariantNode=yR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const S=_[E];m[E]!==void 0&&ln(S)&&S.set(m[E])}}mount(t){this.current=t,rU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),PR.current||sU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ly.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Pr(this.notifyUpdate),Pr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=bl.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&oe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in cl){const n=cl[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):we()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<zw.length;s++){const a=zw[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=aU(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=ul(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Sx(s)||Rx(s))?s=parseFloat(s):!TL(s)&&Vr.test(n)&&(s=lR(t,n)),this.setBaseTarget(t,ln(s)?s.get():s)),ln(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Xv(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ln(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Cv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){qv.render(this.render)}}class VR extends oU{constructor(){super(...arguments),this.KeyframeResolver=oL}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ln(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function MR(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function lU(e){return window.getComputedStyle(e)}class uU extends VR{constructor(){super(...arguments),this.type="html",this.renderInstance=MR}readValueFromInstance(t,n){if(bl.has(n))return this.projection?.isProjecting?Jg(n):x6(t,n);{const s=lU(t),a=(Nv(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return NR(t,n)}build(t,n,s){$v(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Wv(t,n,s)}}const OR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cU(e,t,n,s){MR(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(OR.has(a)?a:Zv(a),t.attrs[a])}class hU extends VR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=we}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(bl.has(n)){const s=oR(n);return s&&s.default||0}return n=OR.has(n)?n:Zv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return AR(t,n,s)}build(t,n,s){TR(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){cU(t,n,s,a)}mount(t){this.isSVGTag=bR(t.tagName),super.mount(t)}}const fU=(e,t)=>Qv(e)?new hU(t):new uU(t,{allowProjection:e!==k.Fragment});function el(e,t,n){const s=e.getProps();return Xv(s,t,n!==void 0?n:s.custom,e)}const uy=e=>Array.isArray(e);function dU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ul(n))}function mU(e){return uy(e)?e[e.length-1]||0:e}function pU(e,t){const n=el(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=mU(l[c]);dU(e,c,d)}}function gU(e){return!!(ln(e)&&e.add)}function cy(e,t){const n=e.getValue("willChange");if(gU(n))return n.add(t);if(!n&&Is.WillChange){const s=new Is.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function kR(e){return e.props[SR]}const yU=e=>e!==null;function vU(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(yU),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const _U={type:"spring",stiffness:500,damping:25,restSpeed:10},TU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),EU={type:"keyframes",duration:.8},bU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wU=(e,{keyframes:t})=>t.length>2?EU:bl.has(e)?e.startsWith("scale")?TU(t[1]):_U:bU;function AU({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Jv=(e,t,n,s={},a,l)=>c=>{const d=zv(s,e)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Li(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:E=>{t.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};AU(d)||Object.assign(y,wU(e,y)),y.duration&&(y.duration=Li(y.duration)),y.repeatDelay&&(y.repeatDelay=Li(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(sy(y),y.delay===0&&(_=!0)),(Is.instantAnimations||Is.skipAnimations)&&(_=!0,sy(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const E=vU(y.keyframes,d);if(E!==void 0){oe.update(()=>{y.onUpdate(E),y.onComplete()});return}}return d.isSync?new jv(y):new Q6(y)};function SU({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function LR(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in d){const _=e.getValue(y,e.latestValues[y]??null),E=d[y];if(E===void 0||p&&SU(p,y))continue;const S={delay:n,...zv(l||{},y)},P=_.get();if(P!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===P&&!S.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const G=kR(e);if(G){const Y=window.MotionHandoffAnimation(G,y,oe);Y!==null&&(S.startTime=Y,z=!0)}}cy(e,y),_.start(Jv(y,_,E,e.shouldReduceMotion&&sR.has(y)?{type:!1}:S,e,z));const M=_.animation;M&&m.push(M)}return c&&Promise.all(m).then(()=>{oe.update(()=>{c&&pU(e,c)})}),m}function UR(e,t,n,s=0,a=1){const l=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function hy(e,t,n={}){const s=el(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(LR(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return xU(e,t,m,p,y,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function xU(e,t,n=0,s=0,a=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(hy(m,t,{...c,delay:n+(typeof s=="function"?0:s)+UR(e.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function RU(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>hy(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=hy(e,t,n);else{const a=typeof t=="function"?el(e,t,n.custom):t;s=Promise.all(LR(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function jR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const CU=Kv.length;function BR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?BR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<CU;n++){const s=Kv[n],a=e.props[s];(dc(a)||a===!1)&&(t[s]=a)}return t}const IU=[...Gv].reverse(),DU=Gv.length;function NU(e){return t=>Promise.all(t.map(({animation:n,options:s})=>RU(e,n,s)))}function PU(e){let t=NU(e),n=Fw(),s=!0;const a=m=>(p,y)=>{const _=el(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:E,transitionEnd:S,...P}=_;p={...p,...P,...S}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=BR(e.parent)||{},_=[],E=new Set;let S={},P=1/0;for(let M=0;M<DU;M++){const G=IU[M],Y=n[G],X=p[G]!==void 0?p[G]:y[G],at=dc(X),nt=G===m?Y.isActive:null;nt===!1&&(P=M);let ht=X===y[G]&&X!==p[G]&&at;if(ht&&s&&e.manuallyAnimateOnMount&&(ht=!1),Y.protectedKeys={...S},!Y.isActive&&nt===null||!X&&!Y.prevProp||Md(X)||typeof X=="boolean")continue;const N=VU(Y.prevProp,X);let R=N||G===m&&Y.isActive&&!ht&&at||M>P&&at,C=!1;const L=Array.isArray(X)?X:[X];let O=L.reduce(a(G),{});nt===!1&&(O={});const{prevResolvedValues:B={}}=Y,D={...B,...O},ne=rt=>{R=!0,E.has(rt)&&(C=!0,E.delete(rt)),Y.needsAnimating[rt]=!0;const dt=e.getValue(rt);dt&&(dt.liveStyle=!1)};for(const rt in D){const dt=O[rt],It=B[rt];if(S.hasOwnProperty(rt))continue;let V=!1;uy(dt)&&uy(It)?V=!jR(dt,It):V=dt!==It,V?dt!=null?ne(rt):E.add(rt):dt!==void 0&&E.has(rt)?ne(rt):Y.protectedKeys[rt]=!0}Y.prevProp=X,Y.prevResolvedValues=O,Y.isActive&&(S={...S,...O}),s&&e.blockInitialAnimation&&(R=!1);const Wt=ht&&N;R&&(!Wt||C)&&_.push(...L.map(rt=>{const dt={type:G};if(typeof rt=="string"&&s&&!Wt&&e.manuallyAnimateOnMount&&e.parent){const{parent:It}=e,V=el(It,rt);if(It.enteringChildren&&V){const{delayChildren:st}=V.transition||{};dt.delay=UR(It.enteringChildren,e,st)}}return{animation:rt,options:dt}}))}if(E.size){const M={};if(typeof p.initial!="boolean"){const G=el(e,Array.isArray(p.initial)?p.initial[0]:p.initial);G&&G.transition&&(M.transition=G.transition)}E.forEach(G=>{const Y=e.getBaseTarget(G),X=e.getValue(G);X&&(X.liveStyle=!0),M[G]=Y??null}),_.push({animation:M})}let z=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(z=!1),s=!1,z?t(_):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Fw(),s=!0}}}function VU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!jR(t,e):!1}function xa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fw(){return{animate:xa(!0),whileInView:xa(),whileHover:xa(),whileTap:xa(),whileDrag:xa(),whileFocus:xa(),exit:xa()}}class zr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class MU extends zr{constructor(t){super(t),t.animationState||(t.animationState=PU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Md(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let OU=0;class kU extends zr{constructor(){super(...arguments),this.id=OU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const LU={animation:{Feature:MU},exit:{Feature:kU}};function pc(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Lc(e){return{point:{x:e.pageX,y:e.pageY}}}const UU=e=>t=>Hv(t)&&e(t,Lc(t));function Qu(e,t,n,s){return pc(e,t,UU(n),s)}const zR=1e-4,jU=1-zR,BU=1+zR,FR=.01,zU=0-FR,FU=0+FR;function pn(e){return e.max-e.min}function qU(e,t,n){return Math.abs(e-t)<=n}function qw(e,t,n,s=.5){e.origin=s,e.originPoint=he(t.min,t.max,e.origin),e.scale=pn(n)/pn(t),e.translate=he(n.min,n.max,e.origin)-e.originPoint,(e.scale>=jU&&e.scale<=BU||isNaN(e.scale))&&(e.scale=1),(e.translate>=zU&&e.translate<=FU||isNaN(e.translate))&&(e.translate=0)}function Xu(e,t,n,s){qw(e.x,t.x,n.x,s?s.originX:void 0),qw(e.y,t.y,n.y,s?s.originY:void 0)}function Hw(e,t,n){e.min=n.min+t.min,e.max=e.min+pn(t)}function HU(e,t,n){Hw(e.x,t.x,n.x),Hw(e.y,t.y,n.y)}function Gw(e,t,n){e.min=t.min-n.min,e.max=e.min+pn(t)}function Wu(e,t,n){Gw(e.x,t.x,n.x),Gw(e.y,t.y,n.y)}function Yn(e){return[e("x"),e("y")]}const qR=({current:e})=>e?e.ownerDocument.defaultView:null,Kw=(e,t)=>Math.abs(e-t);function GU(e,t){const n=Kw(e.x,t.x),s=Kw(e.y,t.y);return Math.sqrt(n**2+s**2)}class HR{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=fg(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,P=GU(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!P)return;const{point:z}=E,{timestamp:M}=Xe;this.history.push({...z,timestamp:M});const{onStart:G,onMove:Y}=this.handlers;S||(G&&G(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,E)},this.handlePointerMove=(E,S)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=hg(S,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(E,S)=>{this.end();const{onEnd:P,onSessionEnd:z,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=fg(E.type==="pointercancel"?this.lastMoveEventInfo:hg(S,this.transformPagePoint),this.history);this.startEvent&&P&&P(E,G),z&&z(E,G)},!Hv(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=Lc(t),m=hg(d,this.transformPagePoint),{point:p}=m,{timestamp:y}=Xe;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(t,fg(m,this.history)),this.removeListeners=Mc(Qu(this.contextWindow,"pointermove",this.handlePointerMove),Qu(this.contextWindow,"pointerup",this.handlePointerUp),Qu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Pr(this.updatePoint)}}function hg(e,t){return t?{point:t(e.point)}:e}function $w(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fg({point:e},t){return{point:e,delta:$w(e,GR(t)),offset:$w(e,KU(t)),velocity:$U(t,.1)}}function KU(e){return e[0]}function GR(e){return e[e.length-1]}function $U(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=GR(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>Li(t)));)n--;if(!s)return{x:0,y:0};const l=Ui(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function YU(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?he(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?he(n,e,s.max):Math.min(e,n)),e}function Yw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function QU(e,{top:t,left:n,bottom:s,right:a}){return{x:Yw(e.x,n,a),y:Yw(e.y,t,s)}}function Qw(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function XU(e,t){return{x:Qw(e.x,t.x),y:Qw(e.y,t.y)}}function WU(e,t){let n=.5;const s=pn(e),a=pn(t);return a>s?n=cc(t.min,t.max-s,e.min):s>a&&(n=cc(e.min,e.max-a,t.min)),Cs(0,1,n)}function ZU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const fy=.35;function JU(e=fy){return e===!1?e=0:e===!0&&(e=fy),{x:Xw(e,"left","right"),y:Xw(e,"top","bottom")}}function Xw(e,t,n){return{min:Ww(e,t),max:Ww(e,n)}}function Ww(e,t){return typeof e=="number"?e:e[t]||0}const t9=new WeakMap;class e9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=we(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lc(_).point)},c=(_,E)=>{const{drag:S,dragPropagation:P,onDragStart:z}=this.getProps();if(S&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fL(S),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yn(G=>{let Y=this.getAxisMotionValue(G).get()||0;if(ji.test(Y)){const{projection:X}=this.visualElement;if(X&&X.layout){const at=X.layout.layoutBox[G];at&&(Y=pn(at)*(parseFloat(Y)/100))}}this.originPoint[G]=Y}),z&&oe.postRender(()=>z(_,E)),cy(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},d=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:S,dragDirectionLock:P,onDirectionLock:z,onDrag:M}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:G}=E;if(P&&this.currentDirection===null){this.currentDirection=n9(G),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",E.point,G),this.updateAxis("y",E.point,G),this.visualElement.render(),M&&M(_,E)},m=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Yn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new HR(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:qR(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&oe.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!pf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=YU(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Ko(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=QU(s.layoutBox,t):this.constraints=!1,this.elastic=JU(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Yn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=ZU(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ko(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=iU(s,a.root,this.visualElement.getTransformPagePoint());let c=XU(a.layout.layoutBox,l);if(n){const d=n(tU(c));this.hasMutatedConstraints=!!d,d&&(c=CR(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Yn(y=>{if(!pf(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const E=a?200:1e6,S=a?40:1e7,P={type:"inertia",velocity:s?t[y]:0,bounceStiffness:E,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,P)});return Promise.all(p).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return cy(this.visualElement,t),s.start(Jv(t,s,0,n,this.visualElement,!1))}stopAnimation(){Yn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Yn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Yn(n=>{const{drag:s}=this.getProps();if(!pf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-he(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ko(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Yn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=WU({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Yn(c=>{if(!pf(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(he(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;t9.set(this.visualElement,this);const t=this.visualElement.current,n=Qu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Ko(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),oe.read(s);const c=pc(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Yn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=fy,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function pf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function n9(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class i9 extends zr{constructor(t){super(t),this.removeGroupControls=Wn,this.removeListeners=Wn,this.controls=new e9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zw=e=>(t,n)=>{e&&oe.postRender(()=>e(t,n))};class s9 extends zr{constructor(){super(...arguments),this.removePointerDownListener=Wn}onPointerDown(t){this.session=new HR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Zw(t),onStart:Zw(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&oe.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Qu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Jw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Pu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(At.test(e))e=parseFloat(e);else return e;const n=Jw(e,t.target.x),s=Jw(e,t.target.y);return`${n}% ${s}%`}},r9={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=Vr.parse(e);if(a.length>5)return s;const l=Vr.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const p=he(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let dg=!1;class a9 extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;CL(o9),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),dg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Nf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,dg=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||oe.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;dg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function KR(e){const[t,n]=EL(),s=k.useContext(Ax);return x.jsx(a9,{...e,layoutGroup:s,switchLayoutGroup:k.useContext(xR),isPresent:t,safeToRemove:n})}const o9={borderRadius:{...Pu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pu,borderTopRightRadius:Pu,borderBottomLeftRadius:Pu,borderBottomRightRadius:Pu,boxShadow:r9};function l9(e,t,n){const s=ln(e)?e:ul(e);return s.start(Jv("",s,t,n)),s.animation}const u9=(e,t)=>e.depth-t.depth;class c9{constructor(){this.children=[],this.isDirty=!1}add(t){Av(this.children,t),this.isDirty=!0}remove(t){Sv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(u9),this.isDirty=!1,this.children.forEach(t)}}function h9(e,t){const n=wn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(Pr(s),e(l-t))};return oe.setup(s,!0),()=>Pr(s)}const $R=["TopLeft","TopRight","BottomLeft","BottomRight"],f9=$R.length,t1=e=>typeof e=="string"?parseFloat(e):e,e1=e=>typeof e=="number"||At.test(e);function d9(e,t,n,s,a,l){a?(e.opacity=he(0,n.opacity??1,m9(s)),e.opacityExit=he(t.opacity??1,0,p9(s))):l&&(e.opacity=he(t.opacity??1,n.opacity??1,s));for(let c=0;c<f9;c++){const d=`border${$R[c]}Radius`;let m=n1(t,d),p=n1(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||e1(m)===e1(p)?(e[d]=Math.max(he(t1(m),t1(p),s),0),(ji.test(p)||ji.test(m))&&(e[d]+="%")):e[d]=p}(t.rotate||n.rotate)&&(e.rotate=he(t.rotate||0,n.rotate||0,s))}function n1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const m9=YR(0,.5,Ox),p9=YR(.5,.95,Wn);function YR(e,t,n){return s=>s<e?0:s>t?1:n(cc(e,t,s))}function i1(e,t){e.min=t.min,e.max=t.max}function $n(e,t){i1(e.x,t.x),i1(e.y,t.y)}function s1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function r1(e,t,n,s,a){return e-=t,e=ad(e,1/n,s),a!==void 0&&(e=ad(e,1/a,s)),e}function g9(e,t=0,n=1,s=.5,a,l=e,c=e){if(ji.test(t)&&(t=parseFloat(t),t=he(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=he(l.min,l.max,s);e===l&&(d-=t),e.min=r1(e.min,t,n,d,a),e.max=r1(e.max,t,n,d,a)}function a1(e,t,[n,s,a],l,c){g9(e,t[n],t[s],t[a],t.scale,l,c)}const y9=["x","scaleX","originX"],v9=["y","scaleY","originY"];function o1(e,t,n,s){a1(e.x,t,y9,n?n.x:void 0,s?s.x:void 0),a1(e.y,t,v9,n?n.y:void 0,s?s.y:void 0)}function l1(e){return e.translate===0&&e.scale===1}function QR(e){return l1(e.x)&&l1(e.y)}function u1(e,t){return e.min===t.min&&e.max===t.max}function _9(e,t){return u1(e.x,t.x)&&u1(e.y,t.y)}function c1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function XR(e,t){return c1(e.x,t.x)&&c1(e.y,t.y)}function h1(e){return pn(e.x)/pn(e.y)}function f1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class T9{constructor(){this.members=[]}add(t){Av(this.members,t),t.scheduleRender()}remove(t){if(Sv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function E9(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:S,skewY:P}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),E&&(s+=`rotateY(${E}deg) `),S&&(s+=`skewX(${S}deg) `),P&&(s+=`skewY(${P}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const mg=["","X","Y","Z"],b9=1e3;let w9=0;function pg(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function WR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=kR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",oe,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&WR(s)}function ZR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=w9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(x9),this.nodes.forEach(D9),this.nodes.forEach(N9),this.nodes.forEach(R9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new c9)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Cv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=dR(c)&&!vL(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,_=0;const E=()=>this.root.updateBlockedByResize=!1;oe.read(()=>{_=window.innerWidth}),e(c,()=>{const S=window.innerWidth;S!==_&&(_=S,this.root.updateBlockedByResize=!0,y&&y(),y=h9(E,250),Nf.hasAnimatedSinceResize&&(Nf.hasAnimatedSinceResize=!1,this.nodes.forEach(p1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||p.getDefaultTransition()||k9,{onLayoutAnimationStart:z,onLayoutAnimationComplete:M}=p.getProps(),G=!this.targetLayout||!XR(this.targetLayout,S),Y=!_&&E;if(this.options.layoutRoot||this.resumeFrom||Y||_&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const X={...zv(P,"layout"),onPlay:z,onComplete:M};(p.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X),this.setAnimationOrigin(y,Y)}else _||p1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(P9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(d1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(m1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(I9),this.nodes.forEach(A9),this.nodes.forEach(S9)):this.nodes.forEach(m1),this.clearAllSnapshots();const d=wn.now();Xe.delta=Cs(0,1e3/60,d-Xe.timestamp),Xe.timestamp=d,Xe.isProcessing=!0,ig.update.process(Xe),ig.preRender.process(Xe),ig.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(C9),this.sharedNodes.forEach(V9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=we(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!QR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ca(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),L9(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return we();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(U9))){const{scroll:p}=this.root;p&&($o(d.x,p.offset.x),$o(d.y,p.offset.y))}return d}removeElementScroll(c){const d=we();if($n(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&$n(d,c),$o(d.x,y.offset.x),$o(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=we();$n(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Yo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ca(y.latestValues)&&Yo(m,y.latestValues)}return Ca(this.latestValues)&&Yo(m,this.latestValues),m}removeTransform(c){const d=we();$n(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ca(p.latestValues))continue;ay(p.latestValues)&&p.updateSnapshot();const y=we(),_=p.measurePageBox();$n(y,_),o1(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ca(this.latestValues)&&o1(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=we(),this.relativeTargetOrigin=we(),Wu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=we(),this.targetWithTransforms=we()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),DR(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=we(),this.relativeTargetOrigin=we(),Wu(this.relativeTargetOrigin,this.target,E.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ay(this.parent.latestValues)||IR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;$n(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;nU(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=we());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(s1(this.prevProjectionDelta.x,this.projectionDelta.x),s1(this.prevProjectionDelta.y,this.projectionDelta.y)),Xu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!f1(this.projectionDelta.x,this.prevProjectionDelta.x)||!f1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qo(),this.projectionDelta=Qo(),this.projectionDeltaWithTransform=Qo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=we(),S=m?m.source:void 0,P=this.layout?this.layout.source:void 0,z=S!==P,M=this.getStack(),G=!M||M.members.length<=1,Y=!!(z&&!G&&this.options.crossfade===!0&&!this.path.some(O9));this.animationProgress=0;let X;this.mixTargetDelta=at=>{const nt=at/1e3;g1(_.x,c.x,nt),g1(_.y,c.y,nt),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),M9(this.relativeTarget,this.relativeTargetOrigin,E,nt),X&&_9(this.relativeTarget,X)&&(this.isProjectionDirty=!1),X||(X=we()),$n(X,this.relativeTarget)),z&&(this.animationValues=y,d9(y,p,this.latestValues,nt,Y,G)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=nt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{Nf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ul(0)),this.currentAnimation=l9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(b9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&JR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||we();const _=pn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const E=pn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}$n(d,m),Yo(d,y),Xu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new T9),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&pg("z",c,p,this.animationValues);for(let y=0;y<mg.length;y++)pg(`rotate${mg[y]}`,c,p,this.animationValues),pg(`skew${mg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Df(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Df(d?.pointerEvents)||""),this.hasProjected&&!Ca(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=E9(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:E,y:S}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${S.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const P in mc){if(y[P]===void 0)continue;const{correct:z,applyTo:M,isCSSVariable:G}=mc[P],Y=_==="none"?y[P]:z(y[P],p);if(M){const X=M.length;for(let at=0;at<X;at++)c[M[at]]=Y}else G?this.options.visualElement.renderState.vars[P]=Y:c[P]=Y}this.options.layoutId&&(c.pointerEvents=p===this?Df(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(d1),this.root.sharedNodes.clear()}}}function A9(e){e.updateLayout()}function S9(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Yn(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],E=pn(_);_.min=n[y].min,_.max=_.min+E}):JR(a,t.layoutBox,n)&&Yn(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],E=pn(n[y]);_.max=_.min+E,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+E)});const c=Qo();Xu(c,n,t.layoutBox);const d=Qo();l?Xu(d,e.applyTransform(s,!0),t.measuredBox):Xu(d,n,t.layoutBox);const m=!QR(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:E}=y;if(_&&E){const S=we();Wu(S,t.layoutBox,_.layoutBox);const P=we();Wu(P,n,E.layoutBox),XR(S,P)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=P,e.relativeTargetOrigin=S,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function x9(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function R9(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function C9(e){e.clearSnapshot()}function d1(e){e.clearMeasurements()}function m1(e){e.isLayoutDirty=!1}function I9(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function p1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function D9(e){e.resolveTargetDelta()}function N9(e){e.calcProjection()}function P9(e){e.resetSkewAndRotation()}function V9(e){e.removeLeadSnapshot()}function g1(e,t,n){e.translate=he(t.translate,0,n),e.scale=he(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function y1(e,t,n,s){e.min=he(t.min,n.min,s),e.max=he(t.max,n.max,s)}function M9(e,t,n,s){y1(e.x,t.x,n.x,s),y1(e.y,t.y,n.y,s)}function O9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const k9={duration:.45,ease:[.4,0,.1,1]},v1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),_1=v1("applewebkit/")&&!v1("chrome/")?Math.round:Wn;function T1(e){e.min=_1(e.min),e.max=_1(e.max)}function L9(e){T1(e.x),T1(e.y)}function JR(e,t,n){return e==="position"||e==="preserve-aspect"&&!qU(h1(t),h1(n),.2)}function U9(e){return e!==e.root&&e.scroll?.wasRoot}const j9=ZR({attachResizeListener:(e,t)=>pc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gg={current:void 0},tC=ZR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!gg.current){const e=new j9({});e.mount(window),e.setOptions({layoutScroll:!0}),gg.current=e}return gg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),B9={pan:{Feature:s9},drag:{Feature:i9,ProjectionNode:tC,MeasureLayout:KR}};function E1(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&oe.postRender(()=>l(t,Lc(t)))}class z9 extends zr{mount(){const{current:t}=this.node;t&&(this.unmount=dL(t,(n,s)=>(E1(this.node,s,"Start"),a=>E1(this.node,a,"End"))))}unmount(){}}class F9 extends zr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mc(pc(this.node.current,"focus",()=>this.onFocus()),pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function b1(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&oe.postRender(()=>l(t,Lc(t)))}class q9 extends zr{mount(){const{current:t}=this.node;t&&(this.unmount=yL(t,(n,s)=>(b1(this.node,s,"Start"),(a,{success:l})=>b1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dy=new WeakMap,yg=new WeakMap,H9=e=>{const t=dy.get(e.target);t&&t(e)},G9=e=>{e.forEach(H9)};function K9({root:e,...t}){const n=e||document;yg.has(n)||yg.set(n,{});const s=yg.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(G9,{root:e,...t})),s[a]}function $9(e,t,n){const s=K9(t);return dy.set(e,n),s.observe(e),()=>{dy.delete(e),s.unobserve(e)}}const Y9={some:0,all:1};class Q9 extends zr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Y9[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(m)};return $9(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(X9(t,n))&&this.startObserver()}unmount(){}}function X9({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const W9={inView:{Feature:Q9},tap:{Feature:q9},focus:{Feature:F9},hover:{Feature:z9}},Z9={layout:{ProjectionNode:tC,MeasureLayout:KR}},J9={...LU,...W9,...B9,...Z9},ae=JL(J9,fU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),w1=e=>{const t=e5(e);return t.charAt(0).toUpperCase()+t.slice(1)},eC=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),n5=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},m)=>k.createElement("svg",{ref:m,...i5,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:eC("lucide",a),...!l&&!n5(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>k.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=(e,t)=>{const n=k.forwardRef(({className:s,...a},l)=>k.createElement(s5,{ref:l,iconNode:t,className:eC(`lucide-${t5(w1(e))}`,`lucide-${e}`,s),...a}));return n.displayName=w1(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],a5=Mn("book-open",r5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],l5=Mn("briefcase",o5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],c5=Mn("calendar",u5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],f5=Mn("dumbbell",h5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],m5=Mn("globe",d5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],g5=Mn("heart-pulse",p5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],v5=Mn("laptop",y5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],T5=Mn("map-pin",_5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],b5=Mn("music",E5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],A5=Mn("palette",w5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],x5=Mn("star",S5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],nC=Mn("users",R5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],I5=Mn("utensils",C5);function D5(){const e=[{name:"Technology",icon:x.jsx(v5,{size:28}),color:"bg-blue-500"},{name:"Business",icon:x.jsx(l5,{size:28}),color:"bg-green-500"},{name:"Arts",icon:x.jsx(A5,{size:28}),color:"bg-purple-500"},{name:"Sports",icon:x.jsx(f5,{size:28}),color:"bg-orange-500"},{name:"Music",icon:x.jsx(b5,{size:28}),color:"bg-pink-500"},{name:"Food",icon:x.jsx(I5,{size:28}),color:"bg-yellow-500"},{name:"Education",icon:x.jsx(a5,{size:28}),color:"bg-indigo-500"},{name:"Health",icon:x.jsx(g5,{size:28}),color:"bg-red-500"}];return x.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 relative",children:x.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col justify-center items-center text-center px-4 pt-28 md:pt-32",children:[x.jsxs(ae.h1,{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 text-gray-900 leading-snug sm:leading-tight",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8},children:["Welcome to ",x.jsx("span",{className:"text-purple-600",children:"EventManager"})]}),x.jsx(ae.p,{className:"mb-8 text-base sm:text-lg md:text-xl text-gray-600 max-w-xl sm:max-w-2xl",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.3},children:"Discover amazing events happening around you or create your own memorable experiences. Connect with your community and make every moment count."}),x.jsxs(ae.div,{className:"flex flex-col sm:flex-row gap-4 sm:gap-6 mb-12",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.6},children:[x.jsx(Qe,{to:"/create-event",className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-md hover:shadow-lg transition font-semibold rounded-full",children:"Create Event"}),x.jsx(Qe,{to:"/all-events",className:"px-6 py-3 border border-purple-500 text-purple-600 hover:bg-purple-50 transition font-semibold rounded-full",children:"Browse Events"})]}),x.jsxs(ae.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 sm:gap-8 w-full max-w-5xl",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.9},children:[x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow hover:shadow-lg transition",children:[x.jsx(c5,{className:"w-8 h-8 text-purple-500 mx-auto mb-3"}),x.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"1,234"}),x.jsx("p",{className:"text-gray-600",children:"Total Events"})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow hover:shadow-lg transition",children:[x.jsx(nC,{className:"w-8 h-8 text-purple-700 mx-auto mb-3"}),x.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"12,456"}),x.jsx("p",{className:"text-gray-600",children:"Active Users"})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow hover:shadow-lg transition",children:[x.jsx(m5,{className:"w-8 h-8 text-blue-500 mx-auto mb-3"}),x.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"45"}),x.jsx("p",{className:"text-gray-600",children:"Cities"})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow hover:shadow-lg transition",children:[x.jsx(x5,{className:"w-8 h-8 text-yellow-500 mx-auto mb-3"}),x.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"98%"}),x.jsx("p",{className:"text-gray-600",children:"Success Rate"})]})]}),x.jsxs(ae.div,{className:"mt-16 sm:mt-20 w-full max-w-6xl px-2 sm:px-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.2},children:[x.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-900",children:"Event Categories"}),x.jsx("p",{className:"text-center text-gray-600 mt-2",children:"Find events that match your interests"}),x.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 sm:gap-6 mt-8",children:e.map((t,n)=>x.jsxs("div",{className:`${t.color} flex flex-col items-center justify-center p-6 text-white rounded-lg shadow hover:shadow-lg transition`,children:[t.icon,x.jsx("span",{className:"mt-3 font-semibold text-sm sm:text-base",children:t.name})]},n))})]})]})})}function t0({event:e}){const t=Or(),{user:n}=_l(),[s,a]=k.useState(!1);k.useMemo(()=>{const d=["bg-red-200 text-red-900","bg-blue-200 text-blue-900","bg-green-200 text-green-900","bg-purple-200 text-purple-900","bg-yellow-200 text-yellow-900","bg-pink-200 text-pink-900"];return Array.from({length:e.participants||0},(m,p)=>d[p%d.length])},[e.participants]);const l=()=>{t(n?`/event/${e.id}`:"/login")},c=()=>a(!s);return x.jsxs("div",{className:"w-full max-w-sm bg-gradient-to-r from-purple-600 to-blue-500 shadow-lg hover:shadow-2xl overflow-hidden rounded-lg text-white transform transition duration-500 hover:-translate-y-2 hover:scale-105",children:[x.jsxs("div",{className:"relative h-44 group overflow-hidden rounded-t-lg",children:[x.jsx("img",{src:e.img,alt:e.title,className:"w-full h-full object-cover transition duration-500 group-hover:brightness-75"}),x.jsx("span",{className:"absolute top-3 left-3 bg-white/30 text-white text-xs font-medium px-3 py-1 rounded-full",children:e.category}),x.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition duration-500",children:x.jsxs("p",{className:"text-2xl font-bold text-white",children:["🏆 Prize Pool: ₹",e.prize]})})]}),x.jsxs("div",{className:"p-4 flex flex-col",children:[x.jsx("h2",{className:"text-lg font-bold text-white",children:e.title}),x.jsxs("p",{className:"text-white text-sm mt-1",children:[s?e.description:`${e.description.slice(0,100)}... `,e.description.length>100&&x.jsx("button",{onClick:c,className:"text-yellow-300 font-semibold ml-1 hover:underline",children:s?"Show Less":"Read More"})]}),x.jsxs("div",{className:"mt-3 space-y-2 text-sm text-white",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(T5,{className:"w-4 h-4 text-white"}),x.jsx("span",{children:e.location})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(nC,{className:"w-4 h-4 text-white"}),x.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-white/20 text-white text-sm font-semibold shadow-sm",children:e.participants>0?`${e.participants} participant${e.participants>1?"s":""}`:"No participants yet"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-sm font-semibold text-white",children:"Start:"}),x.jsx("span",{children:e.startDate}),x.jsx("span",{className:"text-sm font-semibold text-white ml-2",children:"End:"}),x.jsx("span",{children:e.endDate})]})]}),x.jsx("button",{onClick:l,className:"mt-4 w-full bg-white text-purple-900 py-2 font-medium rounded-md hover:bg-indigo-700 transition shadow-md hover:shadow-xl",children:"Join Event"})]})]})}function N5(){const[e,t]=k.useState([]),n=async()=>{try{const s=fx(qa(Pn,"events"),dx("status","==",!0)),l=(await Wf(s)).docs.map(c=>({id:c.id,...c.data()}));t(l)}catch(s){console.error("Error fetching events: ",s)}};return k.useEffect(()=>{window.scrollTo(0,0)},[]),k.useEffect(()=>{n()},[]),x.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[x.jsx("section",{className:"relative h-[80vh] sm:h-[90vh] flex flex-col justify-center items-center text-center bg-cover bg-center overflow-hidden px-4",style:{backgroundImage:"url('/hero-background.jpg')"},children:x.jsxs("div",{className:"relative z-10 max-w-3xl",children:[x.jsxs(ae.h1,{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold text-white drop-shadow-lg leading-snug sm:leading-tight",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:1},children:["Discover & Join ",x.jsx("span",{className:"text-purple-400",children:"Unforgettable Events"})]}),x.jsx(ae.p,{className:"mt-4 sm:mt-6 text-base sm:text-lg md:text-xl text-gray-200 drop-shadow-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1,delay:.3},children:"Explore upcoming events, connect with amazing people, and create lasting memories."}),x.jsxs(ae.div,{className:"mt-6 sm:mt-8 flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:.6},children:[x.jsx("a",{href:"all-events",className:"px-6 py-3 bg-purple-500 hover:bg-purple-600 text-white rounded-full font-semibold shadow-lg transition",children:"Explore Events"}),x.jsx("a",{href:"/create-event",className:"px-6 py-3 bg-white text-blue-700 hover:bg-gray-100 rounded-full font-semibold shadow-lg transition",children:"Create Event"})]})]})}),x.jsxs("section",{className:"py-12 sm:py-16 px-4 max-w-7xl mx-auto",children:[x.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-blue-800 mb-8 text-center",children:"Upcoming Events"}),x.jsx(ae.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:{hidden:{},visible:{transition:{staggerChildren:.2}}},children:e.length>0?e.map(s=>x.jsx(ae.div,{className:"hover:scale-105 transform transition duration-500",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:x.jsx(t0,{event:s})},s.id)):x.jsx("p",{className:"text-center col-span-full text-gray-500 mt-10",children:"No upcoming events available."})})]}),x.jsxs("section",{className:"py-16 sm:py-20 px-4 bg-white",children:[x.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-blue-800 mb-12 text-center",children:"Why Attend Events?"}),x.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 sm:gap-8",children:[{img:"https://cdn.leonardo.ai/users/91c398ec-b0c3-4153-970f-9ac8075e2f67/generations/d93e350b-3ee7-48c4-9c16-42fe461fe273/segments/4:4:1/Flux_Dev_create_a_picture_of_a_group_of_people_from_diverse_ba_3.jpg",title:"Networking",desc:"Connect with like-minded people and grow your opportunities."},{img:"https://cdn.leonardo.ai/users/91c398ec-b0c3-4153-970f-9ac8075e2f67/generations/d93e350b-3ee7-48c4-9c16-42fe461fe273/segments/2:4:1/Flux_Dev_create_a_picture_of_a_group_of_people_from_diverse_ba_1.jpg",title:"Learning",desc:"Gain knowledge from experts, workshops, and experiences."},{img:"https://cdn.leonardo.ai/users/91c398ec-b0c3-4153-970f-9ac8075e2f67/generations/d93e350b-3ee7-48c4-9c16-42fe461fe273/segments/1:4:1/Flux_Dev_create_a_picture_of_a_group_of_people_from_diverse_ba_0.jpg",title:"Experience",desc:"Participate in fun and engaging events to create memories."}].map((s,a)=>x.jsxs(ae.div,{className:"flex flex-col items-center text-center p-6 border rounded-lg bg-white hover:shadow-md transition",whileHover:{scale:1.03},children:[x.jsx("img",{src:s.img,alt:s.title,className:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-full mb-4"}),x.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-blue-700 mb-2",children:s.title}),x.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:s.desc})]},a))})]}),x.jsxs("section",{className:"py-16 sm:py-20 px-4 bg-gradient-to-r from-purple-600 to-blue-400 text-center text-white rounded-xl mx-2 sm:mx-10 md:mx-20 shadow-xl",children:[x.jsx(ae.h2,{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-4",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8},children:"Host Your Own Event!"}),x.jsx(ae.p,{className:"mb-6 text-base sm:text-lg md:text-xl",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.3},children:"Create and manage your events easily on our platform."}),x.jsx(ae.a,{href:"/create-event",className:"px-6 sm:px-8 py-3 bg-white text-blue-600 font-semibold rounded-full hover:bg-gray-100 transition duration-300 inline-block",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,delay:.6},children:"Create Event"})]})]})}let P5={data:""},V5=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||P5,M5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,O5=/\/\*[^]*?\*\/|  +/g,A1=/\n+/g,_r=(e,t)=>{let n="",s="",a="";for(let l in e){let c=e[l];l[0]=="@"?l[1]=="i"?n=l+" "+c+";":s+=l[1]=="f"?_r(c,l):l+"{"+_r(c,l[1]=="k"?"":t)+"}":typeof c=="object"?s+=_r(c,t?t.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,d):d?d+" "+m:m)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=_r.p?_r.p(l,c):l+":"+c+";")}return n+(t&&a?t+"{"+a+"}":a)+s},ms={},iC=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+iC(e[n]);return t}return e},k5=(e,t,n,s,a)=>{let l=iC(e),c=ms[l]||(ms[l]=(m=>{let p=0,y=11;for(;p<m.length;)y=101*y+m.charCodeAt(p++)>>>0;return"go"+y})(l));if(!ms[c]){let m=l!==e?e:(p=>{let y,_,E=[{}];for(;y=M5.exec(p.replace(O5,""));)y[4]?E.shift():y[3]?(_=y[3].replace(A1," ").trim(),E.unshift(E[0][_]=E[0][_]||{})):E[0][y[1]]=y[2].replace(A1," ").trim();return E[0]})(e);ms[c]=_r(a?{["@keyframes "+c]:m}:m,n?"":"."+c)}let d=n&&ms.g?ms.g:null;return n&&(ms.g=ms[c]),((m,p,y,_)=>{_?p.data=p.data.replace(_,m):p.data.indexOf(m)===-1&&(p.data=y?m+p.data:p.data+m)})(ms[c],t,s,d),c},L5=(e,t,n)=>e.reduce((s,a,l)=>{let c=t[l];if(c&&c.call){let d=c(n),m=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=m?"."+m:d&&typeof d=="object"?d.props?"":_r(d,""):d===!1?"":d}return s+a+(c??"")},"");function kd(e){let t=this||{},n=e.call?e(t.p):e;return k5(n.unshift?n.raw?L5(n,[].slice.call(arguments,1),t.p):n.reduce((s,a)=>Object.assign(s,a&&a.call?a(t.p):a),{}):n,V5(t.target),t.g,t.o,t.k)}let sC,my,py;kd.bind({g:1});let Ds=kd.bind({k:1});function U5(e,t,n,s){_r.p=t,sC=e,my=n,py=s}function Fr(e,t){let n=this||{};return function(){let s=arguments;function a(l,c){let d=Object.assign({},l),m=d.className||a.className;n.p=Object.assign({theme:my&&my()},d),n.o=/ *go\d+/.test(m),d.className=kd.apply(n,s)+(m?" "+m:"");let p=e;return e[0]&&(p=d.as||e,delete d.as),py&&p[0]&&py(d),sC(p,d)}return a}}var j5=e=>typeof e=="function",gy=(e,t)=>j5(e)?e(t):e,B5=(()=>{let e=0;return()=>(++e).toString()})(),z5=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),F5=20,rC="default",aC=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(c=>c.id===t.toast.id?{...c,...t.toast}:c)};case 2:let{toast:s}=t;return aC(e,{type:e.toasts.find(c=>c.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(c=>c.id===a||a===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(c=>c.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+l}))}}},q5=[],H5={toasts:[],pausedAt:void 0,settings:{toastLimit:F5}},nl={},oC=(e,t=rC)=>{nl[t]=aC(nl[t]||H5,e),q5.forEach(([n,s])=>{n===t&&s(nl[t])})},lC=e=>Object.keys(nl).forEach(t=>oC(e,t)),G5=e=>Object.keys(nl).find(t=>nl[t].toasts.some(n=>n.id===e)),e0=(e=rC)=>t=>{oC(t,e)},K5=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||B5()}),Uc=e=>(t,n)=>{let s=K5(t,e,n);return e0(s.toasterId||G5(s.id))({type:2,toast:s}),s.id},ce=(e,t)=>Uc("blank")(e,t);ce.error=Uc("error");ce.success=Uc("success");ce.loading=Uc("loading");ce.custom=Uc("custom");ce.dismiss=(e,t)=>{let n={type:3,toastId:e};t?e0(t)(n):lC(n)};ce.dismissAll=e=>ce.dismiss(void 0,e);ce.remove=(e,t)=>{let n={type:4,toastId:e};t?e0(t)(n):lC(n)};ce.removeAll=e=>ce.remove(void 0,e);ce.promise=(e,t,n)=>{let s=ce.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let l=t.success?gy(t.success,a):void 0;return l?ce.success(l,{id:s,...n,...n?.success}):ce.dismiss(s),a}).catch(a=>{let l=t.error?gy(t.error,a):void 0;l?ce.error(l,{id:s,...n,...n?.error}):ce.dismiss(s)}),e};var $5=Ds`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Y5=Ds`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Q5=Ds`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,X5=Fr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Y5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Q5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,W5=Ds`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Z5=Fr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${W5} 1s linear infinite;
`,J5=Ds`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,tj=Ds`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ej=Fr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${J5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${tj} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,nj=Fr("div")`
  position: absolute;
`,ij=Fr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,sj=Ds`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rj=Fr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${sj} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,aj=({toast:e})=>{let{icon:t,type:n,iconTheme:s}=e;return t!==void 0?typeof t=="string"?k.createElement(rj,null,t):t:n==="blank"?null:k.createElement(ij,null,k.createElement(Z5,{...s}),n!=="loading"&&k.createElement(nj,null,n==="error"?k.createElement(X5,{...s}):k.createElement(ej,{...s})))},oj=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,lj=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,uj="0%{opacity:0;} 100%{opacity:1;}",cj="0%{opacity:1;} 100%{opacity:0;}",hj=Fr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,fj=Fr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,dj=(e,t)=>{let n=e.includes("top")?1:-1,[s,a]=z5()?[uj,cj]:[oj(n),lj(n)];return{animation:t?`${Ds(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ds(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};k.memo(({toast:e,position:t,style:n,children:s})=>{let a=e.height?dj(e.position||t||"top-center",e.visible):{opacity:0},l=k.createElement(aj,{toast:e}),c=k.createElement(fj,{...e.ariaProps},gy(e.message,e));return k.createElement(hj,{className:e.className,style:{...a,...n,...e.style}},typeof s=="function"?s({icon:l,message:c}):k.createElement(k.Fragment,null,l,c))});U5(k.createElement);kd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var mj=ce;function pj(){const{user:e,loading:t}=_l(),n=Or(),[s,a]=k.useState({title:"",startDate:"",endDate:"",location:"",description:"",teamSize:"",imgURL:"",prize:"",category:""});k.useEffect(()=>{window.scrollTo(0,0),!t&&!e&&(ce.success("Please login to create an event"),n("/login"))},[e,t,n]);const l=async c=>{if(c.preventDefault(),!e){ce.error("You must be logged in to create an event"),n("/login");return}const{title:d,startDate:m,endDate:p,location:y,teamSize:_,imgURL:E,prize:S,description:P,category:z}=s;if(!d||!m||!p||!y||!_||!E||!S||!P||!z)return alert("Please fill all fields including category");if(new Date(p)<new Date(m))return alert("End date cannot be before start date");try{await Tv(qa(Pn,"events"),{...s,teamSize:Number(_),participants:0,status:!1,img:s.imgURL,userId:e?.uid,createdAt:Sk()}),ce.success("Event Created Successfully!"),a({title:"",startDate:"",endDate:"",location:"",description:"",teamSize:"",imgURL:"",prize:"",category:""}),n("/all-events")}catch(M){console.error(M),ce.error("Error creating event: "+M.message)}};return t?x.jsx("div",{className:"flex items-center justify-center min-h-screen bg-white",children:x.jsx("p",{className:"text-purple-800 font-semibold text-xl",children:"Checking login status..."})}):x.jsxs("div",{className:"min-h-screen py-12 px-4 bg-gray-100",children:[x.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-purple-800 mb-8 text-center",children:"Create New Event"}),x.jsxs(ae.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-5xl mx-auto flex flex-col md:flex-row gap-8 rounded-2xl p-6 md:p-8 bg-gradient-to-r from-purple-600 to-blue-500 shadow-2xl border border-purple-300",children:[x.jsx("div",{className:"flex-1",children:x.jsxs("form",{className:"space-y-4",onSubmit:l,children:[x.jsx("input",{type:"text",placeholder:"Event Title",value:s.title,onChange:c=>a({...s,title:c.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-400 transition"}),x.jsx("input",{type:"date",placeholder:"Start Date",value:s.startDate,onChange:c=>a({...s,startDate:c.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-400 transition"}),x.jsx("input",{type:"date",placeholder:"End Date",value:s.endDate,onChange:c=>a({...s,endDate:c.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-400 transition"}),x.jsx("input",{type:"text",placeholder:"Location",value:s.location,onChange:c=>a({...s,location:c.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-400 transition"}),x.jsx("input",{type:"number",placeholder:"Team Size",value:s.teamSize,onChange:c=>a({...s,teamSize:c.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-400 transition"}),x.jsx("input",{type:"text",placeholder:"Image URL",value:s.imgURL,onChange:c=>a({...s,imgURL:c.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-400 transition"}),x.jsx("input",{type:"text",placeholder:"Prize",value:s.prize,onChange:c=>a({...s,prize:c.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-400 transition"}),x.jsxs("select",{value:s.category,onChange:c=>a({...s,category:c.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-400 transition",children:[x.jsx("option",{value:"",children:"Select Category"}),x.jsx("option",{value:"Technical",children:"Technical"}),x.jsx("option",{value:"Sport",children:"Sport"}),x.jsx("option",{value:"Food",children:"Food"}),x.jsx("option",{value:"Gaming",children:"Gaming"}),x.jsx("option",{value:"Dance",children:"Dance"})]}),x.jsx("textarea",{placeholder:"Description",value:s.description,onChange:c=>a({...s,description:c.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-400 transition"}),x.jsx("button",{type:"submit",className:"w-full py-3 bg-white text-purple-800 rounded-lg hover:bg-purple-800 transition font-semibold shadow-md hover:shadow-xl",children:"Create Event"})]})}),x.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.imgURL?x.jsx(ae.img,{src:s.imgURL,alt:"Event Preview",className:"rounded-xl shadow-lg max-h-72 object-cover border border-purple-200",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5}}):x.jsx("div",{className:"w-full h-72 border-2 border-dashed border-purple-300 rounded-xl flex items-center justify-center text-white",children:"Image Preview"})})]})]})}function gj(){const[e,t]=k.useState([]),[n,s]=k.useState(""),[a,l]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const m=fx(qa(Pn,"events"),dx("status","==",!0)),y=(await Wf(m)).docs.map(_=>({id:_.id,..._.data()}));t(y)}catch(m){console.error("Error fetching events:",m)}finally{l(!1)}})()},[]),k.useEffect(()=>{window.scrollTo(0,0)},[]);const c=e.filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.location.toLowerCase().includes(n.toLowerCase()));return x.jsxs("div",{className:"bg-white min-h-screen",children:[x.jsxs("section",{className:"h-64 flex flex-col justify-center items-center text-center relative",children:[x.jsx(ae.h1,{className:"text-4xl md:text-5xl font-bold text-purple-900",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8},children:"Explore All Events"}),x.jsx(ae.p,{className:"text-purple-700 mt-2 max-w-xl",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.3},children:"Discover approved events and join amazing experiences around you."})]}),x.jsx("section",{className:"py-8 px-4 max-w-4xl mx-auto",children:x.jsx("input",{type:"text",placeholder:"Search by event title or location...",value:n,onChange:d=>s(d.target.value),className:"w-full border-2 border-purple-400 p-4 rounded-xl shadow-sm focus:ring-2 focus:ring-purple-500 focus:outline-none transition"})}),x.jsx("section",{className:"max-w-6xl mx-auto px-4 py-10",children:a?x.jsx("p",{className:"text-center text-purple-600 font-medium",children:"Loading events..."}):c.length>0?x.jsx(ae.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:{hidden:{},visible:{transition:{staggerChildren:.2}}},children:c.map(d=>x.jsx(ae.div,{className:"hover:scale-105 transform transition duration-500",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:x.jsx(t0,{event:d})},d.id))}):x.jsx("p",{className:"text-center text-purple-600",children:"No events found."})})]})}function yj(){const[e,t]=k.useState([]),[n,s]=k.useState([]),{user:a}=_l(),l=Or();k.useEffect(()=>{(!a||a.email!=="bharbatdivyansh1@gmail.com")&&l("/")},[a,l]);const c=async()=>{try{const E=(await Wf(qa(Pn,"events"))).docs.map(S=>({id:S.id,...S.data()}));t(E)}catch(_){console.error("Error fetching events: ",_)}},d=async()=>{try{const E=(await Wf(qa(Pn,"users"))).docs.map(S=>({id:S.id,...S.data()}));s(E)}catch(_){console.error("Error fetching users: ",_)}};k.useEffect(()=>{c(),d(),window.scrollTo(0,0)},[]);const m=async _=>{try{const E=bs(Pn,"events",_);await yx(E,{status:!0}),t(e.map(S=>S.id===_?{...S,status:!0}:S))}catch(E){console.error("Error updating event: ",E)}},p=async _=>{try{await sw(bs(Pn,"events",_)),t(e.filter(E=>E.id!==_))}catch(E){console.error("Error deleting event: ",E)}},y=async _=>{try{await sw(bs(Pn,"users",_)),s(n.filter(E=>E.id!==_))}catch(E){console.error("Error deleting user: ",E)}};return x.jsxs("div",{className:"min-h-screen bg-white py-12 px-6",children:[x.jsx("h1",{className:"text-4xl font-extrabold text-center text-purple-900 mb-10",children:"Admin Panel"}),x.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-6",children:"📅 Manage Events"}),e.length===0?x.jsx("p",{className:"text-purple-600 text-center mb-10",children:"No events available"}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:e.map(_=>x.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg hover:shadow-xl transition-all p-6 border border-purple-200",children:[x.jsx(t0,{event:_}),x.jsx("span",{className:`absolute top-4 right-4 px-3 py-1 text-sm font-semibold rounded-full shadow-md ${_.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:_.status?"Approved":"Pending"}),x.jsxs("div",{className:"flex gap-3 mt-6",children:[!_.status&&x.jsx("button",{onClick:()=>m(_.id),className:"flex-1 bg-purple-700 text-white py-2 rounded-lg shadow hover:bg-purple-800 transition font-medium",children:"Accept"}),x.jsx("button",{onClick:()=>p(_.id),className:"flex-1 bg-red-600 text-white py-2 rounded-lg shadow hover:bg-red-700 transition font-medium",children:"Delete"})]})]},_.id))}),x.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-6",children:"👥 Manage Users"}),n.length===0?x.jsx("p",{className:"text-purple-600 text-center",children:"No users registered"}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full bg-white border border-purple-200 rounded-lg shadow-md overflow-hidden",children:[x.jsx("thead",{className:"bg-purple-700 text-white",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left",children:"Id"}),x.jsx("th",{className:"px-6 py-3 text-left",children:"Email"}),x.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),x.jsx("tbody",{children:n.map(_=>x.jsxs("tr",{className:"border-b border-purple-200",children:[x.jsx("td",{className:"px-6 py-3 text-purple-900",children:_.id||"N/A"}),x.jsx("td",{className:"px-6 py-3 text-purple-900",children:_.email}),x.jsx("td",{className:"px-6 py-3 text-right",children:x.jsx("button",{onClick:()=>y(_.id),className:"bg-red-600 text-white px-4 py-2 rounded-lg shadow hover:bg-red-700 transition",children:"Delete"})})]},_.id))})]})})]})}function uC(e){return Ev({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(e)}function vj(){const[e,t]=k.useState(""),[n,s]=k.useState(""),{login:a,loginWithGoogle:l,user:c}=_l(),d=Or();k.useEffect(()=>{c&&(d("/home"),window.scrollTo(0,0))},[c,d]),k.useEffect(()=>{window.scrollTo(0,0)},[]);const m=async y=>{if(y.preventDefault(),!e||!n)return alert("Please fill all fields");try{await a(e,n),toast.success("Login Successfully"),setTimeout(()=>{d("/home")},2e3),window.scrollTo(0,0)}catch(_){alert(_.message)}},p=async()=>{try{await l(),toast.success("Login Successfully"),setTimeout(()=>{d("/home")},2e3),window.scrollTo(0,0)}catch(y){alert(y.message)}};return x.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[x.jsx("div",{className:"flex-1 flex justify-center items-center",children:x.jsxs(ae.div,{className:"w-full max-w-md p-10 bg-white border-2 rounded-2xl shadow-xl",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:[x.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-purple-800 mb-6 text-center",children:"Welcome Back"}),x.jsx("p",{className:"text-purple-600 mb-8 text-center",children:"Sign in to your account and start managing your events"}),x.jsxs("form",{onSubmit:m,className:"space-y-4",children:[x.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:y=>t(y.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-purple-400 focus:outline-none transition"}),x.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:y=>s(y.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-purple-400 focus:outline-none transition"}),x.jsx("button",{type:"submit",className:"w-full py-3 border-2 bg-purple-500 text-white rounded-lg hover:bg-purple-100 transition font-semibold",children:"Sign In"})]}),x.jsxs("div",{className:"flex items-center justify-center space-x-3 my-4",children:[x.jsx("span",{className:"border-b w-16 border-gray-300"}),x.jsx("span",{className:"text-gray-500 font-medium",children:"or"}),x.jsx("span",{className:"border-b w-16 border-gray-300"})]}),x.jsxs("button",{onClick:p,className:"flex items-center justify-center w-full border border-gray-300 py-3 rounded-lg hover:shadow-lg transition",children:[x.jsx(uC,{className:"mr-2 text-2xl"}),x.jsx("span",{className:"text-purple-900 font-semibold",children:"Sign in with Google"})]})]})}),x.jsx(ae.div,{className:"flex-1 hidden md:flex items-center justify-center",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:x.jsx("img",{src:"https://img.freepik.com/premium-vector/desktop-mobile-illustration-login-page-data-analysis_559664-335.jpg?semt=ais_incoming&w=740&q=80",alt:"Login Illustration",className:"w-full h-full object-cover"})})]})}function _j(){const[e,t]=k.useState(""),[n,s]=k.useState(""),[a,l]=k.useState(""),{register:c,loginWithGoogle:d,user:m}=_l(),p=Or();k.useEffect(()=>{m&&(p("/home"),window.scrollTo(0,0))},[m,p]),k.useEffect(()=>{window.scrollTo(0,0)},[]);const y=async E=>{if(E.preventDefault(),!e||!n||!a)return ce.error("Please fill all fields");n!==a&&ce.error("Passwords do not match");try{await c(e,n),p("/home"),window.scrollTo(0,0)}catch(S){S.code==="auth/email-already-in-use"?alert("This email is already registered with Google. Please login using Google or set a password in your profile."):alert(S.message)}},_=async()=>{try{await d(),p("/home"),window.scrollTo(0,0)}catch(E){alert(E.message)}};return x.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[x.jsx(mj,{}),x.jsx("div",{className:"flex-1 flex justify-center items-center",children:x.jsxs(ae.div,{className:"w-full max-w-md p-10 bg-white border-2 rounded-2xl shadow-xl",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:[x.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-purple-800 mb-6 text-center",children:"Create Account"}),x.jsx("p",{className:"text-purple-600 mb-8 text-center",children:"Sign up to manage your events efficiently"}),x.jsxs("form",{onSubmit:y,className:"space-y-4",children:[x.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:E=>t(E.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-purple-400 focus:outline-none transition"}),x.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:E=>s(E.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-purple-400 focus:outline-none transition"}),x.jsx("input",{type:"password",placeholder:"Confirm Password",value:a,onChange:E=>l(E.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-purple-400 focus:outline-none transition"}),x.jsx("button",{type:"submit",className:"w-full py-3 border-2 bg-purple-500 text-white rounded-lg hover:bg-purple-100 transition font-semibold",children:"Sign Up"})]}),x.jsxs("div",{className:"flex items-center justify-center space-x-3 my-4",children:[x.jsx("span",{className:"border-b w-16 border-gray-300"}),x.jsx("span",{className:"text-gray-500 font-medium",children:"or"}),x.jsx("span",{className:"border-b w-16 border-gray-300"})]}),x.jsxs("button",{onClick:_,className:"flex items-center justify-center w-full border border-gray-300 py-3 rounded-lg hover:shadow-lg transition",children:[x.jsx(uC,{className:"mr-2 text-2xl"}),x.jsx("span",{className:"text-purple-900 font-semibold",children:"Sign up with Google"})]})]})}),x.jsx(ae.div,{className:"flex-1 hidden md:flex items-center justify-center",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:x.jsx("img",{src:"https://img.freepik.com/premium-vector/sign-page-illustration-design-template_559664-159.jpg?w=1480",alt:"Signup Illustration",className:"w-full h-full object-contain mx-auto"})})]})}function Tj(){const{uid:e}=wI(),t=Or(),[n,s]=k.useState(null),[a,l]=k.useState(!0),[c,d]=k.useState([]),[m,p]=k.useState(!1);k.useEffect(()=>{(async()=>{try{const S=bs(Pn,"events",e),P=await wk(S);if(P.exists()){const z=P.data();s(z);const M=Array.from({length:z.teamSize||1},()=>({name:"",email:"",mobile:"",college:""}));d(M)}}catch(S){console.error("Error fetching event:",S)}finally{l(!1)}})()},[e]);const y=(E,S,P)=>{const z=[...c];z[E][S]=P,d(z)},_=async E=>{E.preventDefault(),p(!0);try{await Tv(qa(Pn,"registrations"),{eventId:e,participants:c,createdAt:new Date});const S=bs(Pn,"events",e);await yx(S,{participants:xk(1)}),alert("✅ Registration Successful!"),t("/home")}catch(S){console.error("Error registering:",S),alert("❌ Failed to register. Try again.")}finally{p(!1)}};return a?x.jsx("p",{className:"text-center mt-10",children:"Loading event..."}):n?x.jsxs("div",{className:"max-w-2xl mx-auto bg-white shadow-md rounded-lg p-6 mt-10",children:[x.jsxs("h1",{className:"text-2xl font-bold text-indigo-600 mb-4",children:["Register for ",n.title]}),x.jsxs("form",{onSubmit:_,className:"space-y-6",children:[c.map((E,S)=>x.jsxs("div",{className:"border p-4 rounded-md bg-gray-50 space-y-3",children:[x.jsxs("h2",{className:"font-semibold text-gray-700",children:["Participant ",S+1]}),x.jsx("input",{type:"text",placeholder:"Full Name",value:E.name,onChange:P=>y(S,"name",P.target.value),className:"w-full border px-3 py-2 rounded-md",required:!0}),x.jsx("input",{type:"email",placeholder:"Email",value:E.email,onChange:P=>y(S,"email",P.target.value),className:"w-full border px-3 py-2 rounded-md",required:!0}),x.jsx("input",{type:"tel",placeholder:"Mobile Number",value:E.mobile,onChange:P=>y(S,"mobile",P.target.value),className:"w-full border px-3 py-2 rounded-md",required:!0}),x.jsx("input",{type:"text",placeholder:"College Name",value:E.college,onChange:P=>y(S,"college",P.target.value),className:"w-full border px-3 py-2 rounded-md",required:!0})]},S)),x.jsx("button",{type:"submit",disabled:m,className:"w-full bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700 disabled:opacity-50",children:m?"Registering...":"Submit Registration"})]})]}):x.jsx("p",{className:"text-center mt-10",children:"Event not found"})}function Ej(){return x.jsxs(oD,{children:[x.jsx(T3,{}),x.jsx("div",{className:"pt-20",children:x.jsxs(UI,{children:[x.jsx(ps,{path:"/",element:x.jsx(D5,{})}),x.jsx(ps,{path:"/home",element:x.jsx(N5,{})}),x.jsx(ps,{path:"/create-event",element:x.jsx(pj,{})}),x.jsx(ps,{path:"/all-events",element:x.jsx(gj,{})}),x.jsx(ps,{path:"/admin",element:x.jsx(yj,{})}),x.jsx(ps,{path:"/login",element:x.jsx(vj,{})}),x.jsx(ps,{path:"/event/:uid",element:x.jsx(Tj,{})}),x.jsx(ps,{path:"/signup",element:x.jsx(_j,{})})]})}),x.jsx(E3,{})]})}$2.createRoot(document.getElementById("root")).render(x.jsx(k.StrictMode,{children:x.jsx(c3,{children:x.jsx(Ej,{})})}));
